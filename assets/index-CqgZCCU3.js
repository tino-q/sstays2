var Sp=Object.defineProperty;var _p=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ro=(e,t,n)=>_p(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var qd={exports:{}},Zi={},Kd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),kp=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),bp=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),Hu=Symbol.iterator;function $p(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var Wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jd=Object.assign,Qd={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Wd}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yd(){}Yd.prototype=Sr.prototype;function Al(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Wd}var Il=Al.prototype=new Yd;Il.constructor=Al;Jd(Il,Sr.prototype);Il.isPureReactComponent=!0;var Gu=Array.isArray,Xd=Object.prototype.hasOwnProperty,Dl={current:null},Zd={key:!0,ref:!0,__self:!0,__source:!0};function ef(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Xd.call(t,r)&&!Zd.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:js,type:e,key:i,ref:o,props:s,_owner:Dl.current}}function Op(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fl(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function Ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qu=/\/+/g;function Po(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ap(""+e.key):t.toString(36)}function ui(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case js:case kp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Po(o,0):r,Gu(s)?(n="",e!=null&&(n=e.replace(qu,"$&/")+"/"),ui(s,t,n,"",function(u){return u})):s!=null&&(Fl(s)&&(s=Op(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Gu(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Po(i,a);o+=ui(i,t,n,l,s)}else if(l=$p(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Po(i,a++),o+=ui(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fs(e,t,n){if(e==null)return e;var r=[],s=0;return ui(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},ci={transition:null},Dp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ci,ReactCurrentOwner:Dl};function tf(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Fs,forEach:function(e,t,n){Fs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fs(e,function(){t++}),t},toArray:function(e){return Fs(e,function(t){return t})||[]},only:function(e){if(!Fl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Sr;q.Fragment=Cp;q.Profiler=jp;q.PureComponent=Al;q.StrictMode=Ep;q.Suspense=Np;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dp;q.act=tf;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Xd.call(t,l)&&!Zd.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:js,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:Pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rp,_context:e},e.Consumer=e};q.createElement=ef;q.createFactory=function(e){var t=ef.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Tp,render:e}};q.isValidElement=Fl;q.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:Ip}};q.memo=function(e,t){return{$$typeof:bp,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ci.transition;ci.transition={};try{e()}finally{ci.transition=t}};q.unstable_act=tf;q.useCallback=function(e,t){return Pe.current.useCallback(e,t)};q.useContext=function(e){return Pe.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};q.useEffect=function(e,t){return Pe.current.useEffect(e,t)};q.useId=function(){return Pe.current.useId()};q.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Pe.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};q.useRef=function(e){return Pe.current.useRef(e)};q.useState=function(e){return Pe.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Pe.current.useTransition()};q.version="18.3.1";Kd.exports=q;var S=Kd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=S,Mp=Symbol.for("react.element"),Up=Symbol.for("react.fragment"),zp=Object.prototype.hasOwnProperty,Vp=Fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bp={key:!0,ref:!0,__self:!0,__source:!0};function nf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zp.call(t,r)&&!Bp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Mp,type:e,key:i,ref:o,props:s,_owner:Vp.current}}Zi.Fragment=Up;Zi.jsx=nf;Zi.jsxs=nf;qd.exports=Zi;var d=qd.exports,Sa={},rf={exports:{}},Ve={},sf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var $=T.length;T.push(D);e:for(;0<$;){var z=$-1>>>1,K=T[z];if(0<s(K,D))T[z]=D,T[$]=K,$=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var D=T[0],$=T.pop();if($!==D){T[0]=$;e:for(var z=0,K=T.length,He=K>>>1;z<He;){var Xe=2*(z+1)-1,Ft=T[Xe],St=Xe+1,An=T[St];if(0>s(Ft,$))St<K&&0>s(An,Ft)?(T[z]=An,T[St]=$,z=St):(T[z]=Ft,T[Xe]=$,z=Xe);else if(St<K&&0>s(An,$))T[z]=An,T[St]=$,z=St;else break e}}return D}function s(T,D){var $=T.sortIndex-D.sortIndex;return $!==0?$:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,g=3,h=!1,p=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=T)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function x(T){if(w=!1,y(T),!p)if(n(l)!==null)p=!0,F(_);else{var D=n(u);D!==null&&H(x,D.startTime-T)}}function _(T,D){p=!1,w&&(w=!1,v(R),R=-1),h=!0;var $=g;try{for(y(D),f=n(l);f!==null&&(!(f.expirationTime>D)||T&&!L());){var z=f.callback;if(typeof z=="function"){f.callback=null,g=f.priorityLevel;var K=z(f.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),y(D)}else r(l);f=n(l)}if(f!==null)var He=!0;else{var Xe=n(u);Xe!==null&&H(x,Xe.startTime-D),He=!1}return He}finally{f=null,g=$,h=!1}}var E=!1,C=null,R=-1,P=5,j=-1;function L(){return!(e.unstable_now()-j<P)}function A(){if(C!==null){var T=e.unstable_now();j=T;var D=!0;try{D=C(!0,T)}finally{D?b():(E=!1,C=null)}}else E=!1}var b;if(typeof m=="function")b=function(){m(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=A,b=function(){Ee.postMessage(null)}}else b=function(){k(A,0)};function F(T){C=T,E||(E=!0,b())}function H(T,D){R=k(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,F(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var $=g;g=D;try{return T()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=g;g=T;try{return D()}finally{g=$}},e.unstable_scheduleCallback=function(T,D,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,T={id:c++,callback:D,priorityLevel:T,startTime:$,expirationTime:K,sortIndex:-1},$>z?(T.sortIndex=$,t(u,T),n(l)===null&&T===n(u)&&(w?(v(R),R=-1):w=!0,H(x,$-z))):(T.sortIndex=K,t(l,T),p||h||(p=!0,F(_))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var D=g;return function(){var $=g;g=D;try{return T.apply(this,arguments)}finally{g=$}}}})(of);sf.exports=of;var Hp=sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=S,Ue=Hp;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var af=new Set,is={};function Ln(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(is[e]=t,e=0;e<t.length;e++)af.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=Object.prototype.hasOwnProperty,qp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},Wu={};function Kp(e){return _a.call(Wu,e)?!0:_a.call(Ku,e)?!1:qp.test(e)?Wu[e]=!0:(Ku[e]=!0,!1)}function Wp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jp(e,t,n,r){if(t===null||typeof t>"u"||Wp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ml=/[\-:]([a-z])/g;function Ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ml,Ul);ve[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ml,Ul);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ml,Ul);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function zl(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jp(t,n,s,r)&&(n=null),r||s===null?Kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),xa=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),ka=Symbol.for("react.suspense"),Ca=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),cf=Symbol.for("react.offscreen"),Ju=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,To;function zr(e){if(To===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);To=t&&t[1]||""}return`
`+To+e}var No=!1;function bo(e,t){if(!e||No)return"";No=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{No=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function Qp(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=bo(e.type,!1),e;case 11:return e=bo(e.type.render,!1),e;case 1:return e=bo(e.type,!0),e;default:return""}}function Ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Wn:return"Portal";case xa:return"Profiler";case Vl:return"StrictMode";case ka:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uf:return(e.displayName||"Context")+".Consumer";case lf:return(e._context.displayName||"Context")+".Provider";case Bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hl:return t=e.displayName||null,t!==null?t:Ea(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return Ea(e(t))}catch{}}return null}function Yp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ea(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function df(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xp(e){var t=df(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=Xp(e))}function ff(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=df(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ja(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hf(e,t){t=t.checked,t!=null&&zl(e,"checked",t,!1)}function Ra(e,t){hf(e,t);var n=an(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pa(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pa(e,t,n){(t!=="number"||ki(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Vr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function gf(e,t){var n=an(t.value),r=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zs,mf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zp=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Zp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function vf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var em=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function La(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,ar=null,lr=null;function ec(e){if(e=Ts(e)){if(typeof Oa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=so(t),Oa(e.stateNode,e.type,t))}}function wf(e){ar?lr?lr.push(e):lr=[e]:ar=e}function Sf(){if(ar){var e=ar,t=lr;if(lr=ar=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function _f(e,t){return e(t)}function xf(){}var Lo=!1;function kf(e,t,n){if(Lo)return e(t,n);Lo=!0;try{return _f(e,t,n)}finally{Lo=!1,(ar!==null||lr!==null)&&(xf(),Sf())}}function as(e,t){var n=e.stateNode;if(n===null)return null;var r=so(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Aa=!1;if(Lt)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Aa=!1}function tm(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Kr=!1,Ci=null,Ei=!1,Ia=null,nm={onError:function(e){Kr=!0,Ci=e}};function rm(e,t,n,r,s,i,o,a,l){Kr=!1,Ci=null,tm.apply(nm,arguments)}function sm(e,t,n,r,s,i,o,a,l){if(rm.apply(this,arguments),Kr){if(Kr){var u=Ci;Kr=!1,Ci=null}else throw Error(N(198));Ei||(Ei=!0,Ia=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if($n(e)!==e)throw Error(N(188))}function im(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tc(s),e;if(i===r)return tc(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Ef(e){return e=im(e),e!==null?jf(e):null}function jf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jf(e);if(t!==null)return t;e=e.sibling}return null}var Rf=Ue.unstable_scheduleCallback,nc=Ue.unstable_cancelCallback,om=Ue.unstable_shouldYield,am=Ue.unstable_requestPaint,oe=Ue.unstable_now,lm=Ue.unstable_getCurrentPriorityLevel,ql=Ue.unstable_ImmediatePriority,Pf=Ue.unstable_UserBlockingPriority,ji=Ue.unstable_NormalPriority,um=Ue.unstable_LowPriority,Tf=Ue.unstable_IdlePriority,eo=null,pt=null;function cm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(eo,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:hm,dm=Math.log,fm=Math.LN2;function hm(e){return e>>>=0,e===0?32:31-(dm(e)/fm|0)|0}var Vs=64,Bs=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Br(a):(i&=o,i!==0&&(r=Br(i)))}else o=n&~s,o!==0?r=Br(o):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=gm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nf(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function $o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function mm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Kl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function bf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lf,Wl,$f,Of,Af,Fa=!1,Hs=[],Xt=null,Zt=null,en=null,ls=new Map,us=new Map,Gt=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function Nr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ts(t),t!==null&&Wl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ym(e,t,n,r,s){switch(t){case"focusin":return Xt=Nr(Xt,e,t,n,r,s),!0;case"dragenter":return Zt=Nr(Zt,e,t,n,r,s),!0;case"mouseover":return en=Nr(en,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ls.set(i,Nr(ls.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,Nr(us.get(i)||null,e,t,n,r,s)),!0}return!1}function If(e){var t=_n(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=Cf(n),t!==null){e.blockedOn=t,Af(e.priority,function(){$f(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function di(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$a=r,n.target.dispatchEvent(r),$a=null}else return t=Ts(n),t!==null&&Wl(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){di(e)&&n.delete(t)}function wm(){Fa=!1,Xt!==null&&di(Xt)&&(Xt=null),Zt!==null&&di(Zt)&&(Zt=null),en!==null&&di(en)&&(en=null),ls.forEach(sc),us.forEach(sc)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,Fa||(Fa=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,wm)))}function cs(e){function t(s){return br(s,e)}if(0<Hs.length){br(Hs[0],e);for(var n=1;n<Hs.length;n++){var r=Hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xt!==null&&br(Xt,e),Zt!==null&&br(Zt,e),en!==null&&br(en,e),ls.forEach(t),us.forEach(t),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)If(n),n.blockedOn===null&&Gt.shift()}var ur=Dt.ReactCurrentBatchConfig,Pi=!0;function Sm(e,t,n,r){var s=J,i=ur.transition;ur.transition=null;try{J=1,Jl(e,t,n,r)}finally{J=s,ur.transition=i}}function _m(e,t,n,r){var s=J,i=ur.transition;ur.transition=null;try{J=4,Jl(e,t,n,r)}finally{J=s,ur.transition=i}}function Jl(e,t,n,r){if(Pi){var s=Ma(e,t,n,r);if(s===null)Bo(e,t,r,Ti,n),rc(e,r);else if(ym(s,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<vm.indexOf(e)){for(;s!==null;){var i=Ts(s);if(i!==null&&Lf(i),i=Ma(e,t,n,r),i===null&&Bo(e,t,r,Ti,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bo(e,t,r,null,n)}}var Ti=null;function Ma(e,t,n,r){if(Ti=null,e=Gl(r),e=_n(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function Df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case ql:return 1;case Pf:return 4;case ji:case um:return 16;case Tf:return 536870912;default:return 16}default:return 16}}var Wt=null,Ql=null,fi=null;function Ff(){if(fi)return fi;var e,t=Ql,n=t.length,r,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return fi=s.slice(e,1<r?1-r:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function ic(){return!1}function Be(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gs:ic,this.isPropagationStopped=ic,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Be(_r),Ps=se({},_r,{view:0,detail:0}),xm=Be(Ps),Oo,Ao,Lr,to=se({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(Oo=e.screenX-Lr.screenX,Ao=e.screenY-Lr.screenY):Ao=Oo=0,Lr=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),oc=Be(to),km=se({},to,{dataTransfer:0}),Cm=Be(km),Em=se({},Ps,{relatedTarget:0}),Io=Be(Em),jm=se({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Be(jm),Pm=se({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tm=Be(Pm),Nm=se({},_r,{data:0}),ac=Be(Nm),bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$m[e])?!!t[e]:!1}function Xl(){return Om}var Am=se({},Ps,{key:function(e){if(e.key){var t=bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=Be(Am),Dm=se({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Be(Dm),Fm=se({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Mm=Be(Fm),Um=se({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=Be(Um),Vm=se({},to,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=Be(Vm),Hm=[9,13,27,32],Zl=Lt&&"CompositionEvent"in window,Wr=null;Lt&&"documentMode"in document&&(Wr=document.documentMode);var Gm=Lt&&"TextEvent"in window&&!Wr,Mf=Lt&&(!Zl||Wr&&8<Wr&&11>=Wr),uc=" ",cc=!1;function Uf(e,t){switch(e){case"keyup":return Hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function qm(e,t){switch(e){case"compositionend":return zf(t);case"keypress":return t.which!==32?null:(cc=!0,uc);case"textInput":return e=t.data,e===uc&&cc?null:e;default:return null}}function Km(e,t){if(Qn)return e==="compositionend"||!Zl&&Uf(e,t)?(e=Ff(),fi=Ql=Wt=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mf&&t.locale!=="ko"?null:t.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wm[e.type]:t==="textarea"}function Vf(e,t,n,r){wf(r),t=Ni(t,"onChange"),0<t.length&&(n=new Yl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jr=null,ds=null;function Jm(e){Zf(e,0)}function no(e){var t=Zn(e);if(ff(t))return e}function Qm(e,t){if(e==="change")return t}var Bf=!1;if(Lt){var Do;if(Lt){var Fo="oninput"in document;if(!Fo){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),Fo=typeof fc.oninput=="function"}Do=Fo}else Do=!1;Bf=Do&&(!document.documentMode||9<document.documentMode)}function hc(){Jr&&(Jr.detachEvent("onpropertychange",Hf),ds=Jr=null)}function Hf(e){if(e.propertyName==="value"&&no(ds)){var t=[];Vf(t,ds,e,Gl(e)),kf(Jm,t)}}function Ym(e,t,n){e==="focusin"?(hc(),Jr=t,ds=n,Jr.attachEvent("onpropertychange",Hf)):e==="focusout"&&hc()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return no(ds)}function Zm(e,t){if(e==="click")return no(t)}function ev(e,t){if(e==="input"||e==="change")return no(t)}function tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:tv;function fs(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_a.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gc(n)}}function Gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qf(){for(var e=window,t=ki();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ki(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nv(e){var t=qf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gf(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pc(n,i);var o=pc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rv=Lt&&"documentMode"in document&&11>=document.documentMode,Yn=null,Ua=null,Qr=null,za=!1;function mc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;za||Yn==null||Yn!==ki(r)||(r=Yn,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&fs(Qr,r)||(Qr=r,r=Ni(Ua,"onSelect"),0<r.length&&(t=new Yl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Mo={},Kf={};Lt&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function ro(e){if(Mo[e])return Mo[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kf)return Mo[e]=t[n];return e}var Wf=ro("animationend"),Jf=ro("animationiteration"),Qf=ro("animationstart"),Yf=ro("transitionend"),Xf=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){Xf.set(e,t),Ln(t,[e])}for(var Uo=0;Uo<vc.length;Uo++){var zo=vc[Uo],sv=zo.toLowerCase(),iv=zo[0].toUpperCase()+zo.slice(1);cn(sv,"on"+iv)}cn(Wf,"onAnimationEnd");cn(Jf,"onAnimationIteration");cn(Qf,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Yf,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function yc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sm(r,t,void 0,e),e.currentTarget=null}function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;yc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;yc(s,a,u),i=l}}}if(Ei)throw e=Ia,Ei=!1,Ia=null,e}function X(e,t){var n=t[qa];n===void 0&&(n=t[qa]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Vo(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[Ks]){e[Ks]=!0,af.forEach(function(n){n!=="selectionchange"&&(ov.has(n)||Vo(n,!1,e),Vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Vo("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Df(t)){case 1:var s=Sm;break;case 4:s=_m;break;default:s=Jl}n=s.bind(null,t,n,e),s=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_n(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kf(function(){var u=i,c=Gl(n),f=[];e:{var g=Xf.get(e);if(g!==void 0){var h=Yl,p=e;switch(e){case"keypress":if(hi(n)===0)break e;case"keydown":case"keyup":h=Im;break;case"focusin":p="focus",h=Io;break;case"focusout":p="blur",h=Io;break;case"beforeblur":case"afterblur":h=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Mm;break;case Wf:case Jf:case Qf:h=Rm;break;case Yf:h=zm;break;case"scroll":h=xm;break;case"wheel":h=Bm;break;case"copy":case"cut":case"paste":h=Tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lc}var w=(t&4)!==0,k=!w&&e==="scroll",v=w?g!==null?g+"Capture":null:g;w=[];for(var m=u,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=as(m,v),x!=null&&w.push(gs(m,x,y)))),k)break;m=m.return}0<w.length&&(g=new h(g,p,null,n,c),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",g&&n!==$a&&(p=n.relatedTarget||n.fromElement)&&(_n(p)||p[$t]))break e;if((h||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?_n(p):null,p!==null&&(k=$n(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(w=oc,x="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=lc,x="onPointerLeave",v="onPointerEnter",m="pointer"),k=h==null?g:Zn(h),y=p==null?g:Zn(p),g=new w(x,m+"leave",h,n,c),g.target=k,g.relatedTarget=y,x=null,_n(c)===u&&(w=new w(v,m+"enter",p,n,c),w.target=y,w.relatedTarget=k,x=w),k=x,h&&p)t:{for(w=h,v=p,m=0,y=w;y;y=In(y))m++;for(y=0,x=v;x;x=In(x))y++;for(;0<m-y;)w=In(w),m--;for(;0<y-m;)v=In(v),y--;for(;m--;){if(w===v||v!==null&&w===v.alternate)break t;w=In(w),v=In(v)}w=null}else w=null;h!==null&&wc(f,g,h,w,!1),p!==null&&k!==null&&wc(f,k,p,w,!0)}}e:{if(g=u?Zn(u):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var _=Qm;else if(dc(g))if(Bf)_=ev;else{_=Xm;var E=Ym}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=Zm);if(_&&(_=_(e,u))){Vf(f,_,n,c);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Pa(g,"number",g.value)}switch(E=u?Zn(u):window,e){case"focusin":(dc(E)||E.contentEditable==="true")&&(Yn=E,Ua=u,Qr=null);break;case"focusout":Qr=Ua=Yn=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,mc(f,n,c);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":mc(f,n,c)}var C;if(Zl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qn?Uf(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Mf&&n.locale!=="ko"&&(Qn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qn&&(C=Ff()):(Wt=c,Ql="value"in Wt?Wt.value:Wt.textContent,Qn=!0)),E=Ni(u,R),0<E.length&&(R=new ac(R,e,null,n,c),f.push({event:R,listeners:E}),C?R.data=C:(C=zf(n),C!==null&&(R.data=C)))),(C=Gm?qm(e,n):Km(e,n))&&(u=Ni(u,"onBeforeInput"),0<u.length&&(c=new ac("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}Zf(f,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(e,n),i!=null&&r.unshift(gs(e,i,s)),i=as(e,t),i!=null&&r.push(gs(e,i,s))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=as(n,i),l!=null&&o.unshift(gs(n,l,a))):s||(l=as(n,i),l!=null&&o.push(gs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var av=/\r\n?/g,lv=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(av,`
`).replace(lv,"")}function Ws(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(N(425))}function bi(){}var Va=null,Ba=null;function Ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,uv=typeof clearTimeout=="function"?clearTimeout:void 0,_c=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof _c<"u"?function(e){return _c.resolve(null).then(e).catch(dv)}:Ga;function dv(e){setTimeout(function(){throw e})}function Ho(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cs(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),ht="__reactFiber$"+xr,ps="__reactProps$"+xr,$t="__reactContainer$"+xr,qa="__reactEvents$"+xr,fv="__reactListeners$"+xr,hv="__reactHandles$"+xr;function _n(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xc(e);e!==null;){if(n=e[ht])return n;e=xc(e)}return t}e=n,n=e.parentNode}return null}function Ts(e){return e=e[ht]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function so(e){return e[ps]||null}var Ka=[],er=-1;function dn(e){return{current:e}}function Z(e){0>er||(e.current=Ka[er],Ka[er]=null,er--)}function Y(e,t){er++,Ka[er]=e.current,e.current=t}var ln={},ke=dn(ln),Oe=dn(!1),Rn=ln;function hr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function Li(){Z(Oe),Z(ke)}function kc(e,t,n){if(ke.current!==ln)throw Error(N(168));Y(ke,t),Y(Oe,n)}function th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Yp(e)||"Unknown",s));return se({},n,r)}function $i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Rn=ke.current,Y(ke,e),Y(Oe,Oe.current),!0}function Cc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=th(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,Z(Oe),Z(ke),Y(ke,e)):Z(Oe),Y(Oe,n)}var Rt=null,io=!1,Go=!1;function nh(e){Rt===null?Rt=[e]:Rt.push(e)}function gv(e){io=!0,nh(e)}function fn(){if(!Go&&Rt!==null){Go=!0;var e=0,t=J;try{var n=Rt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,io=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Rf(ql,fn),s}finally{J=t,Go=!1}}return null}var tr=[],nr=0,Oi=null,Ai=0,Ge=[],qe=0,Pn=null,Pt=1,Tt="";function vn(e,t){tr[nr++]=Ai,tr[nr++]=Oi,Oi=e,Ai=t}function rh(e,t,n){Ge[qe++]=Pt,Ge[qe++]=Tt,Ge[qe++]=Pn,Pn=e;var r=Pt;e=Tt;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pt=1<<32-at(t)+s|n<<s|r,Tt=i+e}else Pt=1<<i|n<<s|r,Tt=e}function tu(e){e.return!==null&&(vn(e,1),rh(e,1,0))}function nu(e){for(;e===Oi;)Oi=tr[--nr],tr[nr]=null,Ai=tr[--nr],tr[nr]=null;for(;e===Pn;)Pn=Ge[--qe],Ge[qe]=null,Tt=Ge[--qe],Ge[qe]=null,Pt=Ge[--qe],Ge[qe]=null}var Me=null,Fe=null,ee=!1,ot=null;function sh(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Fe=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pn!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,Fe=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ja(e){if(ee){var t=Fe;if(t){var n=t;if(!Ec(e,t)){if(Wa(e))throw Error(N(418));t=tn(n.nextSibling);var r=Me;t&&Ec(e,t)?sh(r,n):(e.flags=e.flags&-4097|2,ee=!1,Me=e)}}else{if(Wa(e))throw Error(N(418));e.flags=e.flags&-4097|2,ee=!1,Me=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Js(e){if(e!==Me)return!1;if(!ee)return jc(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ha(e.type,e.memoizedProps)),t&&(t=Fe)){if(Wa(e))throw ih(),Error(N(418));for(;t;)sh(e,t),t=tn(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fe=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Me?tn(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=Fe;e;)e=tn(e.nextSibling)}function gr(){Fe=Me=null,ee=!1}function ru(e){ot===null?ot=[e]:ot.push(e)}var pv=Dt.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function oh(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=on(v,m),v.index=0,v.sibling=null,v}function i(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,x){return m===null||m.tag!==6?(m=Xo(y,v.mode,x),m.return=v,m):(m=s(m,y),m.return=v,m)}function l(v,m,y,x){var _=y.type;return _===Jn?c(v,m,y.props.children,x,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bt&&Rc(_)===m.type)?(x=s(m,y.props),x.ref=$r(v,m,y),x.return=v,x):(x=Si(y.type,y.key,y.props,null,v.mode,x),x.ref=$r(v,m,y),x.return=v,x)}function u(v,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Zo(y,v.mode,x),m.return=v,m):(m=s(m,y.children||[]),m.return=v,m)}function c(v,m,y,x,_){return m===null||m.tag!==7?(m=En(y,v.mode,x,_),m.return=v,m):(m=s(m,y),m.return=v,m)}function f(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xo(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ms:return y=Si(m.type,m.key,m.props,null,v.mode,y),y.ref=$r(v,null,m),y.return=v,y;case Wn:return m=Zo(m,v.mode,y),m.return=v,m;case Bt:var x=m._init;return f(v,x(m._payload),y)}if(Vr(m)||Pr(m))return m=En(m,v.mode,y,null),m.return=v,m;Qs(v,m)}return null}function g(v,m,y,x){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(v,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ms:return y.key===_?l(v,m,y,x):null;case Wn:return y.key===_?u(v,m,y,x):null;case Bt:return _=y._init,g(v,m,_(y._payload),x)}if(Vr(y)||Pr(y))return _!==null?null:c(v,m,y,x,null);Qs(v,y)}return null}function h(v,m,y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(m,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ms:return v=v.get(x.key===null?y:x.key)||null,l(m,v,x,_);case Wn:return v=v.get(x.key===null?y:x.key)||null,u(m,v,x,_);case Bt:var E=x._init;return h(v,m,y,E(x._payload),_)}if(Vr(x)||Pr(x))return v=v.get(y)||null,c(m,v,x,_,null);Qs(m,x)}return null}function p(v,m,y,x){for(var _=null,E=null,C=m,R=m=0,P=null;C!==null&&R<y.length;R++){C.index>R?(P=C,C=null):P=C.sibling;var j=g(v,C,y[R],x);if(j===null){C===null&&(C=P);break}e&&C&&j.alternate===null&&t(v,C),m=i(j,m,R),E===null?_=j:E.sibling=j,E=j,C=P}if(R===y.length)return n(v,C),ee&&vn(v,R),_;if(C===null){for(;R<y.length;R++)C=f(v,y[R],x),C!==null&&(m=i(C,m,R),E===null?_=C:E.sibling=C,E=C);return ee&&vn(v,R),_}for(C=r(v,C);R<y.length;R++)P=h(C,v,R,y[R],x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?R:P.key),m=i(P,m,R),E===null?_=P:E.sibling=P,E=P);return e&&C.forEach(function(L){return t(v,L)}),ee&&vn(v,R),_}function w(v,m,y,x){var _=Pr(y);if(typeof _!="function")throw Error(N(150));if(y=_.call(y),y==null)throw Error(N(151));for(var E=_=null,C=m,R=m=0,P=null,j=y.next();C!==null&&!j.done;R++,j=y.next()){C.index>R?(P=C,C=null):P=C.sibling;var L=g(v,C,j.value,x);if(L===null){C===null&&(C=P);break}e&&C&&L.alternate===null&&t(v,C),m=i(L,m,R),E===null?_=L:E.sibling=L,E=L,C=P}if(j.done)return n(v,C),ee&&vn(v,R),_;if(C===null){for(;!j.done;R++,j=y.next())j=f(v,j.value,x),j!==null&&(m=i(j,m,R),E===null?_=j:E.sibling=j,E=j);return ee&&vn(v,R),_}for(C=r(v,C);!j.done;R++,j=y.next())j=h(C,v,R,j.value,x),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?R:j.key),m=i(j,m,R),E===null?_=j:E.sibling=j,E=j);return e&&C.forEach(function(A){return t(v,A)}),ee&&vn(v,R),_}function k(v,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ms:e:{for(var _=y.key,E=m;E!==null;){if(E.key===_){if(_=y.type,_===Jn){if(E.tag===7){n(v,E.sibling),m=s(E,y.props.children),m.return=v,v=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bt&&Rc(_)===E.type){n(v,E.sibling),m=s(E,y.props),m.ref=$r(v,E,y),m.return=v,v=m;break e}n(v,E);break}else t(v,E);E=E.sibling}y.type===Jn?(m=En(y.props.children,v.mode,x,y.key),m.return=v,v=m):(x=Si(y.type,y.key,y.props,null,v.mode,x),x.ref=$r(v,m,y),x.return=v,v=x)}return o(v);case Wn:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=s(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Zo(y,v.mode,x),m.return=v,v=m}return o(v);case Bt:return E=y._init,k(v,m,E(y._payload),x)}if(Vr(y))return p(v,m,y,x);if(Pr(y))return w(v,m,y,x);Qs(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,y),m.return=v,v=m):(n(v,m),m=Xo(y,v.mode,x),m.return=v,v=m),o(v)):n(v,m)}return k}var pr=oh(!0),ah=oh(!1),Ii=dn(null),Di=null,rr=null,su=null;function iu(){su=rr=Di=null}function ou(e){var t=Ii.current;Z(Ii),e._currentValue=t}function Qa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){Di=e,su=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(su!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(Di===null)throw Error(N(308));rr=e,Di.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var xn=null;function au(e){xn===null?xn=[e]:xn.push(e)}function lh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,au(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ot(e,r)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ot(e,n)}return s=r.interleaved,s===null?(t.next=t,au(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ot(e,n)}function gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kl(e,n)}}function Pc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var g=a.lane,h=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,w=a;switch(g=t,h=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){f=p.call(h,f,g);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,g=typeof p=="function"?p.call(h,f,g):p,g==null)break e;f=se({},f,g);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else h={eventTime:h,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=f}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Ns={},mt=dn(Ns),ms=dn(Ns),vs=dn(Ns);function kn(e){if(e===Ns)throw Error(N(174));return e}function uu(e,t){switch(Y(vs,t),Y(ms,e),Y(mt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Na(t,e)}Z(mt),Y(mt,t)}function mr(){Z(mt),Z(ms),Z(vs)}function ch(e){kn(vs.current);var t=kn(mt.current),n=Na(t,e.type);t!==n&&(Y(ms,e),Y(mt,n))}function cu(e){ms.current===e&&(Z(mt),Z(ms))}var te=dn(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=[];function du(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var pi=Dt.ReactCurrentDispatcher,Ko=Dt.ReactCurrentBatchConfig,Tn=0,ne=null,ue=null,fe=null,Ui=!1,Yr=!1,ys=0,mv=0;function ye(){throw Error(N(321))}function fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function hu(e,t,n,r,s,i){if(Tn=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?Sv:_v,e=n(r,s),Yr){i=0;do{if(Yr=!1,ys=0,25<=i)throw Error(N(301));i+=1,fe=ue=null,t.updateQueue=null,pi.current=xv,e=n(r,s)}while(Yr)}if(pi.current=zi,t=ue!==null&&ue.next!==null,Tn=0,fe=ue=ne=null,Ui=!1,t)throw Error(N(300));return e}function gu(){var e=ys!==0;return ys=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=e:fe=fe.next=e,fe}function Ye(){if(ue===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=fe===null?ne.memoizedState:fe.next;if(t!==null)fe=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?ne.memoizedState=fe=e:fe=fe.next=e}return fe}function ws(e,t){return typeof t=="function"?t(e):t}function Wo(e){var t=Ye(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Tn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ne.lanes|=c,Nn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ct(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ye(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ct(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function dh(){}function fh(e,t){var n=ne,r=Ye(),s=t(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,$e=!0),r=r.queue,pu(ph.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Ss(9,gh.bind(null,n,r,s,t),void 0,null),he===null)throw Error(N(349));Tn&30||hh(n,t,s)}return s}function hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gh(e,t,n,r){t.value=n,t.getSnapshot=r,mh(t)&&vh(e)}function ph(e,t,n){return n(function(){mh(t)&&vh(e)})}function mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function vh(e){var t=Ot(e,1);t!==null&&lt(t,e,1,-1)}function Nc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=wv.bind(null,ne,e),[t.memoizedState,e]}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yh(){return Ye().memoizedState}function mi(e,t,n,r){var s=ft();ne.flags|=e,s.memoizedState=Ss(1|t,n,void 0,r===void 0?null:r)}function oo(e,t,n,r){var s=Ye();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&fu(r,o.deps)){s.memoizedState=Ss(t,n,i,r);return}}ne.flags|=e,s.memoizedState=Ss(1|t,n,i,r)}function bc(e,t){return mi(8390656,8,e,t)}function pu(e,t){return oo(2048,8,e,t)}function wh(e,t){return oo(4,2,e,t)}function Sh(e,t){return oo(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,n){return n=n!=null?n.concat([e]):null,oo(4,4,_h.bind(null,t,e),n)}function mu(){}function kh(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ch(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eh(e,t,n){return Tn&21?(ct(n,t)||(n=Nf(),ne.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function vv(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ko.transition;Ko.transition={};try{e(!1),t()}finally{J=n,Ko.transition=r}}function jh(){return Ye().memoizedState}function yv(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rh(e))Ph(t,n);else if(n=lh(e,t,n,r),n!==null){var s=Re();lt(n,e,r,s),Th(n,t,r)}}function wv(e,t,n){var r=sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rh(e))Ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ct(a,o)){var l=t.interleaved;l===null?(s.next=s,au(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=lh(e,t,s,r),n!==null&&(s=Re(),lt(n,e,r,s),Th(n,t,r))}}function Rh(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Ph(e,t){Yr=Ui=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Th(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kl(e,n)}}var zi={readContext:Qe,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Sv={readContext:Qe,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:bc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mi(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yv.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:mu,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=vv.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,s=ft();if(ee){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),he===null)throw Error(N(349));Tn&30||hh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bc(ph.bind(null,r,i,e),[e]),r.flags|=2048,Ss(9,gh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ft(),t=he.identifierPrefix;if(ee){var n=Tt,r=Pt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_v={readContext:Qe,useCallback:kh,useContext:Qe,useEffect:pu,useImperativeHandle:xh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Ch,useReducer:Wo,useRef:yh,useState:function(){return Wo(ws)},useDebugValue:mu,useDeferredValue:function(e){var t=Ye();return Eh(t,ue.memoizedState,e)},useTransition:function(){var e=Wo(ws)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:jh,unstable_isNewReconciler:!1},xv={readContext:Qe,useCallback:kh,useContext:Qe,useEffect:pu,useImperativeHandle:xh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Ch,useReducer:Jo,useRef:yh,useState:function(){return Jo(ws)},useDebugValue:mu,useDeferredValue:function(e){var t=Ye();return ue===null?t.memoizedState=e:Eh(t,ue.memoizedState,e)},useTransition:function(){var e=Jo(ws)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:jh,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ya(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Nt(r,s);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(lt(t,e,s,r),gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Nt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(lt(t,e,s,r),gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=sn(e),s=Nt(n,r);s.tag=2,t!=null&&(s.callback=t),t=nn(e,s,r),t!==null&&(lt(t,e,r,n),gi(t,e,r))}};function Lc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fs(n,r)||!fs(s,i):!0}function Nh(e,t,n){var r=!1,s=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Ae(t)?Rn:ke.current,r=t.contextTypes,i=(r=r!=null)?hr(e,s):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $c(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function Xa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Ae(t)?Rn:ke.current,s.context=hr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ya(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),Fi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=Qp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kv=typeof WeakMap=="function"?WeakMap:Map;function bh(e,t,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bi||(Bi=!0,ul=r),Za(e,t)},n}function Lh(e,t,n){n=Nt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Za(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Za(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Dv.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Cv=Dt.ReactCurrentOwner,$e=!1;function je(e,t,n,r){t.child=e===null?ah(t,null,n,r):pr(t,e.child,n,r)}function Dc(e,t,n,r,s){n=n.render;var i=t.ref;return cr(t,s),r=hu(e,t,n,r,i,s),n=gu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ee&&n&&tu(t),t.flags|=1,je(e,t,r,s),t.child)}function Fc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Cu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$h(e,t,i,r,s)):(e=Si(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fs,n(o,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fs(i,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,At(e,t,s)}return el(e,t,n,r,s)}function Oh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(ir,De),De|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(ir,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(ir,De),De|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Y(ir,De),De|=r;return je(e,t,s,n),t.child}function Ah(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function el(e,t,n,r,s){var i=Ae(n)?Rn:ke.current;return i=hr(t,i),cr(t,s),n=hu(e,t,n,r,i,s),r=gu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ee&&r&&tu(t),t.flags|=1,je(e,t,n,s),t.child)}function Mc(e,t,n,r,s){if(Ae(n)){var i=!0;$i(t)}else i=!1;if(cr(t,s),t.stateNode===null)vi(e,t),Nh(t,n,r),Xa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Ae(n)?Rn:ke.current,u=hr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$c(t,o,r,u),Ht=!1;var g=t.memoizedState;o.state=g,Fi(t,r,o,s),l=t.memoizedState,a!==r||g!==l||Oe.current||Ht?(typeof c=="function"&&(Ya(t,n,c,r),l=t.memoizedState),(a=Ht||Lc(t,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nt(t.type,a),o.props=u,f=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qe(l):(l=Ae(n)?Rn:ke.current,l=hr(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&$c(t,o,r,l),Ht=!1,g=t.memoizedState,o.state=g,Fi(t,r,o,s);var p=t.memoizedState;a!==f||g!==p||Oe.current||Ht?(typeof h=="function"&&(Ya(t,n,h,r),p=t.memoizedState),(u=Ht||Lc(t,n,u,r,g,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return tl(e,t,n,r,i,s)}function tl(e,t,n,r,s,i){Ah(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Cc(t,n,!1),At(e,t,i);r=t.stateNode,Cv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pr(t,e.child,null,i),t.child=pr(t,null,a,i)):je(e,t,a,i),t.memoizedState=r.state,s&&Cc(t,n,!0),t.child}function Ih(e){var t=e.stateNode;t.pendingContext?kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kc(e,t.context,!1),uu(e,t.containerInfo)}function Uc(e,t,n,r,s){return gr(),ru(s),t.flags|=256,je(e,t,n,r),t.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dh(e,t,n){var r=t.pendingProps,s=te.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(te,s&1),e===null)return Ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=co(o,r,0,null),e=En(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rl(n),t.memoizedState=nl,e):vu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ev(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=on(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=on(a,i):(i=En(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=nl,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vu(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ys(e,t,n,r){return r!==null&&ru(r),pr(t,e.child,null,n),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ev(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qo(Error(N(422))),Ys(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=co({mode:"visible",children:r.children},s,0,null),i=En(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pr(t,e.child,null,o),t.child.memoizedState=rl(o),t.memoizedState=nl,i);if(!(t.mode&1))return Ys(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Qo(i,r,void 0),Ys(e,t,o,r)}if(a=(o&e.childLanes)!==0,$e||a){if(r=he,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ot(e,s),lt(r,e,s,-1))}return ku(),r=Qo(Error(N(421))),Ys(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Fv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=tn(s.nextSibling),Me=t,ee=!0,ot=null,e!==null&&(Ge[qe++]=Pt,Ge[qe++]=Tt,Ge[qe++]=Pn,Pt=e.id,Tt=e.overflow,Pn=t),t=vu(t,r.children),t.flags|=4096,t)}function zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qa(e.return,t,n)}function Yo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(je(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,n,t);else if(e.tag===19)zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Mi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Mi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yo(t,!0,n,null,i);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jv(e,t,n){switch(t.tag){case 3:Ih(t),gr();break;case 5:ch(t);break;case 1:Ae(t.type)&&$i(t);break;case 4:uu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Y(Ii,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?Dh(e,t,n):(Y(te,te.current&1),e=At(e,t,n),e!==null?e.sibling:null);Y(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,Oh(e,t,n)}return At(e,t,n)}var Mh,sl,Uh,zh;Mh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sl=function(){};Uh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kn(mt.current);var i=null;switch(n){case"input":s=ja(e,s),r=ja(e,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Ta(e,s),r=Ta(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}ba(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};zh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rv(e,t,n){var r=t.pendingProps;switch(nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ae(t.type)&&Li(),we(t),null;case 3:return r=t.stateNode,mr(),Z(Oe),Z(ke),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(fl(ot),ot=null))),sl(e,t),we(t),null;case 5:cu(t);var s=kn(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)Uh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return we(t),null}if(e=kn(mt.current),Js(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[ps]=i,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<Hr.length;s++)X(Hr[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Qu(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":Xu(r,i),X("invalid",r)}ba(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ws(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ws(r.textContent,a,e),s=["children",""+a]):is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":Us(r),Yu(r,i,!0);break;case"textarea":Us(r),Zu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ht]=t,e[ps]=r,Mh(e,t,!1,!1),t.stateNode=e;e:{switch(o=La(n,r),n){case"dialog":X("cancel",e),X("close",e),s=r;break;case"iframe":case"object":case"embed":X("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hr.length;s++)X(Hr[s],e);s=r;break;case"source":X("error",e),s=r;break;case"img":case"image":case"link":X("error",e),X("load",e),s=r;break;case"details":X("toggle",e),s=r;break;case"input":Qu(e,r),s=ja(e,r),X("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),X("invalid",e);break;case"textarea":Xu(e,r),s=Ta(e,r),X("invalid",e);break;default:s=r}ba(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&os(e,l):typeof l=="number"&&os(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",e):l!=null&&zl(e,i,l,o))}switch(n){case"input":Us(e),Yu(e,r,!1);break;case"textarea":Us(e),Zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+an(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?or(e,!!r.multiple,i,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)zh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=kn(vs.current),kn(mt.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:Ws(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ws(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return we(t),null;case 13:if(Z(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Fe!==null&&t.mode&1&&!(t.flags&128))ih(),gr(),t.flags|=98560,i=!1;else if(i=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ht]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else ot!==null&&(fl(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?ce===0&&(ce=3):ku())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return mr(),sl(e,t),e===null&&hs(t.stateNode.containerInfo),we(t),null;case 10:return ou(t.type._context),we(t),null;case 17:return Ae(t.type)&&Li(),we(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Or(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mi(e),o!==null){for(t.flags|=128,Or(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>yr&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304)}else{if(!r)if(e=Mi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return we(t),null}else 2*oe()-i.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,n=te.current,Y(te,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?De&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Pv(e,t){switch(nu(t),t.tag){case 1:return Ae(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),Z(Oe),Z(ke),du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cu(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return mr(),null;case 10:return ou(t.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Xs=!1,xe=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,O=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function il(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Vc=!1;function Nv(e,t){if(Va=Pi,e=qf(),eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,g=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)g=f,f=h;for(;;){if(f===e)break t;if(g===n&&++u===s&&(a=o),g===i&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},Pi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,k=p.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:nt(t.type,w),k);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Vc,Vc=!1,p}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&il(t,n,i)}s=s.next}while(s!==r)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vh(e){var t=e.alternate;t!==null&&(e.alternate=null,Vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[ps],delete t[qa],delete t[fv],delete t[hv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bh(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function al(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(al(e,t,n),e=e.sibling;e!==null;)al(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}var pe=null,st=!1;function Mt(e,t,n){for(n=n.child;n!==null;)Hh(e,t,n),n=n.sibling}function Hh(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(eo,n)}catch{}switch(n.tag){case 5:xe||sr(n,t);case 6:var r=pe,s=st;pe=null,Mt(e,t,n),pe=r,st=s,pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?Ho(e.parentNode,n):e.nodeType===1&&Ho(e,n),cs(e)):Ho(pe,n.stateNode));break;case 4:r=pe,s=st,pe=n.stateNode.containerInfo,st=!0,Mt(e,t,n),pe=r,st=s;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&il(n,t,o),s=s.next}while(s!==r)}Mt(e,t,n);break;case 1:if(!xe&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,t,a)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Mt(e,t,n),xe=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tv),t.forEach(function(r){var s=Mv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,st=!1;break e;case 3:pe=a.stateNode.containerInfo,st=!0;break e;case 4:pe=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(pe===null)throw Error(N(160));Hh(i,o,s),pe=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}function Gh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),dt(e),r&4){try{Xr(3,e,e.return),lo(3,e)}catch(w){ie(e,e.return,w)}try{Xr(5,e,e.return)}catch(w){ie(e,e.return,w)}}break;case 1:Ze(t,e),dt(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(Ze(t,e),dt(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(w){ie(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hf(s,i),La(a,o);var u=La(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?yf(s,f):c==="dangerouslySetInnerHTML"?mf(s,f):c==="children"?os(s,f):zl(s,c,f,u)}switch(a){case"input":Ra(s,i);break;case"textarea":gf(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?or(s,!!i.multiple,h,!1):g!==!!i.multiple&&(i.defaultValue!=null?or(s,!!i.multiple,i.defaultValue,!0):or(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(w){ie(e,e.return,w)}}break;case 6:if(Ze(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ie(e,e.return,w)}}break;case 3:if(Ze(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(w){ie(e,e.return,w)}break;case 4:Ze(t,e),dt(e);break;case 13:Ze(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Su=oe())),r&4&&Hc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||c,Ze(t,e),xe=u):Ze(t,e),dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(f=O=c;O!==null;){switch(g=O,h=g.child,g.tag){case 0:case 11:case 14:case 15:Xr(4,g,g.return);break;case 1:sr(g,g.return);var p=g.stateNode;if(typeof p.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:sr(g,g.return);break;case 22:if(g.memoizedState!==null){qc(f);continue}}h!==null?(h.return=g,O=h):qc(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vf("display",o))}catch(w){ie(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ie(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(t,e),dt(e),r&4&&Hc(e);break;case 21:break;default:Ze(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(os(s,""),r.flags&=-33);var i=Bc(e);ll(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bc(e);al(e,a,o);break;default:throw Error(N(161))}}catch(l){ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bv(e,t,n){O=e,qh(e)}function qh(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||xe;a=Xs;var u=xe;if(Xs=o,(xe=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Kc(s):l!==null?(l.return=o,O=l):Kc(s);for(;i!==null;)O=i,qh(i),i=i.sibling;O=s,Xs=a,xe=u}Gc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Gc(e)}}function Gc(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&cs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xe||t.flags&512&&ol(t)}catch(g){ie(t,t.return,g)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function qc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Kc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lo(4,t)}catch(l){ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ie(t,s,l)}}var i=t.return;try{ol(t)}catch(l){ie(t,i,l)}break;case 5:var o=t.return;try{ol(t)}catch(l){ie(t,o,l)}}}catch(l){ie(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var Lv=Math.ceil,Vi=Dt.ReactCurrentDispatcher,yu=Dt.ReactCurrentOwner,We=Dt.ReactCurrentBatchConfig,W=0,he=null,le=null,me=0,De=0,ir=dn(0),ce=0,_s=null,Nn=0,uo=0,wu=0,Zr=null,be=null,Su=0,yr=1/0,kt=null,Bi=!1,ul=null,rn=null,Zs=!1,Jt=null,Hi=0,es=0,cl=null,yi=-1,wi=0;function Re(){return W&6?oe():yi!==-1?yi:yi=oe()}function sn(e){return e.mode&1?W&2&&me!==0?me&-me:pv.transition!==null?(wi===0&&(wi=Nf()),wi):(e=J,e!==0||(e=window.event,e=e===void 0?16:Df(e.type)),e):1}function lt(e,t,n,r){if(50<es)throw es=0,cl=null,Error(N(185));Rs(e,n,r),(!(W&2)||e!==he)&&(e===he&&(!(W&2)&&(uo|=n),ce===4&&qt(e,me)),Ie(e,r),n===1&&W===0&&!(t.mode&1)&&(yr=oe()+500,io&&fn()))}function Ie(e,t){var n=e.callbackNode;pm(e,t);var r=Ri(e,e===he?me:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?gv(Wc.bind(null,e)):nh(Wc.bind(null,e)),cv(function(){!(W&6)&&fn()}),n=null;else{switch(bf(r)){case 1:n=ql;break;case 4:n=Pf;break;case 16:n=ji;break;case 536870912:n=Tf;break;default:n=ji}n=eg(n,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kh(e,t){if(yi=-1,wi=0,W&6)throw Error(N(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=Ri(e,e===he?me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gi(e,r);else{t=r;var s=W;W|=2;var i=Jh();(he!==e||me!==t)&&(kt=null,yr=oe()+500,Cn(e,t));do try{Av();break}catch(a){Wh(e,a)}while(!0);iu(),Vi.current=i,W=s,le!==null?t=0:(he=null,me=0,t=ce)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(r=s,t=dl(e,s))),t===1)throw n=_s,Cn(e,0),qt(e,r),Ie(e,oe()),n;if(t===6)qt(e,r);else{if(s=e.current.alternate,!(r&30)&&!$v(s)&&(t=Gi(e,r),t===2&&(i=Da(e),i!==0&&(r=i,t=dl(e,i))),t===1))throw n=_s,Cn(e,0),qt(e,r),Ie(e,oe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:yn(e,be,kt);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Su+500-oe(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ga(yn.bind(null,e,be,kt),t);break}yn(e,be,kt);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lv(r/1960))-r,10<r){e.timeoutHandle=Ga(yn.bind(null,e,be,kt),r);break}yn(e,be,kt);break;case 5:yn(e,be,kt);break;default:throw Error(N(329))}}}return Ie(e,oe()),e.callbackNode===n?Kh.bind(null,e):null}function dl(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=be,be=n,t!==null&&fl(t)),e}function fl(e){be===null?be=e:be.push.apply(be,e)}function $v(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~wu,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Wc(e){if(W&6)throw Error(N(327));dr();var t=Ri(e,0);if(!(t&1))return Ie(e,oe()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=dl(e,r))}if(n===1)throw n=_s,Cn(e,0),qt(e,t),Ie(e,oe()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,be,kt),Ie(e,oe()),null}function _u(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(yr=oe()+500,io&&fn())}}function bn(e){Jt!==null&&Jt.tag===0&&!(W&6)&&dr();var t=W;W|=1;var n=We.transition,r=J;try{if(We.transition=null,J=1,e)return e()}finally{J=r,We.transition=n,W=t,!(W&6)&&fn()}}function xu(){De=ir.current,Z(ir)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uv(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Li();break;case 3:mr(),Z(Oe),Z(ke),du();break;case 5:cu(r);break;case 4:mr();break;case 13:Z(te);break;case 19:Z(te);break;case 10:ou(r.type._context);break;case 22:case 23:xu()}n=n.return}if(he=e,le=e=on(e.current,null),me=De=t,ce=0,_s=null,wu=uo=Nn=0,be=Zr=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xn=null}return e}function Wh(e,t){do{var n=le;try{if(iu(),pi.current=zi,Ui){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ui=!1}if(Tn=0,fe=ue=ne=null,Yr=!1,ys=0,yu.current=null,n===null||n.return===null){ce=1,_s=t,le=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ac(o);if(h!==null){h.flags&=-257,Ic(h,o,a,i,t),h.mode&1&&Oc(i,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var w=new Set;w.add(l),t.updateQueue=w}else p.add(l);break e}else{if(!(t&1)){Oc(i,u,t),ku();break e}l=Error(N(426))}}else if(ee&&a.mode&1){var k=Ac(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ic(k,o,a,i,t),ru(vr(l,a));break e}}i=l=vr(l,a),ce!==4&&(ce=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=bh(i,l,t);Pc(i,v);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rn===null||!rn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Lh(i,a,t);Pc(i,x);break e}}i=i.return}while(i!==null)}Yh(n)}catch(_){t=_,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Jh(){var e=Vi.current;return Vi.current=zi,e===null?zi:e}function ku(){(ce===0||ce===3||ce===2)&&(ce=4),he===null||!(Nn&268435455)&&!(uo&268435455)||qt(he,me)}function Gi(e,t){var n=W;W|=2;var r=Jh();(he!==e||me!==t)&&(kt=null,Cn(e,t));do try{Ov();break}catch(s){Wh(e,s)}while(!0);if(iu(),W=n,Vi.current=r,le!==null)throw Error(N(261));return he=null,me=0,ce}function Ov(){for(;le!==null;)Qh(le)}function Av(){for(;le!==null&&!om();)Qh(le)}function Qh(e){var t=Zh(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?Yh(e):le=t,yu.current=null}function Yh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pv(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,le=null;return}}else if(n=Rv(n,t,De),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ce===0&&(ce=5)}function yn(e,t,n){var r=J,s=We.transition;try{We.transition=null,J=1,Iv(e,t,n,r)}finally{We.transition=s,J=r}return null}function Iv(e,t,n,r){do dr();while(Jt!==null);if(W&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mm(e,i),e===he&&(le=he=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zs||(Zs=!0,eg(ji,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=J;J=1;var a=W;W|=4,yu.current=null,Nv(e,n),Gh(n,e),nv(Ba),Pi=!!Va,Ba=Va=null,e.current=n,bv(n),am(),W=a,J=o,We.transition=i}else e.current=n;if(Zs&&(Zs=!1,Jt=e,Hi=s),i=e.pendingLanes,i===0&&(rn=null),cm(n.stateNode),Ie(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bi)throw Bi=!1,e=ul,ul=null,e;return Hi&1&&e.tag!==0&&dr(),i=e.pendingLanes,i&1?e===cl?es++:(es=0,cl=e):es=0,fn(),null}function dr(){if(Jt!==null){var e=bf(Hi),t=We.transition,n=J;try{if(We.transition=null,J=16>e?16:e,Jt===null)var r=!1;else{if(e=Jt,Jt=null,Hi=0,W&6)throw Error(N(331));var s=W;for(W|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Xr(8,c,i)}var f=c.child;if(f!==null)f.return=c,O=f;else for(;O!==null;){c=O;var g=c.sibling,h=c.return;if(Vh(c),c===u){O=null;break}if(g!==null){g.return=h,O=g;break}O=h}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,O=v;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=m;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lo(9,a)}}catch(_){ie(a,a.return,_)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(W=s,fn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(eo,e)}catch{}r=!0}return r}finally{J=n,We.transition=t}}return!1}function Jc(e,t,n){t=vr(n,t),t=bh(e,t,1),e=nn(e,t,1),t=Re(),e!==null&&(Rs(e,1,t),Ie(e,t))}function ie(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=vr(n,e),e=Lh(t,e,1),t=nn(t,e,1),e=Re(),t!==null&&(Rs(t,1,e),Ie(t,e));break}}t=t.return}}function Dv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(me&n)===n&&(ce===4||ce===3&&(me&130023424)===me&&500>oe()-Su?Cn(e,0):wu|=n),Ie(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):t=1);var n=Re();e=Ot(e,t),e!==null&&(Rs(e,t,n),Ie(e,n))}function Fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xh(e,n)}function Mv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Xh(e,n)}var Zh;Zh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,jv(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ee&&t.flags&1048576&&rh(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vi(e,t),e=t.pendingProps;var s=hr(t,ke.current);cr(t,n),s=hu(null,t,r,e,s,n);var i=gu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(i=!0,$i(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,Xa(t,r,e,n),t=tl(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&tu(t),je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=zv(r),e=nt(r,e),s){case 0:t=el(null,t,r,e,n);break e;case 1:t=Mc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=Fc(null,t,r,nt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),el(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Mc(e,t,r,s,n);case 3:e:{if(Ih(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,uh(e,t),Fi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vr(Error(N(423)),t),t=Uc(e,t,r,n,s);break e}else if(r!==s){s=vr(Error(N(424)),t),t=Uc(e,t,r,n,s);break e}else for(Fe=tn(t.stateNode.containerInfo.firstChild),Me=t,ee=!0,ot=null,n=ah(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){t=At(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return ch(t),e===null&&Ja(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ha(r,s)?o=null:i!==null&&Ha(r,i)&&(t.flags|=32),Ah(e,t),je(e,t,o,n),t.child;case 6:return e===null&&Ja(t),null;case 13:return Dh(e,t,n);case 4:return uu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Dc(e,t,r,s,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Y(Ii,r._currentValue),r._currentValue=o,i!==null)if(ct(i.value,o)){if(i.children===s.children&&!Oe.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Nt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qa(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,cr(t,n),s=Qe(s),r=r(s),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,s=nt(r,t.pendingProps),s=nt(r.type,s),Fc(e,t,r,s,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),vi(e,t),t.tag=1,Ae(r)?(e=!0,$i(t)):e=!1,cr(t,n),Nh(t,r,s),Xa(t,r,s,n),tl(null,t,r,!0,e,n);case 19:return Fh(e,t,n);case 22:return Oh(e,t,n)}throw Error(N(156,t.tag))};function eg(e,t){return Rf(e,t)}function Uv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new Uv(e,t,n,r)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zv(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bl)return 11;if(e===Hl)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Si(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Cu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jn:return En(n.children,s,i,t);case Vl:o=8,s|=8;break;case xa:return e=Ke(12,n,t,s|2),e.elementType=xa,e.lanes=i,e;case ka:return e=Ke(13,n,t,s),e.elementType=ka,e.lanes=i,e;case Ca:return e=Ke(19,n,t,s),e.elementType=Ca,e.lanes=i,e;case cf:return co(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lf:o=10;break e;case uf:o=9;break e;case Bl:o=11;break e;case Hl:o=14;break e;case Bt:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ke(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function En(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function co(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=cf,e.lanes=n,e.stateNode={isHidden:!1},e}function Xo(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Zo(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(e,t,n,r,s,i,o,a,l){return e=new Vv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),e}function Bv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tg(e){if(!e)return ln;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ae(n))return th(e,n,t)}return t}function ng(e,t,n,r,s,i,o,a,l){return e=Eu(n,r,!0,e,s,i,o,a,l),e.context=tg(null),n=e.current,r=Re(),s=sn(n),i=Nt(r,s),i.callback=t??null,nn(n,i,s),e.current.lanes=s,Rs(e,s,r),Ie(e,r),e}function fo(e,t,n,r){var s=t.current,i=Re(),o=sn(s);return n=tg(n),t.context===null?t.context=n:t.pendingContext=n,t=Nt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(s,t,o),e!==null&&(lt(e,s,o,i),gi(e,s,o)),o}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ju(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function Hv(){return null}var rg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ru(e){this._internalRoot=e}ho.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));fo(e,t,null,null)};ho.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){fo(null,e,null,null)}),t[$t]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=Of();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&If(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Gv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qi(o);i.call(u)}}var o=ng(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=o,e[$t]=o.current,hs(e.nodeType===8?e.parentNode:e),bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=qi(l);a.call(u)}}var l=Eu(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=l,e[$t]=l.current,hs(e.nodeType===8?e.parentNode:e),bn(function(){fo(t,l,n,r)}),l}function po(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qi(o);a.call(l)}}fo(t,o,e,s)}else o=Gv(n,t,e,s,r);return qi(o)}Lf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(Kl(t,n|1),Ie(t,oe()),!(W&6)&&(yr=oe()+500,fn()))}break;case 13:bn(function(){var r=Ot(e,1);if(r!==null){var s=Re();lt(r,e,1,s)}}),ju(e,1)}};Wl=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=Re();lt(t,e,134217728,n)}ju(e,134217728)}};$f=function(e){if(e.tag===13){var t=sn(e),n=Ot(e,t);if(n!==null){var r=Re();lt(n,e,t,r)}ju(e,t)}};Of=function(){return J};Af=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Oa=function(e,t,n){switch(t){case"input":if(Ra(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=so(r);if(!s)throw Error(N(90));ff(r),Ra(r,s)}}}break;case"textarea":gf(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};_f=_u;xf=bn;var qv={usingClientEntryPoint:!1,Events:[Ts,Zn,so,wf,Sf,_u]},Ar={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ef(e),e===null?null:e.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||Hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ei.isDisabled&&ei.supportsFiber)try{eo=ei.inject(Kv),pt=ei}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(N(200));return Bv(e,t,null,n)};Ve.createRoot=function(e,t){if(!Pu(e))throw Error(N(299));var n=!1,r="",s=rg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Eu(e,1,!1,null,null,n,!1,r,s),e[$t]=t.current,hs(e.nodeType===8?e.parentNode:e),new Ru(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Ef(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return bn(e)};Ve.hydrate=function(e,t,n){if(!go(t))throw Error(N(200));return po(null,e,t,!0,n)};Ve.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ng(t,null,e,1,n??null,s,!1,i,o),e[$t]=t.current,hs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ho(t)};Ve.render=function(e,t,n){if(!go(t))throw Error(N(200));return po(null,e,t,!1,n)};Ve.unmountComponentAtNode=function(e){if(!go(e))throw Error(N(40));return e._reactRootContainer?(bn(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Ve.unstable_batchedUpdates=_u;Ve.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!go(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return po(e,t,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function sg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sg)}catch(e){console.error(e)}}sg(),rf.exports=Ve;var Wv=rf.exports,Xc=Wv;Sa.createRoot=Xc.createRoot,Sa.hydrateRoot=Xc.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zc="popstate";function Jv(e={}){function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return hl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xs(s)}return Yv(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qv(){return Math.random().toString(36).substring(2,10)}function ed(e,t){return{usr:e.state,key:e.key,idx:t}}function hl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kr(t):t,state:n,key:t&&t.key||r||Qv()}}function xs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Yv(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=c(),v=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:v})}function g(k,v){a="PUSH";let m=hl(w.location,k,v);u=c()+1;let y=ed(m,u),x=w.createHref(m);try{o.pushState(y,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function h(k,v){a="REPLACE";let m=hl(w.location,k,v);u=c();let y=ed(m,u),x=w.createHref(m);o.replaceState(y,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function p(k){return Xv(k)}let w={get action(){return a},get location(){return e(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Zc,f),l=k,()=>{s.removeEventListener(Zc,f),l=null}},createHref(k){return t(s,k)},createURL:p,encodeLocation(k){let v=p(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:h,go(k){return o.go(k)}};return w}function Xv(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ig(e,t,n="/"){return Zv(e,t,n,!1)}function Zv(e,t,n,r){let s=typeof t=="string"?kr(t):t,i=It(s.pathname||"/",n);if(i==null)return null;let o=og(e);ey(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=dy(i);a=uy(o[l],u,r)}return a}function og(e,t=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=bt([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(re(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),og(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ay(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ag(i.path))s(i,o,l)}),t}function ag(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ag(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function ey(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ly(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ty=/^:[\w-]+$/,ny=3,ry=2,sy=1,iy=10,oy=-2,td=e=>e==="*";function ay(e,t){let n=e.split("/"),r=n.length;return n.some(td)&&(r+=oy),t&&(r+=ry),n.filter(s=>!td(s)).reduce((s,i)=>s+(ty.test(i)?ny:i===""?sy:iy),r)}function ly(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function uy(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=Ki({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ki({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bt([i,f.pathname]),pathnameBase:py(bt([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=bt([i,f.pathnameBase]))}return o}function Ki(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cy(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},g)=>{if(c==="*"){let p=a[g]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[g];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function cy(e,t=!1,n=!0){vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function dy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function It(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function fy(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?kr(e):e;return{pathname:n?n.startsWith("/")?n:hy(n,t):t,search:my(r),hash:vy(s)}}function hy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ea(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lg(e){let t=gy(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ug(e,t,n,r=!1){let s;typeof e=="string"?s=kr(e):(s={...e},re(!s.pathname||!s.pathname.includes("?"),ea("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),ea("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),ea("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=fy(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var bt=e=>e.join("/").replace(/\/\/+/g,"/"),py=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),my=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cg=["POST","PUT","PATCH","DELETE"];new Set(cg);var wy=["GET",...cg];new Set(wy);var Cr=S.createContext(null);Cr.displayName="DataRouter";var mo=S.createContext(null);mo.displayName="DataRouterState";S.createContext(!1);var dg=S.createContext({isTransitioning:!1});dg.displayName="ViewTransition";var Sy=S.createContext(new Map);Sy.displayName="Fetchers";var _y=S.createContext(null);_y.displayName="Await";var yt=S.createContext(null);yt.displayName="Navigation";var bs=S.createContext(null);bs.displayName="Location";var wt=S.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var Tu=S.createContext(null);Tu.displayName="RouteError";function xy(e,{relative:t}={}){re(Ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(yt),{hash:s,pathname:i,search:o}=$s(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:bt([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Ls(){return S.useContext(bs)!=null}function hn(){return re(Ls(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(bs).location}var fg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hg(e){S.useContext(yt).static||S.useLayoutEffect(e)}function Nu(){let{isDataRoute:e}=S.useContext(wt);return e?Ay():ky()}function ky(){re(Ls(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Cr),{basename:t,navigator:n}=S.useContext(yt),{matches:r}=S.useContext(wt),{pathname:s}=hn(),i=JSON.stringify(lg(r)),o=S.useRef(!1);return hg(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(vt(o.current,fg),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=ug(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:bt([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}S.createContext(null);function gg(){let{matches:e}=S.useContext(wt),t=e[e.length-1];return t?t.params:{}}function $s(e,{relative:t}={}){let{matches:n}=S.useContext(wt),{pathname:r}=hn(),s=JSON.stringify(lg(n));return S.useMemo(()=>ug(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Cy(e,t){return pg(e,t)}function pg(e,t,n,r){var v;re(Ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(yt),{matches:i}=S.useContext(wt),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let m=c&&c.path||"";mg(l,!c||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=hn(),g;if(t){let m=typeof t=="string"?kr(t):t;re(u==="/"||((v=m.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=f;let h=g.pathname||"/",p=h;if(u!=="/"){let m=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=ig(e,{pathname:p});vt(c||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Ty(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:bt([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:bt([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n,r);return t&&k?S.createElement(bs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function Ey(){let e=Oy(),t=yy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,o)}var jy=S.createElement(Ey,null),Ry=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(wt.Provider,{value:this.props.routeContext},S.createElement(Tu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Py({routeContext:e,match:t,children:n}){let r=S.useContext(Cr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(wt.Provider,{value:e},n)}function Ty(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);re(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:f}=n,g=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let f,g=!1,h=null,p=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||jy,o&&(a<0&&c===0?(mg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):a===c&&(g=!0,p=u.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,c+1)),k=()=>{let v;return f?v=h:g?v=p:u.route.Component?v=S.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,S.createElement(Py,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?S.createElement(Ry,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function bu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ny(e){let t=S.useContext(Cr);return re(t,bu(e)),t}function by(e){let t=S.useContext(mo);return re(t,bu(e)),t}function Ly(e){let t=S.useContext(wt);return re(t,bu(e)),t}function Lu(e){let t=Ly(e),n=t.matches[t.matches.length-1];return re(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function $y(){return Lu("useRouteId")}function Oy(){var r;let e=S.useContext(Tu),t=by("useRouteError"),n=Lu("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Ay(){let{router:e}=Ny("useNavigate"),t=Lu("useNavigate"),n=S.useRef(!1);return hg(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{vt(n.current,fg),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var nd={};function mg(e,t,n){!t&&!nd[e]&&(nd[e]=!0,vt(!1,n))}S.memo(Iy);function Iy({routes:e,future:t,state:n}){return pg(e,void 0,n,t)}function et(e){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dy({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){re(!Ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=kr(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:g="default"}=n,h=S.useMemo(()=>{let p=It(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:f,key:g},navigationType:r}},[o,l,u,c,f,g,r]);return vt(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:S.createElement(yt.Provider,{value:a},S.createElement(bs.Provider,{children:t,value:h}))}function Fy({children:e,location:t}){return Cy(gl(e),t)}function gl(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,gl(r.props.children,i));return}re(r.type===et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gl(r.props.children,i)),n.push(o)}),n}var _i="get",xi="application/x-www-form-urlencoded";function vo(e){return e!=null&&typeof e.tagName=="string"}function My(e){return vo(e)&&e.tagName.toLowerCase()==="button"}function Uy(e){return vo(e)&&e.tagName.toLowerCase()==="form"}function zy(e){return vo(e)&&e.tagName.toLowerCase()==="input"}function Vy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function By(e,t){return e.button===0&&(!t||t==="_self")&&!Vy(e)}var ti=null;function Hy(){if(ti===null)try{new FormData(document.createElement("form"),0),ti=!1}catch{ti=!0}return ti}var Gy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ta(e){return e!=null&&!Gy.has(e)?(vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xi}"`),null):e}function qy(e,t){let n,r,s,i,o;if(Uy(e)){let a=e.getAttribute("action");r=a?It(a,t):null,n=e.getAttribute("method")||_i,s=ta(e.getAttribute("enctype"))||xi,i=new FormData(e)}else if(My(e)||zy(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?It(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||_i,s=ta(e.getAttribute("formenctype"))||ta(a.getAttribute("enctype"))||xi,i=new FormData(a,e),!Hy()){let{name:u,type:c,value:f}=e;if(c==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,f)}}else{if(vo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_i,r=null,s=xi,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $u(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ky(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&It(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Wy(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qy(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Wy(i,n);return o.links?o.links():[]}return[]}));return ew(r.flat(1).filter(Jy).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rd(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Yy(e,t,{includeHydrateFallback:n}={}){return Xy(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Xy(e){return[...new Set(e)]}function Zy(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ew(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(Zy(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function vg(){let e=S.useContext(Cr);return $u(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tw(){let e=S.useContext(mo);return $u(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ou=S.createContext(void 0);Ou.displayName="FrameworkContext";function yg(){let e=S.useContext(Ou);return $u(e,"You must render this element inside a <HydratedRouter> element"),e}function nw(e,t){let n=S.useContext(Ou),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=v=>{v.forEach(m=>{o(m.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let h=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Ir(a,h),onBlur:Ir(l,p),onMouseEnter:Ir(u,h),onMouseLeave:Ir(c,p),onTouchStart:Ir(f,h)}]:[!1,g,{}]}function Ir(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rw({page:e,...t}){let{router:n}=vg(),r=S.useMemo(()=>ig(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(iw,{page:e,matches:r,...t}):null}function sw(e){let{manifest:t,routeModules:n}=yg(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return Qy(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function iw({page:e,matches:t,...n}){let r=hn(),{manifest:s,routeModules:i}=yg(),{basename:o}=vg(),{loaderData:a,matches:l}=tw(),u=S.useMemo(()=>rd(e,t,l,s,r,"data"),[e,t,l,s,r]),c=S.useMemo(()=>rd(e,t,l,s,r,"assets"),[e,t,l,s,r]),f=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,w=!1;if(t.forEach(v=>{var y;let m=s.routes[v.route.id];!m||!m.hasLoader||(!u.some(x=>x.route.id===v.route.id)&&v.route.id in a&&((y=i[v.route.id])!=null&&y.shouldRevalidate)||m.hasClientLoader?w=!0:p.add(v.route.id))}),p.size===0)return[];let k=Ky(e,o,"data");return w&&p.size>0&&k.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[k.pathname+k.search]},[o,a,r,s,u,t,e,i]),g=S.useMemo(()=>Yy(c,s),[c,s]),h=sw(c);return S.createElement(S.Fragment,null,f.map(p=>S.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),g.map(p=>S.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:w})=>S.createElement("link",{key:p,...w})))}function ow(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wg&&(window.__reactRouterVersion="7.7.1")}catch{}function aw({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=Jv({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>s.listen(a),[s,a]),S.createElement(Dy,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...g},h){let{basename:p}=S.useContext(yt),w=typeof u=="string"&&Sg.test(u),k,v=!1;if(typeof u=="string"&&w&&(k=u,wg))try{let P=new URL(window.location.href),j=u.startsWith("//")?new URL(P.protocol+u):new URL(u),L=It(j.pathname,p);j.origin===P.origin&&L!=null?u=L+j.search+j.hash:v=!0}catch{vt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=xy(u,{relative:s}),[y,x,_]=nw(r,g),E=dw(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:f});function C(P){t&&t(P),P.defaultPrevented||E(P)}let R=S.createElement("a",{...g,..._,href:k||m,onClick:v||i?t:C,ref:ow(h,x),target:l,"data-discover":!w&&n==="render"?"true":void 0});return y&&!w?S.createElement(S.Fragment,null,R,S.createElement(rw,{page:m})):R});rt.displayName="Link";var lw=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let f=$s(o,{relative:u.relative}),g=hn(),h=S.useContext(mo),{navigator:p,basename:w}=S.useContext(yt),k=h!=null&&mw(f)&&a===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,m=g.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(m=m.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&w&&(y=It(y,w)||y);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=m===v||!s&&m.startsWith(v)&&m.charAt(x)==="/",E=y!=null&&(y===v||!s&&y.startsWith(v)&&y.charAt(v.length)==="/"),C={isActive:_,isPending:E,isTransitioning:k},R=_?t:void 0,P;typeof r=="function"?P=r(C):P=[r,_?"active":null,E?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(C):i;return S.createElement(rt,{...u,"aria-current":R,className:P,ref:c,style:j,to:o,viewTransition:a},typeof l=="function"?l(C):l)});lw.displayName="NavLink";var uw=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=_i,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...g},h)=>{let p=gw(),w=pw(a,{relative:u}),k=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&Sg.test(a),m=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,_=(x==null?void 0:x.getAttribute("formmethod"))||o;p(x||y.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:f})};return S.createElement("form",{ref:h,method:k,action:w,onSubmit:r?l:m,...g,"data-discover":!v&&e==="render"?"true":void 0})});uw.displayName="Form";function cw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _g(e){let t=S.useContext(Cr);return re(t,cw(e)),t}function dw(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Nu(),l=hn(),u=$s(e,{relative:i});return S.useCallback(c=>{if(By(c,t)){c.preventDefault();let f=n!==void 0?n:xs(l)===xs(u);a(e,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}var fw=0,hw=()=>`__${String(++fw)}__`;function gw(){let{router:e}=_g("useSubmit"),{basename:t}=S.useContext(yt),n=$y();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=qy(r,t);if(s.navigate===!1){let c=s.fetcherKey||hw();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function pw(e,{relative:t}={}){let{basename:n}=S.useContext(yt),r=S.useContext(wt);re(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...$s(e||".",{relative:t})},o=hn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:bt([n,i.pathname])),xs(i)}function mw(e,{relative:t}={}){let n=S.useContext(dg);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_g("useViewTransitionState"),s=$s(e,{relative:t});if(!n.isTransitioning)return!1;let i=It(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=It(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ki(s.pathname,o)!=null||Ki(s.pathname,i)!=null}const vw="modulepreload",yw=function(e){return"/"+e},sd={},Os=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=yw(l),l in sd)return;sd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":vw,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((g,h)=>{f.addEventListener("load",g),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},ww=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Au extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Sw extends Au{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class id extends Au{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class od extends Au{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pl||(pl={}));var _w=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xw{constructor(t,{headers:n={},customFetch:r,region:s=pl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ww(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return _w(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new Sw(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new id(f);if(!f.ok)throw new od(f);let h=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof od||s instanceof id?s.context:void 0}}})}}var Le={},Iu={},yo={},As={},wo={},So={},kw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wr=kw();const Cw=wr.fetch,xg=wr.fetch.bind(wr),kg=wr.Headers,Ew=wr.Request,jw=wr.Response,Er=Object.freeze(Object.defineProperty({__proto__:null,Headers:kg,Request:Ew,Response:jw,default:xg,fetch:Cw},Symbol.toStringTag,{value:"Module"})),Rw=xp(Er);var _o={};Object.defineProperty(_o,"__esModule",{value:!0});let Pw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_o.default=Pw;var Cg=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});const Tw=Cg(Rw),Nw=Cg(_o);let bw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,g=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,g=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,g=200,h="OK")}catch{i.status===404&&w===""?(g=204,h="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,h="OK"),u&&this.shouldThrowOnError)throw new Nw.default(u)}return{error:u,data:c,count:f,status:g,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};So.default=bw;var Lw=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wo,"__esModule",{value:!0});const $w=Lw(So);let Ow=class extends $w.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wo.default=Ow;var Aw=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(As,"__esModule",{value:!0});const Iw=Aw(wo);let Dw=class extends Iw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};As.default=Dw;var Fw=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yo,"__esModule",{value:!0});const Dr=Fw(As);let Mw=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Dr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Dr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Dr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yo.default=Mw;var xo={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.version=void 0;ko.version="0.0.0-automated";Object.defineProperty(xo,"__esModule",{value:!0});xo.DEFAULT_HEADERS=void 0;const Uw=ko;xo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Uw.version}`};var Eg=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iu,"__esModule",{value:!0});const zw=Eg(yo),Vw=Eg(As),Bw=xo;let Hw=class jg{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Bw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new zw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Vw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Iu.default=Hw;var jr=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const Rg=jr(Iu);Le.PostgrestClient=Rg.default;const Pg=jr(yo);Le.PostgrestQueryBuilder=Pg.default;const Tg=jr(As);Le.PostgrestFilterBuilder=Tg.default;const Ng=jr(wo);Le.PostgrestTransformBuilder=Ng.default;const bg=jr(So);Le.PostgrestBuilder=bg.default;const Lg=jr(_o);Le.PostgrestError=Lg.default;var Gw=Le.default={PostgrestClient:Rg.default,PostgrestQueryBuilder:Pg.default,PostgrestFilterBuilder:Tg.default,PostgrestTransformBuilder:Ng.default,PostgrestBuilder:bg.default,PostgrestError:Lg.default};const{PostgrestClient:qw,PostgrestQueryBuilder:Yk,PostgrestFilterBuilder:Xk,PostgrestTransformBuilder:Zk,PostgrestBuilder:eC,PostgrestError:tC}=Gw;function Kw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ww=Kw(),Jw="2.11.15",Qw=`realtime-js/${Jw}`,Yw="1.0.0",$g=1e4,Xw=1e3;var ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ts||(ts={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var ml;(function(e){e.websocket="websocket"})(ml||(ml={}));var Sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sn||(Sn={}));class Zw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Og{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const ad=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=e0(o,e,t,s),i),{})},e0=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Ag(i,o):vl(o)},Ag=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return s0(t,n)}switch(e){case Q.bool:return t0(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return n0(t);case Q.json:case Q.jsonb:return r0(t);case Q.timestamp:return i0(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return vl(t);default:return vl(t)}},vl=e=>e,t0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},n0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},s0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ag(t,a))}return e},i0=e=>typeof e=="string"?e.replace(" ","T"):e,Ig=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class na{constructor(t,n,r={},s=$g){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ld;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ld||(ld={}));class ns{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ns.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ns.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const g=c.map(k=>k.presence_ref),h=f.map(k=>k.presence_ref),p=c.filter(k=>h.indexOf(k.presence_ref)<0),w=f.filter(k=>g.indexOf(k.presence_ref)<0);p.length>0&&(a[u]=p),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(h=>h.presence_ref),g=c.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...g)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ud;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ud||(ud={}));var cd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cd||(cd={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Du{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new na(this,it.join,this.params,this.timeout),this.rejoinTimer=new Og(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ns(this),this.broadcastEndpointURL=Ig(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Ct.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,h=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,p=[];for(let w=0;w<h;w++){const k=g[w],{filter:{event:v,schema:m,table:y,filter:x}}=k,_=c&&c[w];if(_&&_.event===v&&_.schema===m&&_.table===y&&_.filter===x)p.push(Object.assign(Object.assign({},k),{id:_.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Ct.SUBSCRIBED);return}}).receive("error",c=>{this.state=_e.errored,t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new na(this,it.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new na(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,w,k;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((k=(w=h.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(h=>h.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,w,k,v,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const x=h.id,_=(p=h.filter)===null||p===void 0?void 0:p.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(m=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof g=="object"&&"ids"in g){const p=g.data,{schema:w,table:k,commit_timestamp:v,type:m,errors:y}=p;g=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:v,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(p))}h.callback(g,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Du.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ad(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ad(t.columns,t.old_record)),n}}const dd=()=>{},o0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$g,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dd,this.ref=0,this.logger=dd,this.conn=null,this.sendBuffer=[],this.serializer=new Zw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Os(async()=>{const{default:l}=await Promise.resolve().then(()=>Er);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ml.websocket}`,this.httpEndpoint=Ig(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Og(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ww),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return Sn.Connecting;case ts.open:return Sn.Open;case ts.closing:return Sn.Closing;default:return Sn.Closed}}isConnected(){return this.connectionState()===Sn.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Du(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Qw};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Xw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([o0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Fu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class l0 extends Fu{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yl extends Fu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var u0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Dg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},c0=()=>u0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Os(()=>Promise.resolve().then(()=>Er),void 0)).Response:Response}),wl=e=>{if(Array.isArray(e))return e.map(n=>wl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wl(r)}),t},d0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var On=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f0=(e,t,n)=>On(void 0,void 0,void 0,function*(){const r=yield c0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new l0(ra(s),i,o))}).catch(s=>{t(new yl(ra(s),s))}):t(new yl(ra(e),e))}),h0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(d0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Is(e,t,n,r,s,i){return On(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,h0(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>f0(l,a,r))})})}function Wi(e,t,n,r){return On(this,void 0,void 0,function*(){return Is(e,"GET",t,n,r)})}function Et(e,t,n,r,s){return On(this,void 0,void 0,function*(){return Is(e,"POST",t,r,s,n)})}function Sl(e,t,n,r,s){return On(this,void 0,void 0,function*(){return Is(e,"PUT",t,r,s,n)})}function g0(e,t,n,r){return On(this,void 0,void 0,function*(){return Is(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fg(e,t,n,r,s){return On(this,void 0,void 0,function*(){return Is(e,"DELETE",t,r,s,n)})}var Ne=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Dg(s)}uploadOrUpdate(t,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?Sl:Et)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:fd.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Sl(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof yl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},p0),n),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const v0="2.10.4",y0={"X-Client-Info":`storage-js/${v0}`};var Dn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class w0{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},y0),n),this.fetch=Dg(r)}listBuckets(){return Dn(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Dn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Dn(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Fg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class S0 extends w0{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new m0(this.url,this.headers,t,this.fetch)}}const _0="2.53.0";let Gr="";typeof Deno<"u"?Gr="deno":typeof document<"u"?Gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gr="react-native":Gr="node";const x0={"X-Client-Info":`supabase-js-${Gr}/${_0}`},k0={headers:x0},C0={schema:"public"},E0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j0={};var R0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=xg:t=fetch,(...n)=>t(...n)},T0=()=>typeof Headers>"u"?kg:Headers,N0=(e,t,n)=>{const r=P0(n),s=T0();return(i,o)=>R0(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var b0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function L0(e){return e.endsWith("/")?e:e+"/"}function $0(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b0(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Mg="2.71.1",qn=30*1e3,_l=3,sa=_l*qn,O0="http://localhost:9999",A0="supabase.auth.token",I0={"X-Client-Info":`gotrue-js/${Mg}`},xl="X-Supabase-Api-Version",Ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},D0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F0=10*60*1e3;class Mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class M0 extends Mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function U0(e){return B(e)&&e.name==="AuthApiError"}class zg extends Mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gn extends Mu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class zt extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z0(e){return B(e)&&e.name==="AuthSessionMissingError"}class ni extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ri extends gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class si extends gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V0(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class hd extends gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kl extends gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ia(e){return B(e)&&e.name==="AuthRetryableFetchError"}class gd extends gn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cl extends gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pd=` 	
\r=`.split(""),B0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pd.length;t+=1)e[pd[t].charCodeAt(0)]=-2;for(let t=0;t<Ji.length;t+=1)e[Ji[t].charCodeAt(0)]=t;return e})();function md(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ji[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ji[r]),t.queuedBits-=6}}function Vg(e,t,n){const r=B0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{q0(o,r,n)};for(let o=0;o<e.length;o+=1)Vg(e.charCodeAt(o),s,i);return t.join("")}function H0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function G0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}H0(r,t)}}function q0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function K0(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vg(e.charCodeAt(s),n,r);return new Uint8Array(t)}function W0(e){const t=[];return G0(e,n=>t.push(n)),new Uint8Array(t)}function J0(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>md(s,n,r)),md(null,n,r),t.join("")}function Q0(e){return Math.round(Date.now()/1e3)+e}function Y0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},Bg=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function X0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Hg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Z0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},mn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ut=async(e,t)=>{await e.removeItem(t)};class Co{constructor(){this.promise=new Co.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Co.promiseConstructor=Promise;function oa(e){const t=e.split(".");if(t.length!==3)throw new Cl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!D0.test(t[r]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(vd(t[0])),payload:JSON.parse(vd(t[1])),signature:K0(t[2]),raw:{header:t[0],payload:t[1]}}}async function eS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tS(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function nS(e){return("0"+e.toString(16)).substr(-2)}function rS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,nS).join("")}async function sS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fn(e,t,n=!1){const r=rS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Kn(e,`${t}-code-verifier`,s);const i=await iS(r);return[i,r===i?"plain":"s256"]}const oS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aS(e){const t=e.headers.get(xl);if(!t||!t.match(oS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(e){if(!cS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function aa(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yd(e){return JSON.parse(JSON.stringify(e))}var dS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fS=[502,503,504];async function wd(e){var t;if(!Z0(e))throw new kl(wn(e),0);if(fS.includes(e.status))throw new kl(wn(e),e.status);let n;try{n=await e.json()}catch(i){throw new zg(wn(i),i)}let r;const s=aS(e);if(s&&s.getTime()>=Ug["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gd(wn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gd(wn(n),e.status,n.weak_password.reasons);throw new M0(wn(n),e.status||500,r)}const hS=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function G(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xl]||(i[xl]=Ug["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gS(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function gS(e,t,n,r,s,i){const o=hS(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new kl(wn(l),0)}if(a.ok||await wd(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wd(l)}}function xt(e){var t;let n=null;yS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Q0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Sd(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pS(e){return{data:e,error:null}}function mS(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=dS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vS(e){return e}function yS(e){return e.access_token&&e.refresh_token&&e.expires_in}const la=["global","local","others"];var wS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class SS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Hg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=la[0]){if(la.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${la.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wS(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vS});if(c.error)throw c.error;const f=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(p.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mn(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Mn(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Mn(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Mn(t.userId);try{const{data:n,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Mn(t.userId),Mn(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}function _d(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function _S(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Un={debug:!!(globalThis&&Bg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xS extends Gg{}async function kS(e,t,n){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}_S();const CS={url:O0,storageKey:A0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xd(e,t,n){return await n()}const zn={};class ks{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},CS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new SS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hg(s.fetch),this.lock=s.lock||xd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kS:this.lock=xd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Bg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_d(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_d(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=zn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=zn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=X0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),V0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new zg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:f,options:g}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Fn(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:p},xform:xt})}else if("phone"in t){const{phone:c,password:f,options:g}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xt})}else throw new ri("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sd})}else throw new ri("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ni}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,f,g,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:k,wallet:v,statement:m,options:y}=t;let x;if(tt())if(typeof v=="object")x=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:k,error:v}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:J0(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xt});if(v)throw v;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ni}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:v})}catch(k){if(B(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await mn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ni}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ni}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Fn(this.storage,this.storageKey));const{error:f}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ri("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fn(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:pS})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ri("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await mn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=aa()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(n){if(B(n))return z0(n)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new zt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Fn(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=oa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tt())throw new si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hd("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new si("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let g=c+f;l&&(g=parseInt(l));const h=g-c;h*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=g-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,g,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,g,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await mn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(U0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Y0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Fn(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:g}=i;if(g)throw g;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tS(async s=>(s>0&&await eS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ia(i)&&Date.now()+o-r<qn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await mn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Kn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:aa()}else if(s&&!s.user&&!s.user){const o=await mn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await Kn(this.storage,this.storageKey,s)):s.user=aa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sa;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${sa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ia(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Co;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return ia(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=yd(s);await Kn(this.storage,this.storageKey,i)}else{const s=yd(n);await Kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qn}ms, refresh threshold is ${_l} ticks`),s<=_l&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+F0>s)return r;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=oa(r);n!=null&&n.allowExpired||lS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const c=uS(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,W0(`${a}.${l}`)))throw new Cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ks.nextInstanceID=0;const ES=ks;class jS extends ES{constructor(t){super(t)}}var RS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class PS{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=L0(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:C0,realtime:j0,auth:Object.assign(Object.assign({},E0),{storageKey:u}),global:k0},f=$0(r??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=N0(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new S0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new xw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return RS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jS({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new a0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TS=(e,t,n)=>new PS(e,t,n);function NS(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}NS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bS={BASE_URL:"/",DEV:!1,MODE:"production",NODE_ENV:"production",PROD:!0,SSR:!1,SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxZGhlZ2N6d3djZm5yYW5reWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwNTY2NDIsImV4cCI6MjA2OTYzMjY0Mn0.7BisAmVNNmsr-zdqrrJoILPnW0sQ6DfSfH0IEsjLoOI",SUPABASE_URL:"https://sqdhegczwwcfnrankyde.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"},qg=e=>bS[e],Kg=()=>qg("SUPABASE_URL"),LS=()=>qg("SUPABASE_ANON_KEY"),$S=Kg(),OS=LS(),Vt=TS($S,OS);typeof window<"u"&&(window.supabase=Vt);const Wg=S.createContext(void 0),ge=()=>{const e=S.useContext(Wg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},AS=({children:e})=>{console.log("AuthProvider rendering...");const[t,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState(!1),[f,g]=S.useState(!1),h=async()=>{try{const{data:{session:y}}=await Vt.auth.getSession();return(y==null?void 0:y.access_token)||null}catch(y){return console.error("Error getting access token:",y),null}},p=async y=>{try{console.log("checkUserRoles: Starting role check for userId:",y),g(!0);const x=await h();if(console.log("checkUserRoles: Got access token:",!!x),!x){console.log("checkUserRoles: No access token, setting roles to false"),l(!1),c(!1);return}console.log("checkUserRoles: Querying roles table");const{data:_,error:E}=await Vt.from("roles").select("role").eq("user_id",y);if(console.log("checkUserRoles: Query result:",{data:_,error:E}),E){console.error("Role check error:",E),l(!1),c(!1);return}const C=(_==null?void 0:_.map(j=>j.role))||[],R=C.includes("admin"),P=C.includes("cleaner");console.log("checkUserRoles: Setting roles - isAdmin:",R,"isCleaner:",P),l(R),c(P)}catch(x){console.error("Error checking user roles:",x),l(!1),c(!1)}finally{console.log("checkUserRoles: Finished, setting adminLoading to false"),g(!1)}},w=async(y,x)=>{var _;x?console.log("Auth state changed:",x,(_=y==null?void 0:y.user)==null?void 0:_.email):console.log("Initial session:",y),o(y),n((y==null?void 0:y.user)??null),s(!1),y!=null&&y.user?(console.log("Starting role check for user:",y.user.id),p(y.user.id).catch(E=>{console.error("Role check failed:",E),l(!1),c(!1)})):(l(!1),c(!1))};S.useEffect(()=>{console.log("AuthProvider useEffect running..."),(async()=>{try{console.log("Getting initial session...");const{data:{session:_}}=await Vt.auth.getSession();await w(_)}catch(_){console.error("Error getting initial session:",_),s(!1)}})();const{data:{subscription:x}}=Vt.auth.onAuthStateChange(async(_,E)=>{await w(E,_)});return()=>x.unsubscribe()},[]),console.log("AuthProvider state:",{user:t,loading:r,session:i});const m={user:t,session:i,loading:r,isAdmin:a,isCleaner:u,adminLoading:f,signInWithGoogle:async()=>{try{const y=`${window.location.origin}/auth/callback`;console.log("Starting Google OAuth sign in...",y);const{error:x}=await Vt.auth.signInWithOAuth({provider:"google",options:{redirectTo:y}});if(x)throw x}catch(y){throw console.error("Error signing in with Google:",y),y}},signOut:async()=>{try{const{error:y}=await Vt.auth.signOut();if(y)throw y}catch(y){throw console.error("Error signing out:",y),y}},getAccessToken:h,checkUserRoles:p,supabase:Vt};return d.jsx(Wg.Provider,{value:m,children:e})},IS=(e,t,n,r)=>{var i,o,a,l;const s=[n,{code:t,...r||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);jn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&l.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},kd={},El=(e,t,n,r)=>{jn(n)&&kd[n]||(jn(n)&&(kd[n]=new Date),IS(e,t,n,r))},Jg=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},jl=(e,t,n)=>{e.loadNamespaces(t,Jg(e,n))},Cd=(e,t,n,r)=>{if(jn(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return jl(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,Jg(e,r))},DS=(e,t,n={})=>!t.languages||!t.languages.length?(El(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),jn=e=>typeof e=="string",FS=e=>typeof e=="object"&&e!==null,MS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,US={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},zS=e=>US[e],VS=e=>e.replace(MS,zS);let Rl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:VS};const BS=(e={})=>{Rl={...Rl,...e}},HS=()=>Rl;let Qg;const GS=e=>{Qg=e},qS=()=>Qg,KS={type:"3rdParty",init(e){BS(e.options.react),GS(e)}},WS=S.createContext();class JS{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const QS=(e,t)=>{const n=S.useRef();return S.useEffect(()=>{n.current=e},[e,t]),n.current},Yg=(e,t,n,r)=>e.getFixedT(t,n,r),YS=(e,t,n,r)=>S.useCallback(Yg(e,t,n,r),[e,t,n,r]),ae=(e,t={})=>{var x,_,E,C;const{i18n:n}=t,{i18n:r,defaultNS:s}=S.useContext(WS)||{},i=n||r||qS();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new JS),!i){El(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(j,L)=>jn(L)?L:FS(L)&&jn(L.defaultValue)?L.defaultValue:Array.isArray(j)?j[j.length-1]:j,P=[R,{},!1];return P.t=R,P.i18n={},P.ready=!1,P}(x=i.options.react)!=null&&x.wait&&El(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...HS(),...i.options.react,...t},{useSuspense:a,keyPrefix:l}=o;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=jn(u)?[u]:u||["translation"],(C=(E=i.reportNamespaces).addUsedNamespaces)==null||C.call(E,u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>DS(R,i,o)),f=YS(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),g=()=>f,h=()=>Yg(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),[p,w]=S.useState(g);let k=u.join();t.lng&&(k=`${t.lng}${k}`);const v=QS(k),m=S.useRef(!0);S.useEffect(()=>{const{bindI18n:R,bindI18nStore:P}=o;m.current=!0,!c&&!a&&(t.lng?Cd(i,t.lng,u,()=>{m.current&&w(h)}):jl(i,u,()=>{m.current&&w(h)})),c&&v&&v!==k&&m.current&&w(h);const j=()=>{m.current&&w(h)};return R&&(i==null||i.on(R,j)),P&&(i==null||i.store.on(P,j)),()=>{m.current=!1,i&&R&&(R==null||R.split(" ").forEach(L=>i.off(L,j))),P&&i&&P.split(" ").forEach(L=>i.store.off(L,j))}},[i,k]),S.useEffect(()=>{m.current&&c&&w(g)},[i,l,c]);const y=[p,i,c];if(y.t=p,y.i18n=i,y.ready=c,c||!c&&!a)return y;throw new Promise(R=>{t.lng?Cd(i,t.lng,u,()=>R()):jl(i,u,()=>R())})},Xg=S.createContext(void 0),XS=({children:e})=>{const{i18n:t}=ae(),[n,r]=S.useState("en");S.useEffect(()=>{const o=localStorage.getItem("preferred-language")||"en";r(o),t.changeLanguage(o)},[t]);const i={currentLanguage:n,changeLanguage:o=>{r(o),t.changeLanguage(o),localStorage.setItem("preferred-language",o)}};return d.jsx(Xg.Provider,{value:i,children:e})},ZS=()=>{const e=S.useContext(Xg);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},e_=()=>{const{signInWithGoogle:e,loading:t}=ge(),{t:n}=ae(),r=async()=>{try{await e()}catch(s){console.error("Sign in error:",s)}};return d.jsx("div",{className:"auth-container",children:d.jsxs("div",{className:"auth-card",children:[d.jsx("h1",{className:"auth-title",children:n("auth.welcome")}),d.jsx("p",{className:"auth-description",children:n("auth.signInDescription")}),d.jsx("button",{onClick:r,disabled:t,className:"google-signin-btn",children:t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"loading-spinner",style:{width:"20px",height:"20px",margin:0}}),n("auth.signingIn")]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n("auth.signInWithGoogle")]})})]})})},ua=({children:e})=>{console.log("ProtectedRoute rendering...");const{user:t,loading:n}=ge(),{t:r}=ae();return console.log("ProtectedRoute state:",{user:t,loading:n}),n?(console.log("ProtectedRoute: showing loading state"),d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),r("common.loading")]})})})):t?(console.log("ProtectedRoute: showing protected content"),e):(console.log("ProtectedRoute: showing login component"),d.jsx(e_,{}))},Vn=({children:e})=>{const{user:t,loading:n,isAdmin:r,adminLoading:s}=ge(),{t:i}=ae();return n||s?d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),i("admin.checkingAccess")]})})}):t?r?e:d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"access-denied",children:[d.jsx("div",{className:"access-denied-icon",children:"🚫"}),d.jsx("h2",{className:"access-denied-title",children:i("admin.adminAccessRequired")}),d.jsx("p",{className:"access-denied-description",children:i("admin.noAdminPrivileges")})]})})}):d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"access-denied",children:[d.jsx("div",{className:"access-denied-icon",children:"🔐"}),d.jsx("h2",{className:"access-denied-title",children:i("admin.authenticationRequired")}),d.jsx("p",{className:"access-denied-description",children:i("admin.signInToAccess")})]})})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qt(e,t){return typeof e=="function"?e(t):e}function ze(e,t){return n=>{t.setState(r=>({...r,[e]:Qt(n,r[e])}))}}function Eo(e){return e instanceof Function}function t_(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function n_(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function M(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((c,f)=>r[f]!==c)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,g=f/16,h=(p,w)=>{for(p=String(p);p.length<w;)p=" "+p;return p};console.info(`%c⏱ ${h(f,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function U(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function r_(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:M(()=>[e,n,t,i],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),U(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function s_(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=g=>{let h=g;for(const w of l.split(".")){var p;h=(p=h)==null?void 0:p[w]}return h}:c=g=>g[a.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:M(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(h=>h.getFlatColumns())]},U(e.options,"debugColumns")),getLeafColumns:M(()=>[e._getOrderColumnsFn()],g=>{var h;if((h=f.columns)!=null&&h.length){let p=f.columns.flatMap(w=>w.getLeafColumns());return g(p)}return[f]},U(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(f,e);return f}const Se="debugHeaders";function Ed(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const i_={createTable:e=>{e.getHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(s!=null&&s.includes(f.id)));return ii(t,[...a,...u,...l],e)},U(e.options,Se)),e.getCenterHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),ii(t,n,e,"center")),U(e.options,Se)),e.getLeftHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return ii(t,i,e,"left")},U(e.options,Se)),e.getRightHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return ii(t,i,e,"right")},U(e.options,Se)),e.getFooterGroups=M(()=>[e.getHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getLeftFooterGroups=M(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getCenterFooterGroups=M(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getRightFooterGroups=M(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getFlatHeaders=M(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getLeftFlatHeaders=M(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getCenterFlatHeaders=M(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getRightFlatHeaders=M(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getCenterLeafHeaders=M(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getLeftLeafHeaders=M(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getRightLeafHeaders=M(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getLeafHeaders=M(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},U(e.options,Se))}};function ii(e,t,n,r){var s,i;let o=0;const a=function(g,h){h===void 0&&(h=1),o=Math.max(o,h),g.filter(p=>p.getIsVisible()).forEach(p=>{var w;(w=p.columns)!=null&&w.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(g,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},w=[];g.forEach(k=>{const v=[...w].reverse()[0],m=k.column.depth===p.depth;let y,x=!1;if(m&&k.column.parent?y=k.column.parent:(y=k.column,x=!0),v&&(v==null?void 0:v.column)===y)v.subHeaders.push(k);else{const _=Ed(n,y,{id:[r,h,y.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:x,placeholderId:x?`${w.filter(E=>E.column===y).length}`:void 0,depth:h,index:w.length});_.subHeaders.push(k),w.push(_)}p.headers.push(k),k.headerGroup=p}),l.push(p),h>0&&u(w,h-1)},c=t.map((g,h)=>Ed(n,g,{depth:o,index:h}));u(c,o-1),l.reverse();const f=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let w=0,k=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],f(p.subHeaders).forEach(y=>{let{colSpan:x,rowSpan:_}=y;w+=x,v.push(_)})):w=1;const m=Math.min(...v);return k=k+m,p.colSpan=w,p.rowSpan=k,{colSpan:w,rowSpan:k}});return f((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const Uu=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>n_(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:M(()=>[e.getAllLeafColumns()],l=>l.map(u=>r_(e,a,u,u.id)),U(e.options,"debugRows")),_getAllCellsByColumnId:M(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),U(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},o_={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Zg=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};Zg.autoRemove=e=>ut(e);const ep=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};ep.autoRemove=e=>ut(e);const tp=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};tp.autoRemove=e=>ut(e);const np=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};np.autoRemove=e=>ut(e);const rp=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});rp.autoRemove=e=>ut(e)||!(e!=null&&e.length);const sp=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});sp.autoRemove=e=>ut(e)||!(e!=null&&e.length);const ip=(e,t,n)=>e.getValue(t)===n;ip.autoRemove=e=>ut(e);const op=(e,t,n)=>e.getValue(t)==n;op.autoRemove=e=>ut(e);const zu=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};zu.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};zu.autoRemove=e=>ut(e)||ut(e[0])&&ut(e[1]);const jt={includesString:Zg,includesStringSensitive:ep,equalsString:tp,arrIncludes:np,arrIncludesAll:rp,arrIncludesSome:sp,equals:ip,weakEquals:op,inNumberRange:zu};function ut(e){return e==null||e===""}const a_={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ze("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?jt.includesString:typeof r=="number"?jt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?jt.equals:Array.isArray(r)?jt.arrIncludes:jt.weakEquals},e.getFilterFn=()=>{var n,r;return Eo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:jt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(c=>c.id===e.id),o=Qt(n,i?i.value:void 0);if(jd(s,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Qt(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(jd(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function jd(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const l_=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),u_=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},c_=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},d_=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},f_=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},h_=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!t_(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},g_=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),p_=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,m_=(e,t)=>t.length,ca={sum:l_,min:u_,max:c_,extent:d_,mean:f_,median:h_,unique:g_,uniqueCount:p_,count:m_},v_={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ze("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return ca.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ca.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Eo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ca[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function y_(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const w_={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ze("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=M(n=>[rs(t,n)],n=>n.findIndex(r=>r.id===e.id),U(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=rs(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=rs(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=M(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return y_(i,n,r)},U(e.options,"debugTable"))}},da=()=>({left:[],right:[]}),S_={getInitialState:e=>({columnPinning:da(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ze("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,c;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((c=s==null?void 0:s.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},U(t.options,"debugRows")),e.getLeftVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),U(t.options,"debugRows")),e.getRightVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),U(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?da():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:da())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),U(e.options,"debugColumns")),e.getRightLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),U(e.options,"debugColumns")),e.getCenterLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},U(e.options,"debugColumns"))}};function __(e){return e||(typeof document<"u"?document:null)}const oi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},fa=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),x_={getDefaultColumnDef:()=>oi,getInitialState:e=>({columnSizing:{},columnSizingInfo:fa(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ze("columnSizing",e),onColumnSizingInfoChange:ze("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:oi.minSize,(r=i??e.columnDef.size)!=null?r:oi.size),(s=e.columnDef.maxSize)!=null?s:oi.maxSize)},e.getStart=M(n=>[n,rs(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),U(t.options,"debugColumns")),e.getAfter=M(n=>[n,rs(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),U(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),ha(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=ha(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(v,m)=>{typeof m=="number"&&(t.setColumnSizingInfo(y=>{var x,_;const E=t.options.columnResizeDirection==="rtl"?-1:1,C=(m-((x=y==null?void 0:y.startOffset)!=null?x:0))*E,R=Math.max(C/((_=y==null?void 0:y.startSize)!=null?_:0),-.999999);return y.columnSizingStart.forEach(P=>{let[j,L]=P;u[j]=Math.round(Math.max(L+L*R,0)*100)/100}),{...y,deltaOffset:C,deltaPercentage:R}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(y=>({...y,...u})))},f=v=>c("move",v),g=v=>{c("end",v),t.setColumnSizingInfo(m=>({...m,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=__(n),p={moveHandler:v=>f(v.clientX),upHandler:v=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),g(v.clientX)}},w={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var m;h==null||h.removeEventListener("touchmove",w.moveHandler),h==null||h.removeEventListener("touchend",w.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),g((m=v.touches[0])==null?void 0:m.clientX)}},k=k_()?{passive:!1}:!1;ha(i)?(h==null||h.addEventListener("touchmove",w.moveHandler,k),h==null||h.addEventListener("touchend",w.upHandler,k)):(h==null||h.addEventListener("mousemove",p.moveHandler,k),h==null||h.addEventListener("mouseup",p.upHandler,k)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?fa():(n=e.initialState.columnSizingInfo)!=null?n:fa())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ai=null;function k_(){if(typeof ai=="boolean")return ai;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ai=e,ai}function ha(e){return e.type==="touchstart"}const C_={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ze("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=M(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),U(t.options,"debugRows")),e.getVisibleCells=M(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],U(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>M(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),U(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function rs(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const E_={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},j_={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ze("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>jt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Eo(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:jt[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},R_={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ze("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Pl=0,Tl=10,ga=()=>({pageIndex:Pl,pageSize:Tl}),P_={getInitialState:e=>({...e,pagination:{...ga(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ze("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Qt(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?ga():(s=e.initialState.pagination)!=null?s:ga())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Qt(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Pl:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Pl)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?Tl:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:Tl)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Qt(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Qt(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=M(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},U(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},pa=()=>({top:[],bottom:[]}),T_={getInitialState:e=>({rowPinning:pa(),...e}),getDefaultOptions:e=>({onRowPinningChange:ze("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var f,g;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(w=>!(a!=null&&a.has(w))),bottom:[...((g=l==null?void 0:l.bottom)!=null?g:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(w=>!(a!=null&&a.has(w)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(w=>!(a!=null&&a.has(w))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(w=>!(a!=null&&a.has(w)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?pa():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:pa())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),U(e.options,"debugRows")),e.getBottomRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),U(e.options,"debugRows")),e.getCenterRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},U(e.options,"debugRows"))}},N_={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ze("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{Nl(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=M(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ma(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getFilteredSelectedRowModel=M(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ma(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getGroupedSelectedRowModel=M(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ma(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return Nl(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Vu(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return bl(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return bl(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Nl=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>Nl(e,a.id,n,r,s))};function ma(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var u;const c=Vu(l,n);if(c&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),c)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Vu(e,t){var n;return(n=t[e.id])!=null?n:!1}function bl(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Vu(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=bl(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Ll=/([0-9]+)/gm,b_=(e,t,n)=>ap(un(e.getValue(n)).toLowerCase(),un(t.getValue(n)).toLowerCase()),L_=(e,t,n)=>ap(un(e.getValue(n)),un(t.getValue(n))),$_=(e,t,n)=>Bu(un(e.getValue(n)).toLowerCase(),un(t.getValue(n)).toLowerCase()),O_=(e,t,n)=>Bu(un(e.getValue(n)),un(t.getValue(n))),A_=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},I_=(e,t,n)=>Bu(e.getValue(n),t.getValue(n));function Bu(e,t){return e===t?0:e>t?1:-1}function un(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ap(e,t){const n=e.split(Ll).filter(Boolean),r=t.split(Ll).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Fr={alphanumeric:b_,alphanumericCaseSensitive:L_,text:$_,textCaseSensitive:O_,datetime:A_,basic:I_},D_={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ze("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Fr.datetime;if(typeof i=="string"&&(r=!0,i.split(Ll).length>1))return Fr.alphanumeric}return r?Fr.text:Fr.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Eo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Fr[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(h=>h.id===e.id),l=o==null?void 0:o.findIndex(h=>h.id===e.id);let u=[],c,f=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(i||s||(c="remove")),c==="add"){var g;u=[...o,{id:e.id,desc:f}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:f}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},F_=[i_,C_,w_,S_,o_,a_,E_,j_,D_,v_,R_,P_,T_,N_,x_];function M_(e){var t,n;const r=[...F_,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((g,h)=>Object.assign(g,h.getDefaultOptions==null?void 0:h.getDefaultOptions(s)),{}),o=g=>s.options.mergeOptions?s.options.mergeOptions(i,g):{...i,...g};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(g=>{var h;l=(h=g.getInitialState==null?void 0:g.getInitialState(l))!=null?h:l});const u=[];let c=!1;const f={_features:r,options:{...i,...e},initialState:l,_queue:g=>{u.push(g),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{s.setState(s.initialState)},setOptions:g=>{const h=Qt(g,s.options);s.options=o(h)},getState:()=>s.options.state,setState:g=>{s.options.onStateChange==null||s.options.onStateChange(g)},_getRowId:(g,h,p)=>{var w;return(w=s.options.getRowId==null?void 0:s.options.getRowId(g,h,p))!=null?w:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(g,h)=>{let p=(h?s.getPrePaginationRowModel():s.getRowModel()).rowsById[g];if(!p&&(p=s.getCoreRowModel().rowsById[g],!p))throw new Error;return p},_getDefaultColumnDef:M(()=>[s.options.defaultColumn],g=>{var h;return g=(h=g)!=null?h:{},{header:p=>{const w=p.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:p=>{var w,k;return(w=(k=p.renderValue())==null||k.toString==null?void 0:k.toString())!=null?w:null},...s._features.reduce((p,w)=>Object.assign(p,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...g}},U(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:M(()=>[s._getColumnDefs()],g=>{const h=function(p,w,k){return k===void 0&&(k=0),p.map(v=>{const m=s_(s,v,k,w),y=v;return m.columns=y.columns?h(y.columns,m,k+1):[],m})};return h(g)},U(e,"debugColumns")),getAllFlatColumns:M(()=>[s.getAllColumns()],g=>g.flatMap(h=>h.getFlatColumns()),U(e,"debugColumns")),_getAllFlatColumnsById:M(()=>[s.getAllFlatColumns()],g=>g.reduce((h,p)=>(h[p.id]=p,h),{}),U(e,"debugColumns")),getAllLeafColumns:M(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(g,h)=>{let p=g.flatMap(w=>w.getLeafColumns());return h(p)},U(e,"debugColumns")),getColumn:g=>s._getAllFlatColumnsById()[g]};Object.assign(s,f);for(let g=0;g<s._features.length;g++){const h=s._features[g];h==null||h.createTable==null||h.createTable(s)}return s}function U_(){return e=>M(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const c=Uu(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(s[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return a};return n.rows=r(t),n},U(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function z_(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function V_(e,t,n){return n.options.filterFromLeafRows?B_(e,t,n):H_(e,t,n)}function B_(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let g=0;g<l.length;g++){var f;let h=l[g];const p=Uu(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(f=h.subRows)!=null&&f.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),i[h.id]=h,s.push(h);continue}if(t(h)||p.subRows.length){c.push(h),i[h.id]=h,s.push(h);continue}}else h=p,t(h)&&(c.push(h),i[h.id]=h,s.push(h))}return c};return{rows:a(e),flatRows:s,rowsById:i}}function H_(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let g=0;g<l.length;g++){let h=l[g];if(t(h)){var f;if((f=h.subRows)!=null&&f.length&&u<o){const w=Uu(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);w.subRows=a(h.subRows,u+1),h=w}c.push(h),s.push(h),i[h.id]=h}}return c};return{rows:a(e),flatRows:s,rowsById:i}}function G_(){return e=>M(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(g=>{var h;const p=e.getColumn(g.id);if(!p)return;const w=p.getFilterFn();w&&s.push({id:g.id,filterFn:w,resolvedValue:(h=w.resolveFilterValue==null?void 0:w.resolveFilterValue(g.value))!=null?h:g.value})});const o=(n??[]).map(g=>g.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(g=>{var h;i.push({id:g.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let g=0;g<t.flatRows.length;g++){const h=t.flatRows[g];if(h.columnFilters={},s.length)for(let p=0;p<s.length;p++){u=s[p];const w=u.id;h.columnFilters[w]=u.filterFn(h,w,u.resolvedValue,k=>{h.columnFiltersMeta[w]=k})}if(i.length){for(let p=0;p<i.length;p++){c=i[p];const w=c.id;if(c.filterFn(h,w,c.resolvedValue,k=>{h.columnFiltersMeta[w]=k})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const f=g=>{for(let h=0;h<o.length;h++)if(g.columnFilters[o[h]]===!1)return!1;return!0};return V_(t.rows,f,e)},U(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function q_(e){return t=>M(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=s*i,c=u+s;o=o.slice(u,c);let f;t.options.paginateExpandedRows?f={rows:o,flatRows:a,rowsById:l}:f=z_({rows:o,flatRows:a,rowsById:l}),f.flatRows=[];const g=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(g)};return f.rows.forEach(g),f},U(t.options,"debugTable"))}function K_(){return e=>M(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,f)=>{for(let h=0;h<i.length;h+=1){var g;const p=i[h],w=o[p.id],k=w.sortUndefined,v=(g=p==null?void 0:p.desc)!=null?g:!1;let m=0;if(k){const y=c.getValue(p.id),x=f.getValue(p.id),_=y===void 0,E=x===void 0;if(_||E){if(k==="first")return _?-1:1;if(k==="last")return _?1:-1;m=_&&E?0:_?k:-k}}if(m===0&&(m=w.sortingFn(c,f,p.id)),m!==0)return v&&(m*=-1),w.invertSorting&&(m*=-1),m}return c.index-f.index}),u.forEach(c=>{var f;s.push(c),(f=c.subRows)!=null&&f.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},U(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Rd(e,t){return e?W_(e)?S.createElement(e,t):e:null}function W_(e){return J_(e)||typeof e=="function"||Q_(e)}function J_(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Q_(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Y_(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:M_(t)})),[r,s]=S.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Ds=({data:e=[],columns:t=[],loading:n=!1,error:r=null,enablePagination:s=!0,serverSide:i=!1,onServerSideChange:o,totalCount:a=0,pageSize:l=10,pageIndex:u=0,sorting:c=[],globalFilter:f="",className:g=""})=>{const{t:h}=ae(),[p,w]=S.useState(c),[k,v]=S.useState(f),[m,y]=S.useState({pageIndex:u,pageSize:l}),x=E=>{i&&o&&o(E)},_=Y_({data:e,columns:t,getCoreRowModel:U_(),getSortedRowModel:K_(),getPaginationRowModel:q_(),getFilteredRowModel:G_(),state:{sorting:p,globalFilter:k,pagination:m},onSortingChange:E=>{const C=typeof E=="function"?E(p):E;w(C),i&&x({sorting:C,pagination:m,globalFilter:k})},onGlobalFilterChange:E=>{if(v(E),i){const C={...m,pageIndex:0};y(C),x({sorting:p,pagination:C,globalFilter:E})}},onPaginationChange:E=>{const C=typeof E=="function"?E(m):E;y(C),i&&x({sorting:p,pagination:C,globalFilter:k})},manualSorting:i,manualFiltering:i,manualPagination:i,...i&&{rowCount:a}});return n?d.jsxs("div",{className:"data-table-loading",children:[d.jsx("div",{className:"loading-spinner"}),h("dataTable.loadingData")]}):r?d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:h("dataTable.failedToLoad")}),d.jsx("p",{className:"error-message",children:r})]}):d.jsxs("div",{className:`data-table ${g}`,children:[d.jsxs("div",{className:"data-table-controls",children:[d.jsx("div",{className:"search-container",children:d.jsx("input",{type:"text",placeholder:h("dataTable.searchPlaceholder"),value:k??"",onChange:E=>_.setGlobalFilter(E.target.value),className:"search-input"})}),d.jsx("div",{className:"table-info",children:i?d.jsx("span",{className:"table-stats",children:h("dataTable.showingEntries",{start:Math.min(m.pageIndex*m.pageSize+1,a),end:Math.min((m.pageIndex+1)*m.pageSize,a),total:a})}):d.jsx("span",{className:"table-stats",children:h("dataTable.showingCount",{count:_.getRowModel().rows.length,total:e.length})})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"data-table-element",children:[d.jsx("thead",{children:_.getHeaderGroups().map(E=>d.jsx("tr",{children:E.headers.map(C=>d.jsx("th",{className:"data-table-header",children:C.isPlaceholder?null:d.jsxs("div",{className:`header-content ${C.column.getCanSort()?"sortable":""}`,onClick:C.column.getToggleSortingHandler(),children:[Rd(C.column.columnDef.header,C.getContext()),C.column.getCanSort()&&d.jsx("span",{className:"sort-indicator",children:{asc:" ↑",desc:" ↓"}[C.column.getIsSorted()]??" ↕"})]})},C.id))},E.id))}),d.jsx("tbody",{children:_.getRowModel().rows.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length,className:"empty-row",children:d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-state-icon",children:"📋"}),d.jsx("h3",{className:"empty-state-title",children:h("dataTable.noData")}),d.jsx("p",{className:"empty-state-description",children:h(k?"dataTable.noResults":"dataTable.noDataAvailable")})]})})}):_.getRowModel().rows.map(E=>d.jsx("tr",{className:"data-table-row",children:E.getVisibleCells().map(C=>d.jsx("td",{className:"data-table-cell",children:Rd(C.column.columnDef.cell,C.getContext())},C.id))},E.id))})]})}),s&&d.jsxs("div",{className:"pagination-controls",children:[d.jsx("div",{className:"pagination-info",children:d.jsx("span",{children:h("dataTable.pageInfo",{current:_.getState().pagination.pageIndex+1,total:_.getPageCount()})})}),d.jsxs("div",{className:"pagination-buttons",children:[d.jsx("button",{onClick:()=>_.setPageIndex(0),disabled:!_.getCanPreviousPage(),className:"pagination-btn",children:"⟪"}),d.jsx("button",{onClick:()=>_.previousPage(),disabled:!_.getCanPreviousPage(),className:"pagination-btn",children:"⟨"}),d.jsx("button",{onClick:()=>_.nextPage(),disabled:!_.getCanNextPage(),className:"pagination-btn",children:"⟩"}),d.jsx("button",{onClick:()=>_.setPageIndex(_.getPageCount()-1),disabled:!_.getCanNextPage(),className:"pagination-btn",children:"⟫"})]}),d.jsx("div",{className:"page-size-selector",children:d.jsx("select",{value:_.getState().pagination.pageSize,onChange:E=>{_.setPageSize(Number(E.target.value))},className:"page-size-select",children:[10,25,50,100].map(E=>d.jsx("option",{value:E,children:h("dataTable.showSize",{size:E})},E))})})]})]})};function X_(){const{supabase:e}=ge(),{t}=ae(),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,a]=S.useState(null),[l,u]=S.useState(0),[c,f]=S.useState({pageIndex:0,pageSize:10}),[g,h]=S.useState([{id:"check_in",desc:!0}]),[p,w]=S.useState("");S.useEffect(()=>{k()},[c,g,p]);const k=async()=>{try{i(!0),a(null);let _=e.from("reservations").select("*",{count:"exact"});if(p&&(_=_.or(`guest_name.ilike.%${p}%,listing_id.ilike.%${p}%,status.ilike.%${p}%`)),g.length>0){const L=g[0];L&&(_=_.order(L.id,{ascending:!L.desc}))}const E=c.pageIndex*c.pageSize,C=E+c.pageSize-1;_=_.range(E,C);const{data:R,error:P,count:j}=await _.overrideTypes();if(P)throw P;r(R||[]),u(j||0)}catch(_){a(_ instanceof Error?_.message:String(_)),console.error("Error fetching reservations:",_)}finally{i(!1)}},v=_=>{_.pagination&&f(_.pagination),_.sorting!==void 0&&h(_.sorting),_.globalFilter!==void 0&&w(_.globalFilter)},m=_=>_?new Date(_).toLocaleDateString():t("columns.na"),y=_=>_?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_):t("columns.na"),x=S.useMemo(()=>[{accessorKey:"id",header:t("columns.id"),cell:({getValue:_})=>{const E=_();return d.jsxs("span",{className:"reservation-id",title:E,children:[E.substring(0,8),"..."]})},enableSorting:!1},{accessorKey:"guest_name",header:t("reservations.guest"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"listing_id",header:t("reservations.property"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"check_in",header:t("reservations.checkIn"),cell:({getValue:_})=>m(_())},{accessorKey:"check_out",header:t("reservations.checkOut"),cell:({getValue:_})=>m(_())},{accessorKey:"nights",header:t("reservations.nights"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"party_size",header:t("reservations.guests"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"status",header:t("columns.status"),cell:({getValue:_})=>{const E=_();return d.jsx("span",{className:`status-badge status-${E}`,children:E})}},{accessorKey:"pricing_guest_total",header:t("reservations.total"),cell:({getValue:_})=>d.jsx("span",{className:"currency",children:y(_())})},{accessorKey:"pricing_host_payout",header:t("reservations.hostPayout"),cell:({getValue:_})=>d.jsx("span",{className:"currency",children:y(_())})}],[m,y,t]);return d.jsx("div",{className:"admin-reservations",children:d.jsx(Ds,{data:n,columns:x,loading:s,error:o,serverSide:!0,onServerSideChange:v,totalCount:l,pageSize:c.pageSize,pageIndex:c.pageIndex,sorting:g,globalFilter:p,className:"reservations-data-table"})})}const va=["unassigned","assigned","accepted","in_progress","completed","admin_accepted","cancelled"],Z_={unassigned:["assigned"],assigned:["accepted","in_progress","unassigned"],accepted:["assigned","in_progress"],in_progress:["completed","assigned"],completed:["admin_accepted"],admin_accepted:[],cancelled:["assigned"]};class ex{constructor(t,n){Ro(this,"supabase");Ro(this,"user");this.supabase=t,this.user=n}validateTaskUpdate(t){const n=[];t.status&&!va.includes(t.status)&&n.push(`Invalid status: ${t.status}`),["started_at","finished_at","accepted_at","completed_at","assigned_at","admin_accepted_at","scheduled_datetime"].forEach(o=>{if(t[o]&&t[o]!==null){const a=new Date(t[o]);isNaN(a.getTime())&&n.push(`Invalid date format for ${o}: ${t[o]}`)}});const s=["assigned_to","assigned_by"],i=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(s.forEach(o=>{t[o]&&t[o]!==null&&(i.test(t[o])?typeof t[o]!="string"&&n.push(`Invalid ID format for ${o}: ${t[o]}`):n.push(`Invalid UUID format for ${o}: ${t[o]}`))}),n.length>0)throw new Error(`Validation errors: ${n.join(", ")}`)}validateStatusTransition(t,n){var r;if(!((r=Z_[t])!=null&&r.includes(n)))throw new Error(`Invalid status transition from ${t} to ${n}`)}async getTask(t){try{const{data:n,error:r}=await this.supabase.from("tasks").select("*").eq("id",t).single();if(r)throw r.code==="PGRST116"?new Error("Task not found"):r;return n}catch(n){throw console.error("Error fetching task:",n),n}}async updateTaskField(t,n,r,s={}){const i={[n]:r};try{this.validateTaskUpdate(i)}catch(o){throw new Error(`Invalid update: ${o instanceof Error?o.message:String(o)}`)}try{const{error:o}=await this.supabase.from("tasks").update(i).eq("id",t);if(o)throw o;return{success:!0}}catch(o){throw console.error(`Error updating task ${n}:`,o),o}}async updateTaskFields(t,n){try{this.validateTaskUpdate(n)}catch(r){throw new Error(`Invalid updates: ${r instanceof Error?r.message:String(r)}`)}try{const{error:r}=await this.supabase.from("tasks").update(n).eq("id",t);if(r)throw r;return{success:!0}}catch(r){throw console.error("Error updating task fields:",r),r}}async updateTaskStatus(t,n,r={}){const s={status:n,...r};switch(n){case"accepted":s.accepted_at=new Date().toISOString();break;case"completed":s.completed_at=new Date().toISOString();break;case"admin_accepted":s.admin_accepted_at=new Date().toISOString();break;case"assigned":r.clearAccepted&&(s.accepted_at=null);break}return this.updateTaskFields(t,s)}async updateTaskTimes(t,{started_at:n,finished_at:r}){const s={};if(n!==void 0&&(s.started_at=n),r!==void 0&&(s.finished_at=r),n&&r&&new Date(r)<=new Date(n))throw new Error("Finish time must be after start time");return this.updateTaskFields(t,s)}async updateTaskAssignment(t,n,r=null){const s={assigned_to:n,assigned_at:n?new Date().toISOString():null};return r&&(s.assigned_by=r),this.updateTaskFields(t,s)}async queryTasks(t={}){var a;const{filterByUser:n=!1,pagination:r={pageIndex:0,pageSize:10},sorting:s=[{id:"scheduled_datetime",desc:!1}],globalFilter:i="",additionalFilters:o={}}=t;try{let l=this.supabase.from("tasks").select("*",{count:"exact"});if(n&&((a=this.user)!=null&&a.id)&&(l=l.eq("assigned_to",this.user.id)),Object.entries(o).forEach(([p,w])=>{w!=null&&(l=l.eq(p,w))}),i&&(l=l.or(`title.ilike.%${i}%,description.ilike.%${i}%,task_type.ilike.%${i}%,status.ilike.%${i}%`)),s.length>0){const p=s[0];p&&(l=l.order(p.id,{ascending:!p.desc}))}const u=r.pageIndex*r.pageSize,c=u+r.pageSize-1;l=l.range(u,c);const{data:f,error:g,count:h}=await l;if(g)throw g;return{tasks:f||[],totalCount:h||0}}catch(l){throw console.error("Error querying tasks:",l),l}}async createTask(t){try{this.validateTaskUpdate(t)}catch(n){throw new Error(`Invalid task data: ${n instanceof Error?n.message:String(n)}`)}try{const{data:n,error:r}=await this.supabase.from("tasks").insert([t]).select().single();if(r)throw r;return n}catch(n){throw console.error("Error creating task:",n),n}}async deleteTask(t){try{const{error:n}=await this.supabase.from("tasks").delete().eq("id",t);if(n)throw n;return{success:!0}}catch(n){throw console.error("Error deleting task:",n),n}}async getTasksCountByStatus(t=!1){var n;try{let r=this.supabase.from("tasks").select("status",{count:"exact"});t&&((n=this.user)!=null&&n.id)&&(r=r.eq("assigned_to",this.user.id));const{data:s,error:i}=await r;if(i)throw i;const o={};return va.forEach(a=>{o[a]=0}),s==null||s.forEach(a=>{o.hasOwnProperty(a.status)&&va.includes(a.status)&&o[a.status]++}),o}catch(r){throw console.error("Error getting task counts:",r),r}}async getOverdueTasks(t=!1){var n;try{let r=this.supabase.from("tasks").select("*").lt("scheduled_datetime",new Date().toISOString()).not("status","eq","completed").not("status","eq","admin_accepted").not("status","eq","cancelled");t&&((n=this.user)!=null&&n.id)&&(r=r.eq("assigned_to",this.user.id));const{data:s,error:i}=await r;if(i)throw i;return s||[]}catch(r){throw console.error("Error getting overdue tasks:",r),r}}async getUpcomingTasks(t=!1){var n;try{const r=new Date,s=new Date(r.getTime()+24*60*60*1e3);let i=this.supabase.from("tasks").select("*").gte("scheduled_datetime",r.toISOString()).lt("scheduled_datetime",s.toISOString()).not("status","eq","completed").not("status","eq","admin_accepted").not("status","eq","cancelled");t&&((n=this.user)!=null&&n.id)&&(i=i.eq("assigned_to",this.user.id));const{data:o,error:a}=await i;if(a)throw a;return o||[]}catch(r){throw console.error("Error getting upcoming tasks:",r),r}}async getTaskAuditTrail(t){try{const{data:n,error:r}=await this.supabase.from("audit_log").select("*").eq("table_name","tasks").eq("record_id",t).order("changed_at",{ascending:!1});if(r)throw r;if(!n||n.length===0)return[];const s=[...new Set(n.map(a=>a.changed_by).filter(Boolean))];let i={};if(s.length>0){const{data:a,error:l}=await this.supabase.from("user_profiles").select("id, name, email").in("id",s);l?console.warn("Error fetching user profiles:",l):i=(a||[]).reduce((u,c)=>(u[c.id]=c,u),{})}return n.map(a=>{var l,u;return{...a,changed_by_name:(l=i[a.changed_by])==null?void 0:l.name,changed_by_email:(u=i[a.changed_by])==null?void 0:u.email}})}catch(n){throw console.error("Error fetching task audit trail:",n),n}}}const lp=(e,t)=>new ex(e,t),up=(e=!1)=>{const{supabase:t,user:n}=ge(),r=S.useMemo(()=>lp(t,n),[t,n]),[s,i]=S.useState([]),[o,a]=S.useState(!0),[l,u]=S.useState(null),[c,f]=S.useState(0),[g,h]=S.useState({pageIndex:0,pageSize:10}),[p,w]=S.useState([{id:"scheduled_datetime",desc:!1}]),[k,v]=S.useState(""),m=S.useCallback(async()=>{if(!(e&&!(n!=null&&n.id)))try{a(!0),u(null);const C=await r.queryTasks({filterByUser:e,pagination:g,sorting:p,globalFilter:k});i(C.tasks),f(C.totalCount)}catch(C){const R=C instanceof Error?C.message:String(C);u(R),console.error("Error fetching tasks:",C)}finally{a(!1)}},[r,e,g,p,k,n==null?void 0:n.id]);S.useEffect(()=>{m()},[m]);const y=S.useCallback(C=>{C.pagination&&h(C.pagination),C.sorting!==void 0&&w(C.sorting),C.globalFilter!==void 0&&v(C.globalFilter)},[]),x=S.useCallback(async(C,R)=>{try{await r.updateTaskStatus(C,R),await m()}catch(P){console.error("Error updating task status:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m]),_=S.useCallback(async(C,R)=>{try{await r.updateTaskAssignment(C,R,n==null?void 0:n.id),await m()}catch(P){console.error("Error updating task assignment:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m,n==null?void 0:n.id]),E=S.useCallback(async(C,R)=>{try{await r.updateTaskTimes(C,R),await m()}catch(P){console.error("Error updating task times:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m]);return{tasks:s,loading:o,error:l,totalCount:c,pagination:g,sorting:p,globalFilter:k,handleServerSideChange:y,updateTaskStatus:x,updateTaskAssignment:_,updateTaskTimes:E,refetchTasks:m}},Yt=e=>e?new Date(e).toLocaleString():"N/A",tx=e=>e?new Date(e).toLocaleDateString():"N/A",nx=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"N/A",ya=(e,t=8)=>e?`${e.substring(0,t)}...`:"N/A",rx=(e,t=100)=>e?e.length>t?`${e.substring(0,t)}...`:e:"N/A",sx=()=>{const{supabase:e}=ge(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[i,o]=S.useState(null);S.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0),o(null);const{data:l,error:u}=await e.from("roles").select("user_id").eq("role","cleaner").order("created_at");if(u)throw u;if(!l||l.length===0){n([]);return}const{data:c,error:f}=await e.from("user_profiles").select("id, name, email").in("id",l.map(h=>h.user_id));if(f)throw f;const g=(c==null?void 0:c.map(h=>({id:h.id,name:h.name||h.email||`User ${h.id.substring(0,8)}...`,email:h.email})))||[];n(g)}catch(l){console.error("Error fetching cleaners:",l),o(l.message),n([])}finally{s(!1)}};return{cleaners:t,loading:r,error:i,refetch:a}};function cp({currentAssignedTo:e,taskId:t,onAssignmentChange:n,disabled:r=!1}){const{t:s}=ae(),{cleaners:i,loading:o}=sx(),[a,l]=S.useState(!1),u=async f=>{const g=f.target.value||null;if(g!==e){l(!0);try{await n(t,g)}catch(h){console.error("Assignment change failed:",h),f.target.value=e||""}finally{l(!1)}}},c=()=>{if(!e)return s("assignment.unassigned");const f=i.find(g=>g.id===e);return f?f.name:`${s("assignment.unknown")} (${e.substring(0,8)}...)`};return o?d.jsx("span",{className:"loading-text",children:s("assignment.loading")}):d.jsxs("select",{value:e||"",onChange:u,disabled:r||a,className:`assignment-dropdown ${a?"updating":""}`,title:`Currently assigned to: ${c()}`,children:[d.jsx("option",{value:"",children:s("assignment.unassigned")}),i.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})}const dp=()=>{const{t:e}=ae(),t=S.useMemo(()=>({id:{accessorKey:"id",header:e("columns.id"),cell:({getValue:a})=>{const l=a();return d.jsx("span",{className:"reservation-id",title:l,children:ya(l)})},enableSorting:!1},title:{accessorKey:"title",header:e("columns.title"),cell:({getValue:a})=>a()||e("columns.na")},taskTitle:{accessorKey:"title",header:e("columns.task"),cell:({getValue:a})=>a()||e("columns.na")},taskType:{accessorKey:"task_type",header:e("columns.type"),cell:({getValue:a})=>nx(a())},status:{accessorKey:"status",header:e("columns.status"),cell:({getValue:a})=>{const l=a();return d.jsx("span",{className:`status-badge status-${l}`,children:e(`statuses.${l}`)})}},description:{accessorKey:"description",header:e("columns.description"),cell:({getValue:a})=>rx(a())},listingId:{accessorKey:"listing_id",header:e("columns.listing"),cell:({getValue:a})=>a()||e("columns.na")},reservationId:{accessorKey:"reservation_id",header:e("columns.reservation"),cell:({getValue:a})=>{const l=a();return l?d.jsx("span",{className:"reservation-id",title:l,children:ya(l)}):e("columns.na")}},scheduledDateTime:{accessorKey:"scheduled_datetime",header:e("columns.scheduled"),cell:({getValue:a})=>Yt(a())},assignedTo:{accessorKey:"assigned_to",header:e("columns.assignedTo"),cell:({getValue:a})=>{const l=a();return l?d.jsx("span",{className:"reservation-id",title:l,children:ya(l)}):e("statuses.unassigned")}},assignedAt:{accessorKey:"assigned_at",header:e("columns.assignedAt"),cell:({getValue:a})=>Yt(a())},acceptedAt:{accessorKey:"accepted_at",header:e("columns.acceptedAt"),cell:({getValue:a})=>Yt(a())},completedAt:{accessorKey:"completed_at",header:e("columns.completedAt"),cell:({getValue:a})=>Yt(a())},createdAt:{accessorKey:"created_at",header:e("columns.created"),cell:({getValue:a})=>tx(a())}}),[e]),n=S.useMemo(()=>a=>({accessorKey:"assigned_to",header:e("columns.assignedTo"),cell:({getValue:l,row:u})=>{const c=l(),f=u.original;return d.jsx(cp,{currentAssignedTo:c,taskId:f.id,onAssignmentChange:a})},enableSorting:!1}),[e]),r=S.useMemo(()=>()=>({accessorKey:"actions",header:e("tasks.actions"),cell:({row:a})=>{const l=a.original,u=()=>{window.location.href=`/tasks/${l.id}`};return d.jsx("div",{className:"task-actions",children:d.jsx("button",{className:"btn-view",onClick:u,children:e("columns.view")})})},enableSorting:!1}),[e]),s=S.useMemo(()=>(a,l)=>({accessorKey:"actions",header:e("tasks.actions"),cell:({row:u})=>{const c=u.original,f=c.status==="assigned",g=c.status==="accepted",h=c.status==="in_progress",p=c.status==="accepted",w=()=>{window.location.href=`/tasks/${c.id}`},k=async()=>{l?await l(c.id,{started_at:new Date().toISOString()}):a(c.id,"in_progress")},v=async()=>{l?await l(c.id,{finished_at:new Date().toISOString()}):a(c.id,"completed")};return d.jsxs("div",{className:"task-actions",children:[d.jsx("button",{className:"btn-view",onClick:w,children:e("columns.view")}),f&&d.jsx("button",{className:"btn-accept",onClick:()=>a(c.id,"accepted"),children:e("columns.accept")}),g&&d.jsx("button",{className:"btn-start",onClick:k,children:e("columns.start")}),h&&d.jsx("button",{className:"btn-complete",onClick:v,children:e("columns.complete")}),p&&d.jsx("button",{className:"btn-cancel",onClick:()=>a(c.id,"assigned"),children:e("columns.cancel")})]})},enableSorting:!1}),[e]),i=S.useMemo(()=>a=>{const l=t;return[l.id,l.title,l.taskType,l.status,l.listingId,l.reservationId,l.scheduledDateTime,n(a),l.assignedAt,l.acceptedAt,l.completedAt,l.createdAt,r()]},[t,n,r]),o=S.useMemo(()=>(a,l)=>{const u=t;return[u.scheduledDateTime,u.listingId,u.taskType,u.status,s(a,l)]},[t,s]);return{getAdminColumns:i,getCleanerColumns:o}};function ix(){const{t:e}=ae(),{tasks:t,loading:n,error:r,totalCount:s,pagination:i,sorting:o,globalFilter:a,handleServerSideChange:l,updateTaskAssignment:u}=up(!1),{getAdminColumns:c}=dp(),f=S.useMemo(()=>c(u),[c,u]);return d.jsxs("div",{className:"admin-reservations",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("tasks.management")}),d.jsx("p",{className:"admin-stats",children:n?e("tasks.loading"):e("tasks.totalTasks",{count:s})})]}),d.jsx(Ds,{data:t,columns:f,loading:n,error:r,serverSide:!0,onServerSideChange:l,totalCount:s,pageSize:i.pageSize,pageIndex:i.pageIndex,sorting:o,globalFilter:a,className:"tasks-data-table"})]})}const ox=["Vinagre","Oxigeno activo","CIF","Multiusos Verde (Limpiacristales)","Soda Caustica/Desatascador","Papel Cocina","Agua oxigenada","Lejia blanqueadora","Detergente Blanqueador Oxi Active","Perfume Spray (perfumador diluido)","Ambientador palitos","Bolsas de basura amarillas","Balletas finitas","Balletas gorditas","Cafe capsulas","Detergente vajilla manos","Esponjas cocina","Sal lavavajillas","Pastillas lavavajillas","Servilletas","Jabon de manos recargable","Bolsas basura baño","Detergente ropa","Suavizante ropa","Papel Higienico","Shampoo","Acondicionador","Botella para Shampoo","Botella para Acondicionador","Cubo","Escurridor","Mopa","Fregona","Escoba","Recogedor (palita)","Palo escoba/fregona/mopa","Guantes","Pinzas de ropa","Fibrón Indeleble","Lapicero","Cinta transparente","Cinta de pintor","Pegamento","Silicona para juntas","Cenicero","Vasos","Cubiertos","Platos grandes","Platos chicos","Bowls","Esponja de alambre/acero","Esponja magica paredes","Agua","Insecticida hormigas y cucarachas","Bajera Grande","Funda Edredon Grande","Funda Almohada","Bajera Pequeña","Funda Edredon Pequeña","Manta playa","Felpudo baño","Mantel","Repasadores (toalla cocina)"],ax=(e,t=10)=>{if(!e||e.length<2)return[];const n=e.toLowerCase();return ox.filter(r=>r.toLowerCase().includes(n)).slice(0,t)},Mr={general:{name:"General",products:["Vinagre","Oxigeno activo","CIF","Multiusos Verde (Limpiacristales)","Soda Caustica/Desatascador","Papel Cocina"]},lavado_ropa:{name:"Lavado Ropa",products:["Agua oxigenada","Lejia blanqueadora","Detergente Blanqueador Oxi Active","Perfume Spray (perfumador diluido)"]},reposicion:{name:"Reposición",products:["Ambientador palitos","Bolsas de basura amarillas","Balletas finitas","Balletas gorditas","Cafe capsulas","Detergente vajilla manos","Esponjas cocina","Sal lavavajillas","Pastillas lavavajillas","Servilletas"]},reposicion_bano:{name:"Reposición Baño",products:["Jabon de manos recargable","Bolsas basura baño","Detergente ropa","Suavizante ropa","Papel Higienico","Shampoo","Acondicionador","Botella para Shampoo","Botella para Acondicionador"]},materiales_limpieza:{name:"Materiales Limpieza",products:["Cubo","Escurridor","Mopa","Fregona","Escoba","Recogedor (palita)","Palo escoba/fregona/mopa","Guantes","Pinzas de ropa"]},otros:{name:"Otros",products:["Fibrón Indeleble","Lapicero","Cinta transparente","Cinta de pintor","Pegamento","Silicona para juntas","Cenicero","Vasos","Cubiertos","Platos grandes","Platos chicos","Bowls","Esponja de alambre/acero","Esponja magica paredes","Agua","Insecticida hormigas y cucarachas"]},sabanas:{name:"Sábanas",products:["Bajera Grande","Funda Edredon Grande","Funda Almohada","Bajera Pequeña","Funda Edredon Pequeña","Manta playa","Felpudo baño","Mantel","Repasadores (toalla cocina)"]}};function fp({onTodoCreated:e,onCancel:t,attachedToType:n=null,attachedToId:r=null,title:s="Create New TODO"}){const{t:i}=ae(),{supabase:o,user:a}=ge(),[l,u]=S.useState({title:"",description:""}),[c,f]=S.useState(""),[g,h]=S.useState([]),[p,w]=S.useState([]),[k,v]=S.useState([]),[m,y]=S.useState(r||""),[x,_]=S.useState(!1),[E,C]=S.useState(!1),[R,P]=S.useState(null);S.useEffect(()=>{(async()=>{try{_(!0);const{data:H,error:T}=await o.from("listings").select("id, airbnb_payload").order("id");if(T)throw T;v(H||[])}catch(H){console.error("Error fetching listings:",H),P(i("todos.failedToLoad"))}finally{_(!1)}})()},[o]),S.useEffect(()=>{if(c.length>=2){const F=ax(c,8);h(F)}else h([])},[c]);const j=F=>{const{name:H,value:T}=F.target;u(D=>({...D,[H]:T}))},L=F=>{y(F.target.value)},A=F=>{const H=p.find(T=>T.product_name===F);w(H?T=>T.map(D=>D.product_name===F?{...D,quantity:D.quantity+1}:D):T=>[...T,{product_name:F,quantity:1}]),f(""),h([])},b=(F,H)=>{const T=parseInt(H);T<=0?I(F):w(D=>D.map($=>$.product_name===F?{...$,quantity:T}:$))},I=F=>{w(H=>H.filter(T=>T.product_name!==F))},Ee=async F=>{if(F.preventDefault(),!!a){C(!0),P(null);try{const H={created_by:a.id,title:l.title,description:l.description||null,products:p.length>0?p:null,attached_to_type:m?"listing":n,attached_to_id:m||r},{error:T}=await o.from("todos").insert([H]);if(T)throw T;e==null||e()}catch(H){console.error("Error creating todo:",H),P(H instanceof Error?H.message:i("notes.errorOccurred"))}finally{C(!1)}}};return d.jsxs("div",{className:"todo-form",children:[d.jsxs("div",{className:"todo-form-header",children:[d.jsx("h3",{children:s}),d.jsx("button",{type:"button",onClick:t,className:"btn-close",children:"×"})]}),R&&d.jsx("div",{className:"error-message",children:R}),d.jsxs("form",{onSubmit:Ee,className:"todo-form-content",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"title",children:i("todos.title")}),d.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:j,required:!0,placeholder:i("todos.titlePlaceholder"),className:"form-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"listing",children:i("todos.assignToListing")}),d.jsxs("select",{id:"listing",name:"listing",value:m,onChange:L,className:"form-select",disabled:x,children:[d.jsx("option",{value:"",children:i("todos.noListingAssignment")}),k.map(F=>{var H;return d.jsxs("option",{value:F.id,children:[F.id," -"," ",((H=F.airbnb_payload)==null?void 0:H.formattedAddress)||i("forms.noAddress")]},F.id)})]}),x&&d.jsx("small",{children:i("todos.loadingListings")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"product_search",children:i("todos.products")}),d.jsxs("div",{className:"product-search-container",children:[d.jsx("input",{type:"text",id:"product_search",value:c,onChange:F=>f(F.target.value),placeholder:i("todos.searchProductsPlaceholder"),className:"form-input"}),g.length>0&&d.jsx("div",{className:"search-results",children:g.map((F,H)=>d.jsx("button",{type:"button",onClick:()=>A(F),className:"search-result-item",children:F},H))})]}),p.length>0&&d.jsxs("div",{className:"selected-products",children:[d.jsx("h4",{children:i("todos.selectedProducts")}),p.map((F,H)=>d.jsxs("div",{className:"selected-product",children:[d.jsx("span",{className:"product-name",children:F.product_name}),d.jsxs("div",{className:"product-controls",children:[d.jsx("input",{type:"number",min:"1",value:F.quantity,onChange:T=>b(F.product_name,T.target.value),className:"quantity-input"}),d.jsx("button",{type:"button",onClick:()=>I(F.product_name),className:"btn-remove",children:i("todos.remove")})]})]},H))]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:i("todos.description")}),d.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:j,rows:3,placeholder:i("todos.detailsPlaceholder"),className:"form-textarea"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:i("todos.cancel")}),d.jsx("button",{type:"submit",disabled:E,className:"btn-primary",children:E?i("todos.creating"):s})]})]})]})}class Rr{constructor(t){this.supabase=t}async fetchTodos(t){const{attachedToType:n,attachedToId:r,isAdmin:s,isCleaner:i,isDone:o}=t,a=i&&!s?"id, title, description, products, done, completed_at, completed_by, created_at, updated_at, attached_to_type, attached_to_id":"*";let l=this.supabase.from("todos").select(a);n&&r?l=l.eq("attached_to_type",n).eq("attached_to_id",r):n===null&&r===null&&(l=l.is("attached_to_type",null)),o!==void 0&&(l=l.eq("done",o));const{data:u,error:c}=await l.order("created_at",{ascending:!1}).overrideTypes();return{data:u||[],error:c}}async fetchNotes(t){const{attachedToType:n,attachedToId:r,isAdmin:s,isCleaner:i}=t,o=i&&!s?"id, content, created_at, attached_to_type, attached_to_id":"id, content, created_by, created_at, attached_to_type, attached_to_id";let a=this.supabase.from("notes").select(o);n&&r?a=a.eq("attached_to_type",n).eq("attached_to_id",r):n===null&&r===null&&(a=a.is("attached_to_type",null));const{data:l,error:u}=await a.order("created_at",{ascending:!0}).overrideTypes();if(l&&l.length>0&&s){const c=[...new Set(l.map(f=>f.created_by).filter(Boolean))];if(c.length>0){const{data:f}=await this.supabase.from("user_profiles").select("id, email, name").in("id",c);if(f){const g=new Map(f.map(h=>[h.id,h]));l.forEach(h=>{const p=g.get(h.created_by);p&&(h.user_email=p.email,h.user_name=p.name)})}}}return{data:l||[],error:u}}async updateTodoStatus(t,n,r){const s={done:n,updated_at:new Date().toISOString()};n?(s.completed_at=new Date().toISOString(),s.completed_by=r||null):(s.completed_at=null,s.completed_by=null);const{error:i}=await this.supabase.from("todos").update(s).eq("id",t);return{data:null,error:i}}async updateTodo(t,n){const{data:r,error:s}=await this.supabase.from("todos").update({...n,updated_at:new Date().toISOString()}).eq("id",t).select().single();return{data:r,error:s}}async deleteTodo(t){const{error:n}=await this.supabase.from("todos").delete().eq("id",t);return{data:null,error:n}}async deleteNote(t){const{error:n}=await this.supabase.from("notes").delete().eq("id",t);return{data:null,error:n}}async createTodo(t){const{data:n,error:r}=await this.supabase.from("todos").insert(t).select().single();return{data:n,error:r}}async createNote(t){const{data:n,error:r}=await this.supabase.from("notes").insert(t).select().single();return{data:n,error:r}}async getCurrentUser(){const{data:t,error:n}=await this.supabase.auth.getUser();return{data:t,error:n}}async fetchListings(){const{data:t,error:n}=await this.supabase.from("listings").select("id, airbnb_id, airbnb_payload, created_at, updated_at").order("id");return{data:t||[],error:n}}async fetchListing(t){const{data:n,error:r}=await this.supabase.from("listings").select("*").eq("id",t).single();return{data:n,error:r}}}function lx(){const{t:e}=ae(),{supabase:t,isAdmin:n}=ge(),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,l]=S.useState(null),[u,c]=S.useState(!1),[f,g]=S.useState("all"),h=new Rr(t),p=async()=>{try{o(!0),l(null);const{data:x,error:_}=await h.fetchTodos({isAdmin:!0,isCleaner:!1});if(_)throw _;let E=x||[];f==="done"?E=E.filter(C=>C.done):f==="pending"&&(E=E.filter(C=>!C.done)),s(E)}catch(x){console.error("Error fetching todos:",x),l(x instanceof Error?x.message:String(x))}finally{o(!1)}};S.useEffect(()=>{p()},[f]);const w=()=>{c(!1),p()},k=async(x,_)=>{var E;try{const{data:C}=await h.getCurrentUser(),R=(E=C==null?void 0:C.user)==null?void 0:E.id,{error:P}=await h.updateTodoStatus(x,_,R);if(P)throw P;p()}catch(C){console.error("Error updating todo status:",C),l(C instanceof Error?C.message:String(C))}},v=async x=>{if(confirm(e("todos.deleteConfirm")))try{const{error:_}=await h.deleteTodo(x);if(_)throw _;p()}catch(_){console.error("Error deleting todo:",_),l(_ instanceof Error?_.message:String(_))}},m=x=>x?"#10b981":"#6b7280",y=[{accessorKey:"title",header:e("columns.title"),cell:({getValue:x})=>d.jsx("span",{className:"font-medium",children:x()})},{accessorKey:"done",header:e("columns.status"),cell:({getValue:x,row:_})=>{const E=x();return d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:E,onChange:C=>k(_.original.id,C.target.checked),className:"rounded"}),d.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:m(E)},children:e(E?"todos.done":"todos.pending")})]})}},{accessorKey:"attached_to_type",header:e("todos.attachedTo"),cell:({getValue:x,row:_})=>{const E=x(),C=_.original.attached_to_id;return E?d.jsxs("span",{className:"text-sm",children:[E,": ",C]}):d.jsx("span",{className:"text-gray-500",children:e("todos.unattached")})}},{accessorKey:"created_at",header:e("columns.created"),cell:({getValue:x})=>d.jsx("span",{className:"text-sm",children:new Date(x()).toLocaleDateString()})},{id:"actions",header:e("columns.actions"),cell:({row:x})=>d.jsx("button",{onClick:()=>v(x.original.id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:e("todos.delete")})}];return n?d.jsxs("div",{className:"admin-todos",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("todos.allTodos")}),d.jsx("p",{className:"admin-stats",children:i?e("todos.loadingTodos"):e("todos.totalTodos",{count:r.length})})]}),d.jsxs("div",{className:"admin-controls",children:[d.jsxs("div",{className:"filter-controls",children:[d.jsx("label",{htmlFor:"status-filter",children:e("todos.filterByStatus")}),d.jsxs("select",{id:"status-filter",value:f,onChange:x=>g(x.target.value),className:"form-select",children:[d.jsx("option",{value:"all",children:e("todos.all")}),d.jsx("option",{value:"pending",children:e("todos.pending")}),d.jsx("option",{value:"done",children:e("todos.done")})]})]}),d.jsx("button",{onClick:()=>c(!0),className:"btn-primary",children:e("todos.createGeneral")})]}),a&&d.jsx("div",{className:"error-message",children:a}),u&&d.jsx("div",{className:"todo-form-overlay",children:d.jsx(fp,{title:e("todos.createGeneral"),onTodoCreated:w,onCancel:()=>c(!1)})}),d.jsx(Ds,{data:r,columns:y,loading:i,error:a,enablePagination:!0,className:"todos-data-table"})]}):d.jsx("div",{className:"admin-todos",children:d.jsx("div",{className:"error-message",children:e("todos.adminAccessRequired")})})}function ux(){const{t:e}=ae(),{supabase:t}=ge(),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,a]=S.useState(null),l=S.useMemo(()=>new Rr(t),[t]);S.useEffect(()=>{(async()=>{try{i(!0),a(null);const{data:f,error:g}=await l.fetchListings();if(g)throw g;r(f||[])}catch(f){console.error("Error fetching listings:",f),a(f.message)}finally{i(!1)}})()},[l]);const u=S.useMemo(()=>[{accessorKey:"id",header:e("columns.id"),cell:({getValue:c})=>{const f=c();return d.jsx(rt,{to:`/listing/${f}`,className:"listing-id-link",children:f})}},{accessorKey:"airbnb_payload.formattedAddress",header:e("listings.address"),cell:({getValue:c})=>c()||e("columns.na")}],[e]);return d.jsxs("div",{className:"listings",children:[d.jsxs("div",{className:"listings-header",children:[d.jsx("h1",{className:"listings-title",children:e("listings.title")}),d.jsx("p",{className:"listings-stats",children:s?e("listings.loadingListings"):e("listings.totalListings",{count:n.length})})]}),d.jsx(Ds,{data:n,columns:u,loading:s,error:o,enablePagination:!0,className:"listings-data-table"})]})}function cx(){const{user:e}=ge(),{t}=ae(),{tasks:n,loading:r,error:s,totalCount:i,pagination:o,sorting:a,globalFilter:l,handleServerSideChange:u,updateTaskStatus:c,updateTaskTimes:f}=up(!0),{getCleanerColumns:g}=dp(),h=S.useMemo(()=>g(c,f),[g,c,f]);return e?d.jsxs("div",{className:"cleaner-tasks",children:[d.jsxs("div",{className:"cleaner-header",children:[d.jsx("h1",{className:"cleaner-title",children:t("tasks.myTasks")}),d.jsx("p",{className:"cleaner-stats",children:r?t("tasks.loading"):t("tasks.totalTasks",{count:i})})]}),d.jsx(Ds,{data:n,columns:h,loading:r,error:s,serverSide:!0,onServerSideChange:u,totalCount:i,pageSize:o.pageSize,pageIndex:o.pageIndex,sorting:a,globalFilter:l,className:"cleaner-tasks-data-table"})]}):d.jsx("div",{className:"cleaner-tasks",children:d.jsx("div",{className:"error-message",children:t("tasks.loginRequired")})})}function dx({taskId:e,taskService:t}){const{t:n}=ae(),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,l]=S.useState(null);S.useEffect(()=>{e&&t&&(async()=>{try{o(!0);const w=await t.getTaskAuditTrail(e);s(w)}catch(w){const k=w instanceof Error?w.message:String(w);l(k)}finally{o(!1)}})()},[e,t]);const u=p=>{switch(p){case"INSERT":return"➕";case"UPDATE":return"✏️";case"DELETE":return"🗑️";default:return"📝"}},c=p=>{switch(p){case"INSERT":return"audit-insert";case"UPDATE":return"audit-update";case"DELETE":return"audit-delete";default:return"audit-default"}},f=(p,w,k)=>!k||k.length===0?null:k.map(v=>{const m=p==null?void 0:p[v],y=w==null?void 0:w[v];return{field:v,oldValue:m!==void 0?m:null,newValue:y!==void 0?y:null}}).filter(v=>v.oldValue!==v.newValue),g=p=>{if(p==null)return"null";if(typeof p=="string"&&p.includes("T"))try{return Yt(p)}catch{return p}return String(p)},h=p=>{var w;return p.changed_by?p.changed_by_name?p.changed_by_name:p.changed_by_email?((w=p.changed_by_email)==null?void 0:w.split("@")[0])||"":n("audit.unknownUser"):n("audit.system")};return i?d.jsxs("div",{className:"audit-trail-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:n("audit.loading")})]}):a?d.jsx("div",{className:"audit-trail-error",children:d.jsx("p",{className:"error-message",children:a})}):r.length===0?d.jsx("div",{className:"audit-trail-empty",children:d.jsx("p",{children:n("audit.noHistory")})}):d.jsx("div",{className:"audit-trail-list",children:r.map((p,w)=>{var k;return d.jsxs("div",{className:`audit-entry ${c(p.action_type||"UPDATE")}`,children:[d.jsxs("div",{className:"audit-entry-header",children:[d.jsx("div",{className:"audit-entry-icon",children:u(p.action_type||"UPDATE")}),d.jsxs("div",{className:"audit-entry-info",children:[d.jsxs("div",{className:"audit-entry-action",children:[d.jsx("span",{className:"action-type",children:p.action_type}),d.jsx("span",{className:"action-time",children:Yt(p.changed_at)})]}),d.jsxs("div",{className:"audit-entry-user",children:[n("audit.by")," ",h(p)]})]})]}),d.jsxs("div",{className:"audit-entry-content",children:[p.action_type==="UPDATE"&&p.old_values&&p.new_values&&d.jsxs("div",{className:"audit-entry-values",children:[d.jsxs("span",{className:"values-label",children:[n("audit.valuesChanged"),":"]}),d.jsx("div",{className:"values-list",children:(k=f(p.old_values,p.new_values,p.changed_fields))==null?void 0:k.map((v,m)=>d.jsxs("div",{className:"value-item",children:[d.jsxs("span",{className:"field-name",children:[v.field,":"]}),d.jsxs("span",{className:"value-change",children:[d.jsx("span",{className:"old-value",children:g(v.oldValue)}),d.jsx("span",{className:"arrow",children:"→"}),d.jsx("span",{className:"new-value",children:g(v.newValue)})]})]},m))})]}),p.context&&Object.keys(p.context).length>0&&d.jsxs("div",{className:"audit-entry-context",children:[d.jsxs("span",{className:"context-label",children:[n("audit.context"),":"]}),d.jsx("pre",{className:"context-data",children:JSON.stringify(p.context,null,2)})]})]}),w<r.length-1&&d.jsx("div",{className:"audit-entry-connector"})]},p.id)})})}function hp({attachedToType:e=null,attachedToId:t=null,title:n="TODOs",showCreateButton:r=!0,showAttachmentInfo:s=!1}){const{supabase:i,isAdmin:o,isCleaner:a}=ge(),[l,u]=S.useState([]),[c,f]=S.useState(!0),[g,h]=S.useState(null),[p,w]=S.useState(!1),k=new Rr(i),v=async()=>{try{f(!0),h(null);const{data:C,error:R}=await k.fetchTodos({attachedToType:e,attachedToId:t,isAdmin:o,isCleaner:a,isDone:!1});if(R)throw R;u(C||[])}catch(C){console.error("Error fetching todos:",C);const R=C instanceof Error?C.message:String(C);h(R)}finally{f(!1)}};S.useEffect(()=>{v()},[e,t]);const m=()=>{w(!1),v()},y=async(C,R)=>{var P;try{const{data:j}=await k.getCurrentUser(),L=(P=j==null?void 0:j.user)==null?void 0:P.id,{error:A}=await k.updateTodoStatus(C,R,L);if(A)throw A;v()}catch(j){console.error("Error updating todo status:",j),h(j instanceof Error?j.message:String(j))}},x=async C=>{if(o&&confirm("Are you sure you want to delete this TODO?"))try{const{error:R}=await k.deleteTodo(C);if(R)throw R;v()}catch(R){console.error("Error deleting todo:",R),h(R instanceof Error?R.message:String(R))}},_=C=>C?"status-completed":"status-pending",E=C=>C.attached_to_type?`${C.attached_to_type}: ${C.attached_to_id}`:"Unattached";return c?d.jsx("div",{className:"todo-list",children:d.jsx("div",{className:"loading",children:"Loading TODOs..."})}):d.jsxs("div",{className:"todo-list",children:[d.jsxs("div",{className:"todos-header",children:[d.jsx("h3",{children:n}),r&&(o||a)&&!p&&d.jsx("button",{onClick:()=>w(!0),className:"btn-primary btn-sm",children:"Add TODO"})]}),g&&d.jsx("div",{className:"error-message",children:g}),p&&d.jsx("div",{className:"todo-form-overlay",children:d.jsx(fp,{attachedToType:e,attachedToId:t,onTodoCreated:m,onCancel:()=>w(!1)})}),l.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No TODOs found."})}):d.jsx("div",{className:"todos-list",children:l.map(C=>d.jsxs("div",{className:`todo-item ${_(C.done)}`,children:[d.jsxs("div",{className:"todo-header",children:[d.jsxs("div",{className:"todo-title-row",children:[d.jsx("h4",{className:"todo-title",children:C.title}),d.jsx("div",{className:"todo-badges",children:d.jsx("span",{className:`status-badge ${_(C.done)}`,children:C.done?"Done":"Pending"})})]}),d.jsxs("div",{className:"todo-meta",children:[d.jsxs("span",{className:"todo-date",children:["Created: ",new Date(C.created_at).toLocaleDateString()]}),C.completed_at&&d.jsxs("span",{className:"todo-completed-date",children:["Completed:"," ",new Date(C.completed_at).toLocaleDateString()]}),s&&d.jsxs("span",{className:"todo-attachment",children:["Attached to: ",E(C)]})]})]}),C.description&&d.jsx("p",{className:"todo-description",children:C.description}),C.products&&C.products.length>0&&d.jsxs("div",{className:"todo-products",children:[d.jsx("h5",{children:"Products needed:"}),d.jsx("ul",{className:"products-list",children:C.products.map((R,P)=>d.jsxs("li",{className:"product-item",children:[d.jsx("span",{className:"product-name",children:R.product_name}),d.jsxs("span",{className:"product-quantity",children:["×",R.quantity]})]},P))})]}),d.jsxs("div",{className:"todo-actions",children:[o&&d.jsxs("label",{className:"todo-checkbox",children:[d.jsx("input",{type:"checkbox",checked:C.done,onChange:R=>y(C.id,R.target.checked)}),"Mark as done"]}),o&&d.jsx("button",{onClick:()=>x(C.id),className:"btn-danger btn-sm",children:"Delete"})]})]},C.id))})]})}function fx({listingId:e,onTodoUpdated:t}){const{supabase:n,user:r}=ge(),s=S.useMemo(()=>new Rr(n),[n]),[i,o]=S.useState([]),[a,l]=S.useState({}),[u,c]=S.useState(null),[f,g]=S.useState(!1),[h,p]=S.useState(null),[w,k]=S.useState(new Set(Object.keys(Mr))),[v,m]=S.useState(new Set);S.useEffect(()=>{const j=[],L={};Object.entries(Mr).forEach(([A,b])=>{b.products.forEach(I=>{j.push({name:I,category:A}),L[I]=0})}),o(j),l(L)},[]),S.useEffect(()=>{e&&(async()=>{try{g(!0);const{data:L,error:A}=await s.fetchTodos({attachedToType:"listing",attachedToId:e,isAdmin:!0,isCleaner:!0});if(A)throw A;const b=L==null?void 0:L.find(I=>I.title.startsWith("[AUTO]")&&I.attached_to_type==="listing"&&I.attached_to_id===e&&!I.done);b&&(c(b),b.products&&l(I=>{const Ee={...I};return b.products.forEach(F=>{Ee[F.product_name]=F.quantity}),Ee}))}catch(L){console.error("Error fetching existing todo:",L),p(L instanceof Error?L.message:String(L))}finally{g(!1)}})()},[e,s]);const y=j=>Object.entries(j).filter(([,L])=>L>0).map(([L,A])=>({product_name:L,quantity:A})),x=async(j,L)=>{if(!r)return;const A=y(j);try{if(u)if(A.length===0){const{error:b}=await s.deleteTodo(u.id);if(b)throw b;c(null),t==null||t(null)}else{const{data:b,error:I}=await s.updateTodo(u.id,{products:A});if(I)throw I;b&&c(b)}else if(A.length>0){const{data:b,error:I}=await s.createTodo({created_by:r.id,title:`[AUTO] Product Replenishment ${new Date().toLocaleDateString()}`,description:"Auto-generated todo for product replenishment",products:A,attached_to_type:"listing",attached_to_id:e});if(I)throw I;b&&c(b),t==null||t(b||null)}}finally{L&&m(b=>{const I=new Set(b);return I.delete(L),I})}},_=S.useCallback(j=>{const L=window.scrollY;m(A=>new Set(A).add(j)),l(A=>{const b={...A,[j]:(A[j]||0)+1};return x(b,j).catch(console.error),b}),setTimeout(()=>{window.scrollTo(0,L)},0)},[x]),E=S.useCallback(j=>{const L=window.scrollY;m(A=>new Set(A).add(j)),l(A=>{const b=Math.max(0,(A[j]||0)-1),I={...A,[j]:b};return x(I,j).catch(console.error),I}),setTimeout(()=>{window.scrollTo(0,L)},0)},[x]),C=j=>{k(L=>{const A=new Set(L);return A.has(j)?A.delete(j):A.add(j),A})},R=S.useMemo(()=>i.filter(j=>w.has(j.category)),[i,w]),P=S.useMemo(()=>{const j={};return Object.keys(Mr).forEach(L=>{j[L]=[]}),R.forEach(L=>{const A=L.category;j[A]||(j[A]=[]),j[A].push(L)}),j},[R]);return f?d.jsx("div",{className:"todo-creation-helper",children:d.jsx("div",{className:"loading",children:"Loading products..."})}):d.jsxs("div",{className:"todo-creation-helper",children:[h&&d.jsx("div",{className:"error-message",children:h}),d.jsx("div",{className:"category-toggles",children:d.jsx("div",{className:"category-checkboxes",children:Object.entries(Mr).map(([j,L])=>d.jsxs("label",{className:"category-checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:w.has(j),onChange:()=>C(j),className:"category-checkbox"}),d.jsx("span",{className:"category-checkbox-text",children:L.name})]},j))})}),d.jsx("div",{className:"products-by-category",children:Object.entries(P).map(([j,L])=>d.jsxs("div",{className:"category-section",children:[d.jsx("h4",{className:"category-title",children:(()=>{const A=Mr[j];return A?A.name:j})()}),d.jsx("div",{className:"products-grid",children:L.map(A=>d.jsxs("div",{className:`product-block ${(a[A.name]||0)>0?"has-quantity":""} ${v.has(A.name)?"updating":""}`,children:[v.has(A.name)&&d.jsx("div",{className:"product-loading-overlay",children:d.jsx("div",{className:"spinner"})}),d.jsx("div",{className:"product-name",children:A.name}),d.jsxs("div",{className:"product-controls",children:[d.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),b.stopPropagation(),E(A.name)},className:"quantity-btn quantity-btn-minus",disabled:(a[A.name]||0)===0||v.has(A.name),children:"-"}),d.jsx("span",{className:"quantity-display",children:a[A.name]||0}),d.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),b.stopPropagation(),_(A.name)},className:"quantity-btn quantity-btn-plus",disabled:v.has(A.name),children:"+"})]})]},A.name))})]},j))}),u&&d.jsx("div",{className:"existing-todo-info",children:d.jsx("span",{className:"info-text",children:"Auto-generated todo exists for this listing"})})]})}function $l({attachedToType:e=null,attachedToId:t=null,title:n="Notes",showAttachmentInfo:r=!1}){const{t:s}=ae(),{user:i,supabase:o,isAdmin:a,isCleaner:l}=ge(),[u,c]=S.useState([]),[f,g]=S.useState(!0),[h,p]=S.useState(null),[w,k]=S.useState(""),[v,m]=S.useState(!1),y=S.useRef(null),x=S.useRef(null),_=new Rr(o),E=async()=>{try{g(!0),p(null);const{data:b,error:I}=await _.fetchNotes({attachedToType:e,attachedToId:t,isAdmin:a,isCleaner:l});if(I)throw I;c(b||[])}catch(b){console.error("Error fetching notes:",b);const I=b instanceof Error?b.message:String(b);p(I)}finally{g(!1)}},C=()=>{var b;(b=y.current)==null||b.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{E()},[e,t]);const R=async b=>{if(!(!i||!b.trim())){m(!0),p(null);try{const I={content:b.trim(),attached_to_type:e,attached_to_id:t},{error:Ee}=await _.createNote(I);if(Ee)throw Ee;k(""),E(),setTimeout(()=>C(),100)}catch(I){console.error("Error creating note:",I),p(I instanceof Error?I.message:String(I))}finally{m(!1)}}},P=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),w.trim()&&!v&&R(w))},j=b=>{b.preventDefault(),w.trim()&&!v&&R(w)},L=async b=>{if(a&&confirm(s("notes.deleteConfirm")))try{const{error:I}=await _.deleteNote(b);if(I)throw I;E()}catch(I){console.error("Error deleting note:",I),p(I instanceof Error?I.message:String(I))}},A=b=>b.attached_to_type?`${b.attached_to_type}: ${b.attached_to_id}`:s("todos.unattached");return f?d.jsx("div",{className:"note-list",children:d.jsx("div",{className:"loading",children:s("notes.loadingNotes")})}):d.jsxs("div",{className:"chat-container",children:[n&&d.jsx("div",{className:"chat-header",children:d.jsx("h3",{children:n})}),d.jsxs("div",{className:"chat-messages",children:[f&&d.jsx("div",{className:"chat-loading",children:s("notes.loadingNotes")}),!f&&u.length===0&&d.jsx("div",{className:"chat-empty",children:d.jsx("p",{children:s("notes.noNotesYet")})}),u.map(b=>d.jsxs("div",{className:"chat-message",children:[d.jsxs("div",{className:"message-header",children:[d.jsx("span",{className:"message-author",children:b.user_name||b.user_email||s("notes.unknownUser")}),d.jsx("span",{className:"message-time",children:new Date(b.created_at).toLocaleString()}),a&&d.jsx("button",{onClick:()=>L(b.id),className:"message-delete",title:s("notes.deleteNote"),children:"×"})]}),d.jsx("div",{className:"message-content",children:b.content}),r&&d.jsxs("div",{className:"message-attachment",children:[s("notes.attachedToLabel"),A(b)]})]},b.id)),d.jsx("div",{ref:y})]}),(a||l)&&d.jsxs("div",{className:"chat-input-container",children:[h&&d.jsx("div",{className:"chat-error",children:h}),d.jsxs("form",{onSubmit:j,className:"chat-input-form",children:[d.jsx("textarea",{ref:x,value:w,onChange:b=>k(b.target.value),onKeyPress:P,placeholder:s("notes.typePlaceholder"),className:"chat-input",rows:1,disabled:v}),d.jsx("button",{type:"submit",disabled:!w.trim()||v,className:"chat-send-btn",children:s(v?"notes.sending":"notes.send")})]})]})]})}function hx(){const{id:e}=gg(),t=Nu(),{supabase:n,user:r,isAdmin:s}=ge(),{t:i}=ae(),o=S.useMemo(()=>lp(n,r),[n,r]),[a,l]=S.useState(null),[u,c]=S.useState(!0),[f,g]=S.useState(null),[h,p]=S.useState(null),[w,k]=S.useState(""),[v,m]=S.useState(!1),[y,x]=S.useState("chat"),[_,E]=S.useState(!0),[C,R]=S.useState(!0),[P,j]=S.useState(!0),L=S.useCallback(async()=>{try{if(!e)return;c(!0);const $=await o.getTask(e);l($)}catch($){g($.message)}finally{c(!1)}},[o,e]);S.useEffect(()=>{r&&e&&L()},[L,r,e]);const A=()=>{t(-1)},b=$=>`status-badge status-${$}`,I=S.useCallback(async($,z)=>{if(a)try{if(c(!0),$==="started_at"||$==="finished_at"){const K={[$]:z};await o.updateTaskTimes(a.id,K)}else await o.updateTaskField(a.id,$,z);await L(),p(null)}catch(K){g(K.message)}finally{c(!1)}},[o,a==null?void 0:a.id,L]),Ee=S.useCallback(async $=>{if(a)try{c(!0),await o.updateTaskStatus(a.id,$),await L()}catch(z){g(z.message)}finally{c(!1)}},[o,a==null?void 0:a.id,L]),F=S.useCallback(async($,z)=>{try{c(!0),await o.updateTaskAssignment($,z,r==null?void 0:r.id),await L()}catch(K){throw g(K.message),K}finally{c(!1)}},[o,r==null?void 0:r.id,L]),H=S.useCallback(($,z)=>{p($),k(z||"")},[]),T=S.useCallback(()=>{p(null),k("")},[]),D=({field:$,value:z,type:K="text"})=>{if(!a)return null;const He=h===$,Ft=!($==="started_at"||$==="finished_at")||a.status!=="assigned"&&a.status!=="unassigned",St=a.status!=="admin_accepted"||s;return He?d.jsxs("div",{className:"time-edit-container",children:[d.jsx("input",{type:K,value:w,onChange:An=>k(An.target.value),className:"time-input"}),d.jsx("button",{onClick:()=>I($,w),className:"btn-save",disabled:u,children:i("columns.save")}),d.jsx("button",{onClick:T,className:"btn-cancel",disabled:u,children:i("columns.cancel")})]}):d.jsxs("div",{className:"time-display-container",children:[d.jsx("span",{children:z?Yt(z):i("tasks.notSet")}),Ft&&St&&d.jsx("button",{onClick:()=>H($,z?z.slice(0,16):""),className:"btn-edit",disabled:u,children:i("columns.edit")})]})};return u?d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:i("tasks.loadingDetails")})]})}):f?d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-error",children:[d.jsx("h2",{children:i("tasks.errorLoading")}),d.jsx("p",{children:f}),d.jsx("button",{onClick:A,className:"btn-primary",children:i("tasks.goBack")})]})}):a?d.jsxs("div",{className:"task-detail",children:[d.jsxs("div",{className:"task-detail-header",children:[d.jsxs("button",{onClick:A,className:"btn-back",children:["← ",i("tasks.back")]}),d.jsx("h1",{className:"task-detail-title",children:i("tasks.details")})]}),d.jsxs("div",{className:"task-detail-content",children:[d.jsxs("div",{className:"task-detail-section",children:[d.jsx("h2",{className:"section-title",children:i("tasks.information")}),d.jsxs("div",{className:"task-info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.titleLabel")}),d.jsx("span",{children:a.title||i("columns.na")})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.statusLabel")}),d.jsx("span",{className:b(a.status),children:a.status})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.scheduledLabel")}),d.jsx("span",{children:Yt(a.scheduled_datetime)})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.listingIdLabel")}),d.jsx("span",{children:a.listing_id||i("columns.na")})]}),s&&d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.assignedToLabel")}),d.jsx(cp,{currentAssignedTo:a.assigned_to,taskId:a.id,onAssignmentChange:F,disabled:u})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.startedAtLabel")}),d.jsx(D,{field:"started_at",value:a.started_at,type:"datetime-local"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.finishedAtLabel")}),d.jsx(D,{field:"finished_at",value:a.finished_at,type:"datetime-local"})]})]})]}),d.jsx("div",{className:"task-detail-section",children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:i("tasks.actions")}),d.jsxs("div",{className:"section-actions",children:[a.status==="admin_accepted"&&d.jsxs("div",{className:"admin-accepted-notice",children:[d.jsx("span",{className:"status-badge status-admin_accepted",children:i("tasks.acceptedByAdmin")}),d.jsx("p",{children:i("tasks.noFurtherEdits")})]}),a.status==="assigned"&&d.jsx("button",{onClick:()=>Ee("accepted"),className:"btn-start",disabled:u,children:i("tasks.acceptTask")}),a.status==="accepted"&&d.jsx("button",{onClick:()=>I("started_at",new Date().toISOString()),className:"btn-start",disabled:u,children:i("tasks.startTask")}),a.status==="in_progress"&&!a.finished_at&&d.jsx("button",{onClick:()=>I("finished_at",new Date().toISOString()),className:"btn-end",disabled:u,children:i("tasks.completeTask")}),s&&a.status==="completed"&&d.jsx("div",{className:"admin-review-actions",children:d.jsx("button",{onClick:()=>Ee("admin_accepted"),className:"btn-accept",disabled:u,children:i("tasks.acceptCompletion")})})]})]})}),d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>j(!P),className:"section-toggle","aria-label":i(P?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${P?"expanded":""}`,children:"▼"}),d.jsx("span",{className:"section-title",children:"Product Replenishment Helper"})]})}),P&&a.listing_id&&d.jsx(fx,{listingId:a.listing_id})]}),a.listing_id&&d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>R(!C),className:"section-toggle","aria-label":i(C?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${C?"expanded":""}`,children:"▼"}),d.jsx("span",{className:"section-title",children:i("listings.listingTodos")})]})}),C&&d.jsx(hp,{attachedToType:"listing",attachedToId:a.listing_id,title:""})]}),d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>E(!_),className:"section-toggle","aria-label":i(_?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${_?"expanded":""}`,children:"▼"}),d.jsx("span",{className:"section-title",children:i("listings.listingChat")})]})}),_&&d.jsxs("div",{className:"tabbed-container",children:[d.jsx("div",{className:"tab-header",children:d.jsxs("div",{className:"tab-nav",children:[d.jsx("button",{className:`tab-button ${y==="chat"?"active":""}`,onClick:()=>x("chat"),children:i("taskDetail.taskTab")}),d.jsx("button",{className:`tab-button ${y==="listing"?"active":""}`,onClick:()=>x("listing"),children:i("taskDetail.listingTab")})]})}),d.jsx("div",{className:"tab-content",children:y==="chat"?d.jsx($l,{attachedToType:"task",attachedToId:a.id,title:""}):a.listing_id&&d.jsx($l,{attachedToType:"listing",attachedToId:a.listing_id,title:""})})]})]}),s&&d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>m(!v),className:"section-toggle","aria-label":i(v?"taskDetail.collapseAudit":"taskDetail.expandAudit"),children:[d.jsx("span",{className:`toggle-icon ${v?"expanded":"collapsed"}`,children:"▼"}),d.jsx("h2",{className:"section-title",children:i("audit.history")})]})}),v&&d.jsx("div",{className:"audit-trail-container",children:d.jsx(dx,{taskId:a.id,taskService:o})})]})]})]}):d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-not-found",children:[d.jsx("h2",{children:i("tasks.notFound")}),d.jsx("p",{children:i("tasks.notFoundDescription")}),d.jsx("button",{onClick:A,className:"btn-primary",children:i("tasks.goBack")})]})})}function gx(){const{t:e}=ae(),{id:t}=gg(),{supabase:n}=ge(),[r,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(null);if(S.useEffect(()=>{(async()=>{if(t)try{o(!0),l(null);const f=new Rr(n),{data:g,error:h}=await f.fetchListing(t);if(h)throw h;s(g)}catch(f){console.error("Error fetching listing:",f),l(f instanceof Error?f.message:String(f))}finally{o(!1)}})()},[t,n]),i)return d.jsxs("div",{className:"listing-detail-loading",children:[d.jsx("div",{className:"loading-spinner","data-testid":"loading-spinner"}),e("listings.loadingDetails")]});if(a)return d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:e("listings.failedToLoad")}),d.jsx("p",{className:"error-message",children:a})]});if(!r)return d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:e("listings.notFound")}),d.jsxs("p",{className:"error-message",children:['The listing with ID "',t,'" was not found.']})]});const u=r.airbnb_payload||{};return d.jsxs("div",{className:"listing-detail",children:[d.jsxs("div",{className:"listing-detail-header",children:[d.jsx("h1",{className:"listing-detail-title",children:e("listings.details")}),d.jsxs("div",{className:"listing-detail-subtitle",children:["ID: ",r.id]})]}),d.jsxs("div",{className:"listing-detail-content",children:[d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.basicInformation")}),d.jsxs("div",{className:"listing-detail-grid",children:[d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.listingId"),":"]}),d.jsx("span",{children:r.id})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.airbnbId"),":"]}),d.jsx("span",{children:r.airbnb_id})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.address"),":"]}),d.jsx("span",{children:u.formattedAddress||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.propertyType"),":"]}),d.jsx("span",{children:u.propertyType||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.roomType"),":"]}),d.jsx("span",{children:u.roomType||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.bedrooms"),":"]}),d.jsx("span",{children:u.bedrooms||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.bathrooms"),":"]}),d.jsx("span",{children:u.bathrooms||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.maxGuests"),":"]}),d.jsx("span",{children:u.maxGuests||e("columns.na")})]})]})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.dates")}),d.jsxs("div",{className:"listing-detail-grid",children:[d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.created"),":"]}),d.jsx("span",{children:new Date(r.created_at).toLocaleString()})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.updated"),":"]}),d.jsx("span",{children:new Date(r.updated_at).toLocaleString()})]})]})]}),u.amenities&&u.amenities.length>0&&d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.amenities")}),d.jsx("div",{className:"amenities-list",children:u.amenities.map((c,f)=>d.jsx("span",{className:"amenity-tag",children:c},f))})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.listingTodos")}),d.jsx(hp,{attachedToType:"listing",attachedToId:r.id,title:""})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.listingChat")}),d.jsx($l,{attachedToType:"listing",attachedToId:r.id,title:""})]})]})]})}const px=()=>{var u,c,f;const{t:e}=ae(),[t,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(null),{user:a,getAccessToken:l}=ge();return S.useEffect(()=>{a&&(async()=>{try{s(!0),o(null);const h=await l();if(!h)throw new Error(e("auth.noAccessToken"));const p=Kg(),w={Authorization:`Bearer ${h}`,"Content-Type":"application/json"},k=`${p}/functions/v1/health`,v=await fetch(k,{headers:w});if(!v.ok)throw v.status===401?new Error(e("auth.authenticationFailed")):new Error(`HTTP error! status: ${v.status}`);const m=await v.json();n(m)}catch(h){o(h instanceof Error?h.message:"An error occurred"),console.error("Health check error:",h)}finally{s(!1)}})()},[a,l]),r?d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),e("healthCheck.loading")]}):i?d.jsxs("div",{className:"error",children:[d.jsx("h2",{className:"error-title",children:e("healthCheck.failed")}),d.jsx("p",{className:"error-message",children:i}),i.includes("Authentication failed")&&d.jsx("button",{onClick:()=>window.location.reload(),className:"google-signin-btn",style:{marginTop:"var(--space-4)"},children:e("healthCheck.reloadPage")})]}):d.jsxs("div",{className:"admin-reservations",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("healthCheck.title")}),d.jsx("p",{className:"admin-stats",children:e("healthCheck.monitoring")})]}),t&&d.jsxs("div",{style:{padding:"var(--space-6)"},children:[d.jsxs("div",{style:{display:"grid",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.overallStatus")}),d.jsx("span",{className:`status-badge status-${t.status==="ok"?"confirmed":"cancelled"}`,children:t.status==="ok"?e("healthCheck.healthy"):e("healthCheck.error")})]}),t.user&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.authenticatedUser")}),d.jsx("span",{style:{color:"var(--graphite-900)"},children:t.user.email})]}),((u=t.checks)==null?void 0:u.database)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.database")}),d.jsxs("div",{style:{textAlign:"right"},children:[d.jsx("span",{className:`status-badge status-${t.checks.database.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.database.status==="ok"?e("healthCheck.connected"):e("healthCheck.error")}),t.checks.database.version&&d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--graphite-500)",marginTop:"var(--space-1)"},children:[e("system.version"),t.checks.database.version]})]})]}),((c=t.checks)==null?void 0:c.supabase)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.supabaseApi")}),d.jsx("span",{className:`status-badge status-${t.checks.supabase.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.supabase.status==="ok"?e("healthCheck.connected"):e("healthCheck.error")})]}),((f=t.checks)==null?void 0:f.environment)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.environment")}),d.jsx("span",{className:`status-badge status-${t.checks.environment.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.environment.status==="ok"?e("healthCheck.configured"):e("healthCheck.error")})]})]}),d.jsxs("div",{style:{textAlign:"center",color:"var(--graphite-500)",fontSize:"0.875rem",fontStyle:"italic",paddingTop:"var(--space-4)",borderTop:"1px solid var(--graphite-200)"},children:[e("system.lastChecked"),new Date(t.timestamp).toLocaleString()]})]})]})},mx=()=>{const{currentLanguage:e,changeLanguage:t}=ZS(),n=[{code:"en",name:"English",flag:"🇺🇸"},{code:"es",name:"Español",flag:"🇪🇸"}];return d.jsx("div",{className:"language-selector",children:d.jsx("select",{value:e,onChange:r=>t(r.target.value),className:"language-select",children:n.map(r=>d.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})})},_t=()=>{const e=hn(),{user:t,signOut:n,isAdmin:r,isCleaner:s}=ge(),{t:i}=ae(),o=async()=>{try{await n()}catch(a){console.error("Sign out error:",a)}};return d.jsx("nav",{className:"navigation",children:d.jsxs("div",{className:"nav-content",children:[d.jsx(rt,{to:"/",className:"nav-brand",children:i("navigation.brand")}),d.jsxs("div",{className:"nav-links",children:[d.jsx(rt,{to:"/",className:`nav-link ${e.pathname==="/"?"active":""}`,children:i("navigation.dashboard")}),r&&d.jsx(rt,{to:"/healthcheck",className:`nav-link ${e.pathname==="/healthcheck"?"active":""}`,children:i("navigation.healthCheck")}),r&&d.jsx(rt,{to:"/listings",className:`nav-link ${e.pathname==="/listings"?"active":""}`,children:i("navigation.listings")}),r&&d.jsxs(d.Fragment,{children:[d.jsx(rt,{to:"/admin",className:`nav-link ${e.pathname==="/admin"?"active":""}`,children:i("navigation.reservations")}),d.jsx(rt,{to:"/admin/tasks",className:`nav-link ${e.pathname==="/admin/tasks"?"active":""}`,children:i("navigation.tasks")}),d.jsx(rt,{to:"/admin/todos",className:`nav-link ${e.pathname==="/admin/todos"?"active":""}`,children:i("navigation.todos")})]}),s&&d.jsx(rt,{to:"/cleaner/tasks",className:`nav-link ${e.pathname==="/cleaner/tasks"?"active":""}`,children:i("navigation.myTasks")})]}),d.jsxs("div",{className:"nav-user",children:[d.jsx("span",{className:"user-email",children:t==null?void 0:t.email}),r&&d.jsx("span",{className:"admin-badge",children:i("navigation.adminBadge")}),s&&d.jsx("span",{className:"cleaner-badge",children:i("navigation.cleanerBadge")}),d.jsx(mx,{}),d.jsx("button",{onClick:o,className:"signout-btn",children:i("navigation.signOut")})]})]})})},vx=()=>{const{t:e}=ae(),[t,n]=S.useState(!0),[r,s]=S.useState(null),i=Nu(),{supabase:o}=ge();return S.useEffect(()=>{(async()=>{try{console.log("Handling auth callbackz..."),console.log("URL:",window.location.href);const l=new URLSearchParams(window.location.hash.substring(1));if(l.has("access_token")||l.has("error")){console.log("Auth parameters found in URL, processing...");const{data:c,error:f}=await o.auth.getSession();if(f){console.error("Auth callback error:",f),s(f.message),n(!1);return}c.session?(console.log("Auth successful, redirecting to home..."),i("/",{replace:!0})):(console.log("Session not ready, waiting..."),setTimeout(()=>{i("/",{replace:!0})},1e3))}else{console.log("No auth parameters, checking existing session...");const{data:c,error:f}=await o.auth.getSession();if(f){console.error("Auth callback error:",f),s(f.message),n(!1);return}c.session?(console.log("Existing session found, redirecting to home..."),i("/",{replace:!0})):(console.log("No session found, redirecting to login..."),i("/",{replace:!0}))}}catch(l){console.error("Unexpected error in auth callback:",l),s(e("auth.unexpectedError")),n(!1)}})()},[o,i,e]),t?d.jsx("div",{className:"container",children:d.jsx("div",{className:"card",children:d.jsxs("div",{className:"loading",children:[d.jsx("h2",{children:e("auth.authenticating")}),d.jsx("p",{children:e("auth.pleaseWait")})]})})}):r?d.jsx("div",{className:"container",children:d.jsx("div",{className:"card",children:d.jsxs("div",{className:"error",children:[d.jsx("h2",{children:e("auth.authenticationError")}),d.jsx("p",{children:r}),d.jsx("button",{onClick:()=>i("/",{replace:!0}),children:e("auth.returnToLogin")})]})})}):null},yx=()=>{const{t:e}=ae();return d.jsxs("div",{className:"content-container",children:[d.jsxs("div",{className:"page-header",children:[d.jsx("h1",{className:"page-title",children:e("dashboard.title")}),d.jsx("p",{className:"page-subtitle",children:e("dashboard.welcome")})]}),d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-state-icon",children:"🏠"}),d.jsx("h2",{className:"empty-state-title",children:e("dashboard.comingSoon")}),d.jsx("p",{className:"empty-state-description",children:e("dashboard.comingSoonDescription")})]})]})},V=e=>typeof e=="string",Ur=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},Pd=e=>e==null?"":""+e,wx=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Sx=/###/g,Td=e=>e&&e.indexOf("###")>-1?e.replace(Sx,"."):e,Nd=e=>!e||V(e),ss=(e,t,n)=>{const r=V(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(Nd(e))return{};const i=Td(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return Nd(e)?{}:{obj:e,k:Td(r[s])}},bd=(e,t,n)=>{const{obj:r,k:s}=ss(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),a=ss(e,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=ss(e,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},_x=(e,t,n,r)=>{const{obj:s,k:i}=ss(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Qi=(e,t)=>{const{obj:n,k:r}=ss(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},xx=(e,t,n)=>{const r=Qi(e,n);return r!==void 0?r:Qi(t,n)},gp=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?V(e[r])||e[r]instanceof String||V(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):gp(e[r],t[r],n):e[r]=t[r]);return e},Bn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var kx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Cx=e=>V(e)?e.replace(/[&<>"'\/]/g,t=>kx[t]):e;class Ex{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const jx=[" ",",","?","!",";"],Rx=new Ex(20),Px=(e,t,n)=>{t=t||"",n=n||"";const r=jx.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=Rx.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},Ol=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Cs=e=>e==null?void 0:e.replace("_","-"),Tx={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Yi{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Tx,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(V(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Yi(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Yi(this.logger,t)}}var gt=new Yi;class jo{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[t,...n])})}}class Ld extends jo{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var u,c;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):V(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Qi(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!V(r)?l:Ol((c=(u=this.data)==null?void 0:u[t])==null?void 0:c[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),s=n,n=a[1]),this.addNamespaces(n),bd(this.data,a,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(V(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Qi(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?gp(l,r,i):l={...l,...r},bd(this.data,a,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var pp={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,n,r,s))??t}),t}};const $d={},Od=e=>!V(e)&&typeof e!="boolean"&&typeof e!="number";class Xi extends jo{constructor(t,n={}){super(),wx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Px(t,r,s);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:V(i)?[i]:i};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(s)}return{key:t,namespaces:V(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],s),u=l[l.length-1];let c=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const f=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return g?i?{res:`${u}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${c}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const h=this.resolve(t,s);let p=h==null?void 0:h.res;const w=(h==null?void 0:h.usedKey)||a,k=(h==null?void 0:h.exactUsedKey)||a,v=["[object Number]","[object Function]","[object RegExp]"],m=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!V(s.count),_=Xi.hasDefaultValue(s),E=x?this.pluralResolver.getSuffix(f,s.count,s):"",C=s.ordinal&&x?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",R=x&&!s.ordinal&&s.count===0,P=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${C}`]||s.defaultValue;let j=p;y&&!p&&_&&(j=P);const L=Od(j),A=Object.prototype.toString.apply(j);if(y&&j&&L&&v.indexOf(A)<0&&!(V(m)&&Array.isArray(j))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,j,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=b,h.usedParams=this.getUsedParamsDetails(s),h):b}if(o){const b=Array.isArray(j),I=b?[]:{},Ee=b?k:w;for(const F in j)if(Object.prototype.hasOwnProperty.call(j,F)){const H=`${Ee}${o}${F}`;_&&!p?I[F]=this.translate(H,{...s,defaultValue:Od(P)?P[F]:void 0,joinArrays:!1,ns:l}):I[F]=this.translate(H,{...s,joinArrays:!1,ns:l}),I[F]===H&&(I[F]=j[F])}p=I}}else if(y&&V(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,t,s,r));else{let b=!1,I=!1;!this.isValidLookup(p)&&_&&(b=!0,p=P),this.isValidLookup(p)||(I=!0,p=a);const F=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:p,H=_&&P!==p&&this.options.updateMissing;if(I||b||H){if(this.logger.log(H?"updateKey":"missingKey",f,u,a,H?P:p),o){const z=this.resolve(a,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let z=0;z<D.length;z++)T.push(D[z]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(s.lng||this.language):T.push(s.lng||this.language);const $=(z,K,He)=>{var Ft;const Xe=_&&He!==p?He:F;this.options.missingKeyHandler?this.options.missingKeyHandler(z,u,K,Xe,H,s):(Ft=this.backendConnector)!=null&&Ft.saveMissing&&this.backendConnector.saveMissing(z,u,K,Xe,H,s),this.emit("missingKey",z,u,K,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?T.forEach(z=>{const K=this.pluralResolver.getSuffixes(z,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(He=>{$([z],a+He,s[`defaultValue${He}`]||P)})}):$(T,a,P))}p=this.extendTranslation(p,t,s,h,r),I&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${u}${c}${a}`),(I||b)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${a}`:a,b?p:void 0,s))}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(s),h):p}extendTranslation(t,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=V(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const h=t.match(this.interpolator.nestingRegexp);f=h&&h.length}let g=r.replace&&!V(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,r.lng||this.language||s.usedLng,r),c){const h=t.match(this.interpolator.nestingRegexp),p=h&&h.length;f<p&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...h)=>(i==null?void 0:i[0])===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=V(o)?[o]:o;return t!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(t=pp.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,o,a;return V(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=n.count!==void 0&&!V(n.count),h=g&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(V(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(k=>{var v,m;this.isValidLookup(r)||(a=k,!$d[`${w[0]}-${k}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(a))&&($d[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(y=>{var E;if(this.isValidLookup(r))return;o=y;const x=[c];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,y,k,n);else{let C;g&&(C=this.pluralResolver.getSuffix(y,n.count,n));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(n.ordinal&&C.indexOf(P)===0&&x.push(c+C.replace(P,this.options.pluralSeparator)),x.push(c+C),h&&x.push(c+R)),p){const j=`${c}${this.options.contextSeparator||"_"}${n.context}`;x.push(j),g&&(n.ordinal&&C.indexOf(P)===0&&x.push(j+C.replace(P,this.options.pluralSeparator)),x.push(j+C),h&&x.push(j+R))}}let _;for(;_=x.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(y,k,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!V(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class Ad{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gt.create("languageUtils")}getScriptPartFromCode(t){if(t=Cs(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Cs(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(V(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),V(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return V(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):V(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Id={zero:0,one:1,two:2,few:3,many:4,other:5},Dd={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Nx{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=gt.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Cs(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Dd;if(!t.match(/-|_/))return Dd;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Id[s]-Id[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Fd=(e,t,n,r=".",s=!0)=>{let i=xx(e,t,n);return!i&&s&&V(n)&&(i=Ol(e,n,r),i===void 0&&(i=Ol(t,n,r))),i},wa=e=>e.replace(/\$/g,"$$$$");class bx{constructor(t={}){var n;this.logger=gt.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:v,alwaysFormat:m}=t.interpolation;this.escape=n!==void 0?n:Cx,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Bn(i):o||"{{",this.suffix=a?Bn(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=g?Bn(g):h||Bn("$t("),this.nestingSuffix=p?Bn(p):w||Bn(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=v||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var h;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Fd(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...n,interpolationkey:p}):m}const w=p.split(this.formatSeparator),k=w.shift().trim(),v=w.join(this.formatSeparator).trim();return this.format(Fd(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...s,...n,interpolationkey:k})};this.resetRegExp();const c=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>wa(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?wa(this.escape(p)):wa(p)}].forEach(p=>{for(a=0;i=p.regex.exec(t);){const w=i[1].trim();if(o=u(w),o===void 0)if(typeof c=="function"){const v=c(t,i,s);o=V(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),o="";else!V(o)&&!this.useRawValueToEscape&&(o=Pd(o));const k=p.safeValue(o);if(t=t.replace(i[0],k),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let g=`{${f[1]}`;l=f[0],g=this.interpolate(g,o);const h=g.match(/'/g),p=g.match(/"/g);(((h==null?void 0:h.length)??0)%2===0&&!p||p.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!V(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===t&&!V(i))return i;V(i)||(i=Pd(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),l.length&&(i=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const Lx=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Md=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(Cs(r),s),t[o]=a),a(n)}},$x=e=>(t,n,r)=>e(Cs(n),r)(t);class Ox{constructor(t={}){this.logger=gt.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Md:$x;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Md(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var f;const{formatName:u,formatOptions:c}=Lx(l);if(this.formats[u]){let g=a;try{const h=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},p=h.locale||h.lng||s.locale||s.lng||r;g=this.formats[u](a,p,{...c,...s,...h})}catch(h){this.logger.warn(h)}return g}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const Ax=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Ix extends jo{constructor(t,n,r,s={}){var i,o;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=gt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(t,n,r,s){const i={},o={},a={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const g=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,c=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const s=t.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{_x(l.loaded,[i],o),Ax(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,s=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,o)},i);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();V(t)&&(t=this.languageUtils.toResolveHierarchy(t)),V(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,s,i,o={},a=()=>{}){var l,u,c,f,g;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const h={...o,isUpdate:i},p=this.backend.create.bind(this.backend);if(p.length<6)try{let w;p.length===5?w=p(t,n,r,s,h):w=p(t,n,r,s),w&&typeof w.then=="function"?w.then(k=>a(null,k)).catch(a):a(null,w)}catch(w){a(w)}else p(t,n,r,s,a,h)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const Ud=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),V(e[1])&&(t.defaultValue=e[1]),V(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zd=e=>{var t,n;return V(e.ns)&&(e.ns=[e.ns]),V(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),V(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},li=()=>{},Dx=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Es extends jo{constructor(t={},n){if(super(),this.options=zd(t),this.services={},this.logger=gt,this.modules={external:[]},Dx(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(V(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Ud();this.options={...r,...this.options,...zd(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?gt.init(s(this.modules.logger),this.options):gt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Ox;const c=new Ad(this.options);this.store=new Ld(this.options.resources,this.options);const f=this.services;f.logger=gt,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new Nx(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new bx(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Ix(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Xi(this.services,this.options),this.translator.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=li),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const a=Ur(),l=()=>{const u=(c,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(c,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(t,n=li){var i,o;let r=n;const s=V(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const s=Ur();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=li),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&pp.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Ur();this.emit("languageChanging",t);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===t&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var c,f;!t&&!a&&this.services.languageDetector&&(a=[]);const l=V(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(V(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,g=>{i(g,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(f=>`${l.keyPrefix}${u}${f}`):c=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(c,l)};return V(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,n){const r=Ur();return this.options.ns?(V(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ur();V(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){var s,i;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Ad(Ud());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Es(t,n)}cloneInstance(t={},n=li){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new Es(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),l[u]),l),{});i.store=new Ld(a,s),i.services.resourceStore=i.store}return i.translator=new Xi(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ce=Es.createInstance();Ce.createInstance=Es.createInstance;Ce.createInstance;Ce.dir;Ce.init;Ce.loadResources;Ce.reloadResources;Ce.use;Ce.changeLanguage;Ce.getFixedT;Ce.t;Ce.exists;Ce.setDefaultNamespace;Ce.hasLoadedNamespace;Ce.loadNamespaces;Ce.loadLanguages;const{slice:Fx,forEach:Mx}=[];function Ux(e){return Mx.call(Fx.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function zx(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const Vd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Vx=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let i=`${e}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Vd.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Vd.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Bd={create(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=Vx(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Bx={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Bd.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&typeof document<"u"&&Bd.create(n,e,r,s,i)}},Hx={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===t&&(n=o[a].substring(l+1))}}return n}},Gx={name:"hash",lookup(e){var s;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(t){const a=o.split("&");for(let l=0;l<a.length;l++){const u=a[l].indexOf("=");u>0&&a[l].substring(0,u)===t&&(r=a[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(s=a[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let Hn=null;const Hd=()=>{if(Hn!==null)return Hn;try{if(Hn=typeof window<"u"&&window.localStorage!==null,!Hn)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Hn=!1}return Hn};var qx={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Hd())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Hd()&&window.localStorage.setItem(n,e)}};let Gn=null;const Gd=()=>{if(Gn!==null)return Gn;try{if(Gn=typeof window<"u"&&window.sessionStorage!==null,!Gn)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Gn=!1}return Gn};var Kx={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Gd())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Gd()&&window.sessionStorage.setItem(n,e)}},Wx={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),s&&t.push(s)}return t.length>0?t:void 0}},Jx={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Qx={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},Yx={name:"subdomain",lookup(e){var s,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let mp=!1;try{document.cookie,mp=!0}catch{}const vp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];mp||vp.splice(1,1);const Xx=()=>({order:vp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class yp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Ux(n,this.options||{},Xx()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Bx),this.addDetector(Hx),this.addDetector(qx),this.addDetector(Kx),this.addDetector(Wx),this.addDetector(Jx),this.addDetector(Qx),this.addDetector(Yx),this.addDetector(Gx)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!zx(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}yp.type="languageDetector";const Zx={brand:"Sonsoles Stays",dashboard:"Dashboard",healthCheck:"Health Check",listings:"Listings",reservations:"Reservations",tasks:"Tasks",todos:"TODOs",myTasks:"My Tasks",adminBadge:"Admin",cleanerBadge:"Cleaner",signOut:"Sign Out"},ek={welcome:"Welcome to Sonsoles Stays!",signInDescription:"Please sign in to access your stay management system.",signingIn:"Signing in...",signInWithGoogle:"Sign in with Google",authenticating:"🔐 Authenticating...",pleaseWait:"Please wait while we complete your sign-in.",authenticationError:"❌ Authentication Error",returnToLogin:"Return to Login",unexpectedError:"An unexpected error occurred during authentication.",noAccessToken:"No access token available",authenticationFailed:"Authentication failed. Please sign in again."},tk={title:"Dashboard",welcome:"Welcome to your stay management system",comingSoon:"Dashboard Coming Soon",comingSoonDescription:"Your main dashboard will be available here."},nk={management:"Task Management",myTasks:"My Tasks",totalTasks:"Total Tasks: {{count}}",loading:"Loading...",loginRequired:"Please log in to view your tasks.",details:"Task Details",information:"Task Information",actions:"Actions",acceptTask:"Accept Task",startTask:"Start Task",completeTask:"Complete Task",acceptCompletion:"Accept Completion",acceptedByAdmin:"Accepted by Admin",noFurtherEdits:"No further edits allowed",loadingDetails:"Loading task details...",errorLoading:"Error Loading Task",goBack:"Go Back",notFound:"Task Not Found",notFoundDescription:"The requested task could not be found.",back:"Back",notSet:"Not set"},rk={searchPlaceholder:"Search all columns...",showingEntries:"Showing {{start}} to {{end}} of {{total}} entries",showingCount:"Showing {{count}} of {{total}} entries",noData:"No Data Found",noResults:"No results match your search criteria.",noDataAvailable:"No data available.",pageInfo:"Page {{current}} of {{total}}",showSize:"Show {{size}}",loadingData:"Loading data...",failedToLoad:"Failed to Load Data"},sk={id:"ID",title:"Title",task:"Task",type:"Type",status:"Status",description:"Description",listing:"Listing",reservation:"Reservation",scheduled:"Scheduled",assignedTo:"Assigned To",assignedAt:"Assigned At",acceptedAt:"Accepted At",completedAt:"Completed At",created:"Created",na:"N/A",view:"View",accept:"Accept",start:"Start",complete:"Complete",cancel:"Cancel",edit:"Edit",save:"Save"},ik={unassigned:"Unassigned",assigned:"Assigned",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",admin_accepted:"Admin Accepted"},ok={guest:"Guest",property:"Property",checkIn:"Check-in",checkOut:"Check-out",nights:"Nights",guests:"Guests",total:"Total",hostPayout:"Host Payout"},ak={checkingAccess:"Checking admin access...",authenticationRequired:"Authentication Required",signInToAccess:"Please sign in to access this page.",adminAccessRequired:"Admin Access Required",noAdminPrivileges:"You do not have admin privileges to access this page."},lk={unassigned:"Unassigned",loading:"Loading...",unknown:"Unknown"},uk={loading:"Loading..."},ck={history:"Audit History",entries:"entries",loading:"Loading audit history...",noHistory:"No audit history available for this task.",by:"by",noDescription:"No description available",fieldsChanged:"Fields changed",valuesChanged:"Values changed",context:"Context",system:"System",unknownUser:"Unknown User"},dk={title:"System Health Check",monitoring:"Monitoring system status and connectivity",failed:"Health Check Failed",loading:"Loading health status...",reloadPage:"Reload Page",healthy:"Healthy",error:"Error",connected:"Connected",configured:"Configured"},fk={allTodos:"All TODOs",totalTodos:"Total TODOs: {{count}}",loadingTodos:"Loading TODOs...",filterByStatus:"Filter by Status:",all:"All",pending:"Pending",done:"Done",createGeneral:"Create General TODO",createNew:"Create New TODO",adminAccessRequired:"Admin access required to view all TODOs.",attachedTo:"Attached To",unattached:"Unattached",delete:"Delete",deleteConfirm:"Are you sure you want to delete this TODO?",creating:"Creating...",addNote:"Add Note",adding:"Adding...",noListingAssignment:"No listing assignment",description:"Description",failedToLoad:"Failed to load listings",addTodo:"Add TODO",noTodosFound:"No TODOs found.",createdLabel:"Created: ",completedLabel:"Completed: ",attachedToLabel:"Attached to: ",productsNeeded:"Products needed:",markAsDone:"Mark as done",title:"Title *",titlePlaceholder:"e.g., Fix the AC, Buy cleaning supplies",assignToListing:"Assign to Listing (Optional)",loadingListings:"Loading listings...",products:"Products (Optional)",searchProductsPlaceholder:"Search for products to add...",selectedProducts:"Selected Products:",remove:"Remove",detailsPlaceholder:"Additional details or notes...",cancel:"Cancel"},hk={title:"Listings",details:"Listing Details",totalListings:"Total listings: {{count}}",loadingListings:"Loading listings...",loadingDetails:"Loading listing details...",address:"Address",basicInformation:"Basic Information",dates:"Dates",amenities:"Amenities",listingTodos:"Listing TODOs",listingChat:"Listing Chat",notFound:"Listing not found",notFoundWithId:'The listing with ID "{{id}}" was not found.',failedToLoad:"Failed to load listing",listingId:"Listing ID",airbnbId:"Airbnb ID",propertyType:"Property Type",roomType:"Room Type",bedrooms:"Bedrooms",bathrooms:"Bathrooms",maxGuests:"Max Guests",created:"Created",updated:"Updated"},gk={accessRequired:"Access Required"},pk={title:"Notes",unknownUser:"Unknown User",send:"Send",sending:"...",deleteNote:"Delete note",deleteConfirm:"Are you sure you want to delete this note?",loadingNotes:"Loading notes...",noNotesYet:"No notes yet. Start the conversation!",attachedToLabel:"Attached to: ",typePlaceholder:"Type a note... (Press Enter to send, Shift+Enter for new line)",noteLabel:"Note:",notePlaceholder:"Enter your note...",errorOccurred:"An error occurred"},mk={noAddress:"No address"},vk={collapseAudit:"Collapse audit history",expandAudit:"Expand audit history",titleLabel:"Title:",statusLabel:"Status:",scheduledLabel:"Scheduled Date:",listingIdLabel:"Listing ID:",assignedToLabel:"Assigned To:",startedAtLabel:"Started At:",finishedAtLabel:"Finished At:",productHelper:"Product Replenishment Helper",taskTab:"Task",listingTab:"Listing"},yk={overallStatus:"Overall Status:",authenticatedUser:"Authenticated User:",database:"Database:",version:"Version: ",supabaseApi:"Supabase API:",environment:"Environment:",lastChecked:"Last checked: ",systemLabel:"System",null:"null"},wk={english:"English",spanish:"Español"},Sk={navigation:Zx,auth:ek,dashboard:tk,tasks:nk,dataTable:rk,columns:sk,statuses:ik,reservations:ok,admin:ak,assignment:lk,common:uk,audit:ck,healthCheck:dk,todos:fk,listings:hk,cleaner:gk,notes:pk,forms:mk,taskDetail:vk,system:yk,language:wk},_k={brand:"Sonsoles Stays",dashboard:"Panel de Control",healthCheck:"Verificación de Estado",listings:"Propiedades",reservations:"Reservas",tasks:"Tareas",todos:"Tareas Pendientes",myTasks:"Mis Tareas",adminBadge:"Administrador",cleanerBadge:"Limpiador",signOut:"Cerrar Sesión"},xk={welcome:"Bienvenido a Sonsoles Stays",signInDescription:"Por favor, inicia sesión para acceder a tu sistema de gestión de estancias.",signingIn:"Iniciando sesión...",signInWithGoogle:"Iniciar sesión con Google",authenticating:"🔐 Autenticando...",pleaseWait:"Por favor, espera mientras completamos tu inicio de sesión.",authenticationError:"❌ Error de Autenticación",returnToLogin:"Volver al Inicio de Sesión",unexpectedError:"Ocurrió un error inesperado durante la autenticación.",noAccessToken:"No hay token de acceso disponible",authenticationFailed:"La autenticación falló. Por favor, inicia sesión nuevamente."},kk={title:"Panel de Control",welcome:"Bienvenido a tu sistema de gestión de estancias",comingSoon:"Panel de Control Próximamente",comingSoonDescription:"Tu panel de control principal estará disponible aquí."},Ck={management:"Gestión de Tareas",myTasks:"Mis Tareas",totalTasks:"Total de Tareas: {{count}}",loading:"Cargando...",loginRequired:"Por favor, inicia sesión para ver tus tareas.",details:"Detalles de la Tarea",information:"Información de la Tarea",actions:"Acciones",acceptTask:"Aceptar Tarea",startTask:"Iniciar Tarea",completeTask:"Completar Tarea",acceptCompletion:"Aceptar Finalización",acceptedByAdmin:"Aceptado por Administrador",noFurtherEdits:"No se permiten más ediciones",loadingDetails:"Cargando detalles de la tarea...",errorLoading:"Error al Cargar la Tarea",goBack:"Volver",notFound:"Tarea No Encontrada",notFoundDescription:"La tarea solicitada no pudo ser encontrada.",back:"Atrás",notSet:"No establecido"},Ek={searchPlaceholder:"Buscar en todas las columnas...",showingEntries:"Mostrando {{start}} a {{end}} de {{total}} entradas",showingCount:"Mostrando {{count}} de {{total}} entradas",noData:"No Se Encontraron Datos",noResults:"No hay resultados que coincidan con tus criterios de búsqueda.",noDataAvailable:"No hay datos disponibles.",pageInfo:"Página {{current}} de {{total}}",showSize:"Mostrar {{size}}",loadingData:"Cargando datos...",failedToLoad:"Error al Cargar Datos"},jk={id:"ID",title:"Título",task:"Tarea",type:"Tipo",status:"Estado",description:"Descripción",listing:"Propiedad",reservation:"Reserva",scheduled:"Programado",assignedTo:"Asignado A",assignedAt:"Asignado En",acceptedAt:"Aceptado En",completedAt:"Completado En",created:"Creado",na:"N/A",view:"Ver",accept:"Aceptar",start:"Iniciar",complete:"Completar",cancel:"Cancelar",edit:"Editar",save:"Guardar"},Rk={unassigned:"Sin Asignar",assigned:"Asignada",accepted:"Aceptada",in_progress:"En Progreso",completed:"Completada",admin_accepted:"Aceptada por Administrador"},Pk={guest:"Huésped",property:"Propiedad",checkIn:"Llegada",checkOut:"Salida",nights:"Noches",guests:"Huéspedes",total:"Total",hostPayout:"Pago al Anfitrión"},Tk={checkingAccess:"Verificando acceso de administrador...",authenticationRequired:"Autenticación Requerida",signInToAccess:"Por favor, inicia sesión para acceder a esta página.",adminAccessRequired:"Acceso de Administrador Requerido",noAdminPrivileges:"No tienes privilegios de administrador para acceder a esta página."},Nk={unassigned:"Sin Asignar",loading:"Cargando...",unknown:"Desconocido"},bk={loading:"Cargando..."},Lk={history:"Historial de Auditoría",entries:"entradas",loading:"Cargando historial de auditoría...",noHistory:"No hay historial de auditoría disponible para esta tarea.",by:"por",noDescription:"No hay descripción disponible",fieldsChanged:"Campos modificados",valuesChanged:"Valores modificados",context:"Contexto",system:"Sistema",unknownUser:"Usuario Desconocido"},$k={title:"Verificación de Estado del Sistema",monitoring:"Monitoreando estado del sistema y conectividad",failed:"Verificación de Estado Falló",loading:"Cargando estado de salud...",reloadPage:"Recargar Página",healthy:"Saludable",error:"Error",connected:"Conectado",configured:"Configurado"},Ok={allTodos:"Todas las Tareas",totalTodos:"Total de Tareas: {{count}}",loadingTodos:"Cargando tareas...",filterByStatus:"Filtrar por Estado:",all:"Todas",pending:"Pendientes",done:"Completadas",createGeneral:"Crear Tarea General",createNew:"Crear Nueva Tarea",adminAccessRequired:"Se requiere acceso de administrador para ver todas las tareas.",attachedTo:"Adjuntado A",unattached:"Sin Adjuntar",delete:"Eliminar",deleteConfirm:"¿Estás seguro de que quieres eliminar esta tarea?",creating:"Creando...",addNote:"Agregar Nota",adding:"Agregando...",noListingAssignment:"Sin asignación de propiedad",description:"Descripción",failedToLoad:"Error al cargar propiedades",addTodo:"Agregar Tarea",noTodosFound:"No se encontraron tareas.",createdLabel:"Creado: ",completedLabel:"Completado: ",attachedToLabel:"Adjuntado a: ",productsNeeded:"Productos necesarios:",markAsDone:"Marcar como completado",title:"Título *",titlePlaceholder:"ej., Arreglar el aire acondicionado, Comprar suministros de limpieza",assignToListing:"Asignar a Propiedad (Opcional)",loadingListings:"Cargando propiedades...",products:"Productos (Opcional)",searchProductsPlaceholder:"Buscar productos para agregar...",selectedProducts:"Productos Seleccionados:",remove:"Quitar",detailsPlaceholder:"Detalles adicionales o notas...",cancel:"Cancelar"},Ak={title:"Propiedades",details:"Detalles de la Propiedad",totalListings:"Total de propiedades: {{count}}",loadingListings:"Cargando propiedades...",loadingDetails:"Cargando detalles de la propiedad...",address:"Dirección",basicInformation:"Información Básica",dates:"Fechas",amenities:"Amenidades",listingTodos:"Tareas de la Propiedad",listingChat:"Chat de la Propiedad",notFound:"Propiedad no encontrada",notFoundWithId:'La propiedad con ID "{{id}}" no fue encontrada.',failedToLoad:"Error al cargar propiedad",listingId:"ID de Propiedad",airbnbId:"ID de Airbnb",propertyType:"Tipo de Propiedad",roomType:"Tipo de Habitación",bedrooms:"Habitaciones",bathrooms:"Baños",maxGuests:"Máximo de Huéspedes",created:"Creado",updated:"Actualizado"},Ik={accessRequired:"Acceso Requerido"},Dk={title:"Notas",unknownUser:"Usuario Desconocido",send:"Enviar",sending:"...",deleteNote:"Eliminar nota",deleteConfirm:"¿Estás seguro de que quieres eliminar esta nota?",loadingNotes:"Cargando notas...",noNotesYet:"Aún no hay notas. ¡Comienza la conversación!",attachedToLabel:"Adjuntado a: ",typePlaceholder:"Escribe una nota... (Presiona Enter para enviar, Shift+Enter para nueva línea)",noteLabel:"Nota:",notePlaceholder:"Ingresa tu nota...",errorOccurred:"Ocurrió un error"},Fk={noAddress:"Sin dirección"},Mk={collapseAudit:"Contraer historial de auditoría",expandAudit:"Expandir historial de auditoría",titleLabel:"Título:",statusLabel:"Estado:",scheduledLabel:"Fecha Programada:",listingIdLabel:"ID de Propiedad:",assignedToLabel:"Asignado A:",startedAtLabel:"Iniciado En:",finishedAtLabel:"Finalizado En:",productHelper:"Asistente de Reposición de Productos",taskTab:"Tarea",listingTab:"Propiedad"},Uk={overallStatus:"Estado General:",authenticatedUser:"Usuario Autenticado:",database:"Base de Datos:",version:"Versión: ",supabaseApi:"API de Supabase:",environment:"Entorno:",lastChecked:"Última verificación: ",systemLabel:"Sistema",null:"nulo"},zk={english:"English",spanish:"Español"},Vk={navigation:_k,auth:xk,dashboard:kk,tasks:Ck,dataTable:Ek,columns:jk,statuses:Rk,reservations:Pk,admin:Tk,assignment:Nk,common:bk,audit:Lk,healthCheck:$k,todos:Ok,listings:Ak,cleaner:Ik,notes:Dk,forms:Fk,taskDetail:Mk,system:Uk,language:zk},Bk={en:{translation:Sk},es:{translation:Vk}};Ce.use(yp).use(KS).init({resources:Bk,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"preferred-language",caches:["localStorage"]},supportedLngs:["en","es"],lng:"en",ns:["translation"],defaultNS:"translation"});function Hk(){return d.jsx("div",{className:"app",children:d.jsx(XS,{children:d.jsx(AS,{children:d.jsx(aw,{children:d.jsxs(Fy,{children:[d.jsx(et,{path:"/auth/callback",element:d.jsx(vx,{})}),d.jsx(et,{path:"/",element:d.jsx(ua,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx(yx,{})})]})})}),d.jsx(et,{path:"/healthcheck",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(px,{})})})]})})}),d.jsx(et,{path:"/admin",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(X_,{})})})]})})}),d.jsx(et,{path:"/admin/tasks",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(ix,{})})})]})})}),d.jsx(et,{path:"/admin/todos",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(lx,{})})})]})})}),d.jsx(et,{path:"/listings",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(ux,{})})})]})})}),d.jsx(et,{path:"/cleaner/tasks",element:d.jsx(ua,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(cx,{})})})]})})}),d.jsx(et,{path:"/tasks/:id",element:d.jsx(ua,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(hx,{})})})]})})}),d.jsx(et,{path:"/listing/:id",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(gx,{})})})]})})})]})})})})})}const wp=document.getElementById("root");if(!wp)throw new Error("Root element not found");Sa.createRoot(wp).render(d.jsx(Hk,{}));
