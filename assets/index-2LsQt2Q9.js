var _p=Object.defineProperty;var xp=(e,t,n)=>t in e?_p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Po=(e,t,n)=>xp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Wd={exports:{}},eo={},Qd={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),Cp=Symbol.for("react.portal"),Ep=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Pp=Symbol.for("react.provider"),Tp=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),Lp=Symbol.for("react.memo"),$p=Symbol.for("react.lazy"),Gu=Symbol.iterator;function Ap(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yd=Object.assign,Xd={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=Xd,this.updater=n||Jd}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=Sr.prototype;function Il(e,t,n){this.props=e,this.context=t,this.refs=Xd,this.updater=n||Jd}var Fl=Il.prototype=new Zd;Fl.constructor=Il;Yd(Fl,Sr.prototype);Fl.isPureReactComponent=!0;var Ku=Array.isArray,ef=Object.prototype.hasOwnProperty,Dl={current:null},tf={key:!0,ref:!0,__self:!0,__source:!0};function nf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ef.call(t,r)&&!tf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rs,type:e,key:i,ref:o,props:s,_owner:Dl.current}}function Op(e,t){return{$$typeof:Rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rs}function Ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wu=/\/+/g;function To(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ip(""+e.key):t.toString(36)}function ci(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rs:case Cp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+To(o,0):r,Ku(s)?(n="",e!=null&&(n=e.replace(Wu,"$&/")+"/"),ci(s,t,n,"",function(u){return u})):s!=null&&(Ml(s)&&(s=Op(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ku(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+To(i,a);o+=ci(i,t,n,l,s)}else if(l=Ap(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+To(i,a++),o+=ci(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ms(e,t,n){if(e==null)return e;var r=[],s=0;return ci(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},di={transition:null},Dp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:di,ReactCurrentOwner:Dl};function rf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ms,forEach:function(e,t,n){Ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ms(e,function(){t++}),t},toArray:function(e){return Ms(e,function(t){return t})||[]},only:function(e){if(!Ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Sr;G.Fragment=Ep;G.Profiler=Rp;G.PureComponent=Il;G.StrictMode=jp;G.Suspense=bp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dp;G.act=rf;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ef.call(t,l)&&!tf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rs,type:e.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:Tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pp,_context:e},e.Consumer=e};G.createElement=nf;G.createFactory=function(e){var t=nf.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Np,render:e}};G.isValidElement=Ml;G.lazy=function(e){return{$$typeof:$p,_payload:{_status:-1,_result:e},_init:Fp}};G.memo=function(e,t){return{$$typeof:Lp,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=di.transition;di.transition={};try{e()}finally{di.transition=t}};G.unstable_act=rf;G.useCallback=function(e,t){return Pe.current.useCallback(e,t)};G.useContext=function(e){return Pe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Pe.current.useEffect(e,t)};G.useId=function(){return Pe.current.useId()};G.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Pe.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};G.useRef=function(e){return Pe.current.useRef(e)};G.useState=function(e){return Pe.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Pe.current.useTransition()};G.version="18.3.1";Qd.exports=G;var S=Qd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=S,Up=Symbol.for("react.element"),zp=Symbol.for("react.fragment"),Vp=Object.prototype.hasOwnProperty,Bp=Mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hp={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Vp.call(t,r)&&!Hp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Up,type:e,key:i,ref:o,props:s,_owner:Bp.current}}eo.Fragment=zp;eo.jsx=sf;eo.jsxs=sf;Wd.exports=eo;var d=Wd.exports,_a={},of={exports:{}},Ve={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,F){var $=T.length;T.push(F);e:for(;0<$;){var z=$-1>>>1,K=T[z];if(0<s(K,F))T[z]=F,T[$]=K,$=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],$=T.pop();if($!==F){T[0]=$;e:for(var z=0,K=T.length,He=K>>>1;z<He;){var Xe=2*(z+1)-1,Dt=T[Xe],St=Xe+1,On=T[St];if(0>s(Dt,$))St<K&&0>s(On,Dt)?(T[z]=On,T[St]=$,z=St):(T[z]=Dt,T[Xe]=$,z=Xe);else if(St<K&&0>s(On,$))T[z]=On,T[St]=$,z=St;else break e}}return F}function s(T,F){var $=T.sortIndex-F.sortIndex;return $!==0?$:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,g=3,h=!1,p=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=T)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function x(T){if(w=!1,y(T),!p)if(n(l)!==null)p=!0,D(_);else{var F=n(u);F!==null&&H(x,F.startTime-T)}}function _(T,F){p=!1,w&&(w=!1,v(R),R=-1),h=!0;var $=g;try{for(y(F),f=n(l);f!==null&&(!(f.expirationTime>F)||T&&!L());){var z=f.callback;if(typeof z=="function"){f.callback=null,g=f.priorityLevel;var K=z(f.expirationTime<=F);F=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),y(F)}else r(l);f=n(l)}if(f!==null)var He=!0;else{var Xe=n(u);Xe!==null&&H(x,Xe.startTime-F),He=!1}return He}finally{f=null,g=$,h=!1}}var E=!1,C=null,R=-1,P=5,j=-1;function L(){return!(e.unstable_now()-j<P)}function O(){if(C!==null){var T=e.unstable_now();j=T;var F=!0;try{F=C(!0,T)}finally{F?b():(E=!1,C=null)}}else E=!1}var b;if(typeof m=="function")b=function(){m(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=O,b=function(){Ee.postMessage(null)}}else b=function(){k(O,0)};function D(T){C=T,E||(E=!0,b())}function H(T,F){R=k(function(){T(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,D(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var $=g;g=F;try{return T()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=g;g=T;try{return F()}finally{g=$}},e.unstable_scheduleCallback=function(T,F,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,T={id:c++,callback:F,priorityLevel:T,startTime:$,expirationTime:K,sortIndex:-1},$>z?(T.sortIndex=$,t(u,T),n(l)===null&&T===n(u)&&(w?(v(R),R=-1):w=!0,H(x,$-z))):(T.sortIndex=K,t(l,T),p||h||(p=!0,D(_))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var F=g;return function(){var $=g;g=F;try{return T.apply(this,arguments)}finally{g=$}}}})(lf);af.exports=lf;var qp=af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=S,Ue=qp;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uf=new Set,is={};function Ln(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(is[e]=t,e=0;e<t.length;e++)uf.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,Kp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qu={},Ju={};function Wp(e){return xa.call(Ju,e)?!0:xa.call(Qu,e)?!1:Kp.test(e)?Ju[e]=!0:(Qu[e]=!0,!1)}function Qp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jp(e,t,n,r){if(t===null||typeof t>"u"||Qp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vl(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jp(t,n,s,r)&&(n=null),r||s===null?Wp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ft=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Us=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),ka=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),df=Symbol.for("react.context"),Hl=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),ff=Symbol.for("react.offscreen"),Yu=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,No;function zr(e){if(No===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);No=t&&t[1]||""}return`
`+No+e}var bo=!1;function Lo(e,t){if(!e||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function Yp(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=Lo(e.type,!1),e;case 11:return e=Lo(e.type.render,!1),e;case 1:return e=Lo(e.type,!0),e;default:return""}}function ja(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Wn:return"Portal";case ka:return"Profiler";case Bl:return"StrictMode";case Ca:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case cf:return(e._context.displayName||"Context")+".Provider";case Hl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return t=e.displayName||null,t!==null?t:ja(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return ja(e(t))}catch{}}return null}function Xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ja(t);case 8:return t===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zp(e){var t=hf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=Zp(e))}function gf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pf(e,t){t=t.checked,t!=null&&Vl(e,"checked",t,!1)}function Pa(e,t){pf(e,t);var n=an(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ta(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ta(e,t,n){(t!=="number"||Ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ec(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Vr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function mf(e,t){var n=an(t.value),r=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},em=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function wf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function Sf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var tm=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(e,t){if(t){if(tm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function $a(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,ar=null,lr=null;function nc(e){if(e=Ns(e)){if(typeof Oa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=io(t),Oa(e.stateNode,e.type,t))}}function _f(e){ar?lr?lr.push(e):lr=[e]:ar=e}function xf(){if(ar){var e=ar,t=lr;if(lr=ar=null,nc(e),t)for(e=0;e<t.length;e++)nc(t[e])}}function kf(e,t){return e(t)}function Cf(){}var $o=!1;function Ef(e,t,n){if($o)return e(t,n);$o=!0;try{return kf(e,t,n)}finally{$o=!1,(ar!==null||lr!==null)&&(Cf(),xf())}}function as(e,t){var n=e.stateNode;if(n===null)return null;var r=io(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Ia=!1;if(Lt)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ia=!1}function nm(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Kr=!1,Ei=null,ji=!1,Fa=null,rm={onError:function(e){Kr=!0,Ei=e}};function sm(e,t,n,r,s,i,o,a,l){Kr=!1,Ei=null,nm.apply(rm,arguments)}function im(e,t,n,r,s,i,o,a,l){if(sm.apply(this,arguments),Kr){if(Kr){var u=Ei;Kr=!1,Ei=null}else throw Error(N(198));ji||(ji=!0,Fa=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if($n(e)!==e)throw Error(N(188))}function om(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rc(s),e;if(i===r)return rc(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Rf(e){return e=om(e),e!==null?Pf(e):null}function Pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pf(e);if(t!==null)return t;e=e.sibling}return null}var Tf=Ue.unstable_scheduleCallback,sc=Ue.unstable_cancelCallback,am=Ue.unstable_shouldYield,lm=Ue.unstable_requestPaint,oe=Ue.unstable_now,um=Ue.unstable_getCurrentPriorityLevel,Kl=Ue.unstable_ImmediatePriority,Nf=Ue.unstable_UserBlockingPriority,Ri=Ue.unstable_NormalPriority,cm=Ue.unstable_LowPriority,bf=Ue.unstable_IdlePriority,to=null,pt=null;function dm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(to,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:gm,fm=Math.log,hm=Math.LN2;function gm(e){return e>>>=0,e===0?32:31-(fm(e)/hm|0)|0}var Bs=64,Hs=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Br(a):(i&=o,i!==0&&(r=Br(i)))}else o=n&~s,o!==0?r=Br(o):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function Ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function vm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Wl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function $f(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Af,Ql,Of,If,Ff,Ma=!1,qs=[],Xt=null,Zt=null,en=null,ls=new Map,us=new Map,qt=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function Nr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ns(t),t!==null&&Ql(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wm(e,t,n,r,s){switch(t){case"focusin":return Xt=Nr(Xt,e,t,n,r,s),!0;case"dragenter":return Zt=Nr(Zt,e,t,n,r,s),!0;case"mouseover":return en=Nr(en,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ls.set(i,Nr(ls.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,Nr(us.get(i)||null,e,t,n,r,s)),!0}return!1}function Df(e){var t=_n(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=jf(n),t!==null){e.blockedOn=t,Ff(e.priority,function(){Of(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ua(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Aa=r,n.target.dispatchEvent(r),Aa=null}else return t=Ns(n),t!==null&&Ql(t),e.blockedOn=n,!1;t.shift()}return!0}function oc(e,t,n){fi(e)&&n.delete(t)}function Sm(){Ma=!1,Xt!==null&&fi(Xt)&&(Xt=null),Zt!==null&&fi(Zt)&&(Zt=null),en!==null&&fi(en)&&(en=null),ls.forEach(oc),us.forEach(oc)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Sm)))}function cs(e){function t(s){return br(s,e)}if(0<qs.length){br(qs[0],e);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xt!==null&&br(Xt,e),Zt!==null&&br(Zt,e),en!==null&&br(en,e),ls.forEach(t),us.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Df(n),n.blockedOn===null&&qt.shift()}var ur=Ft.ReactCurrentBatchConfig,Ti=!0;function _m(e,t,n,r){var s=Q,i=ur.transition;ur.transition=null;try{Q=1,Jl(e,t,n,r)}finally{Q=s,ur.transition=i}}function xm(e,t,n,r){var s=Q,i=ur.transition;ur.transition=null;try{Q=4,Jl(e,t,n,r)}finally{Q=s,ur.transition=i}}function Jl(e,t,n,r){if(Ti){var s=Ua(e,t,n,r);if(s===null)Ho(e,t,r,Ni,n),ic(e,r);else if(wm(s,e,t,n,r))r.stopPropagation();else if(ic(e,r),t&4&&-1<ym.indexOf(e)){for(;s!==null;){var i=Ns(s);if(i!==null&&Af(i),i=Ua(e,t,n,r),i===null&&Ho(e,t,r,Ni,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ho(e,t,r,null,n)}}var Ni=null;function Ua(e,t,n,r){if(Ni=null,e=Gl(r),e=_n(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ni=e,null}function Mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(um()){case Kl:return 1;case Nf:return 4;case Ri:case cm:return 16;case bf:return 536870912;default:return 16}default:return 16}}var Wt=null,Yl=null,hi=null;function Uf(){if(hi)return hi;var e,t=Yl,n=t.length,r,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return hi=s.slice(e,1<r?1-r:void 0)}function gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function ac(){return!1}function Be(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gs:ac,this.isPropagationStopped=ac,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Be(_r),Ts=se({},_r,{view:0,detail:0}),km=Be(Ts),Oo,Io,Lr,no=se({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(Oo=e.screenX-Lr.screenX,Io=e.screenY-Lr.screenY):Io=Oo=0,Lr=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),lc=Be(no),Cm=se({},no,{dataTransfer:0}),Em=Be(Cm),jm=se({},Ts,{relatedTarget:0}),Fo=Be(jm),Rm=se({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=Be(Rm),Tm=se({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nm=Be(Tm),bm=se({},_r,{data:0}),uc=Be(bm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function Zl(){return Om}var Im=se({},Ts,{key:function(e){if(e.key){var t=Lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=Be(Im),Dm=se({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=Be(Dm),Mm=se({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Um=Be(Mm),zm=se({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vm=Be(zm),Bm=se({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=Be(Bm),qm=[9,13,27,32],eu=Lt&&"CompositionEvent"in window,Wr=null;Lt&&"documentMode"in document&&(Wr=document.documentMode);var Gm=Lt&&"TextEvent"in window&&!Wr,zf=Lt&&(!eu||Wr&&8<Wr&&11>=Wr),dc=" ",fc=!1;function Vf(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function Km(e,t){switch(e){case"compositionend":return Bf(t);case"keypress":return t.which!==32?null:(fc=!0,dc);case"textInput":return e=t.data,e===dc&&fc?null:e;default:return null}}function Wm(e,t){if(Jn)return e==="compositionend"||!eu&&Vf(e,t)?(e=Uf(),hi=Yl=Wt=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var Qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qm[e.type]:t==="textarea"}function Hf(e,t,n,r){_f(r),t=bi(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qr=null,ds=null;function Jm(e){th(e,0)}function ro(e){var t=Zn(e);if(gf(t))return e}function Ym(e,t){if(e==="change")return t}var qf=!1;if(Lt){var Do;if(Lt){var Mo="oninput"in document;if(!Mo){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),Mo=typeof gc.oninput=="function"}Do=Mo}else Do=!1;qf=Do&&(!document.documentMode||9<document.documentMode)}function pc(){Qr&&(Qr.detachEvent("onpropertychange",Gf),ds=Qr=null)}function Gf(e){if(e.propertyName==="value"&&ro(ds)){var t=[];Hf(t,ds,e,Gl(e)),Ef(Jm,t)}}function Xm(e,t,n){e==="focusin"?(pc(),Qr=t,ds=n,Qr.attachEvent("onpropertychange",Gf)):e==="focusout"&&pc()}function Zm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ro(ds)}function ev(e,t){if(e==="click")return ro(t)}function tv(e,t){if(e==="input"||e==="change")return ro(t)}function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:nv;function fs(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xa.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function Kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wf(){for(var e=window,t=Ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ci(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rv(e){var t=Wf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kf(n.ownerDocument.documentElement,n)){if(r!==null&&tu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=vc(n,i);var o=vc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sv=Lt&&"documentMode"in document&&11>=document.documentMode,Yn=null,za=null,Jr=null,Va=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Va||Yn==null||Yn!==Ci(r)||(r=Yn,"selectionStart"in r&&tu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&fs(Jr,r)||(Jr=r,r=bi(za,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Uo={},Qf={};Lt&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function so(e){if(Uo[e])return Uo[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qf)return Uo[e]=t[n];return e}var Jf=so("animationend"),Yf=so("animationiteration"),Xf=so("animationstart"),Zf=so("transitionend"),eh=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){eh.set(e,t),Ln(t,[e])}for(var zo=0;zo<wc.length;zo++){var Vo=wc[zo],iv=Vo.toLowerCase(),ov=Vo[0].toUpperCase()+Vo.slice(1);cn(iv,"on"+ov)}cn(Jf,"onAnimationEnd");cn(Yf,"onAnimationIteration");cn(Xf,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Zf,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),av=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,im(r,t,void 0,e),e.currentTarget=null}function th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Sc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Sc(s,a,u),i=l}}}if(ji)throw e=Fa,ji=!1,Fa=null,e}function X(e,t){var n=t[Ka];n===void 0&&(n=t[Ka]=new Set);var r=e+"__bubble";n.has(r)||(nh(t,e,2,!1),n.add(r))}function Bo(e,t,n){var r=0;t&&(r|=4),nh(n,e,r,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[Ws]){e[Ws]=!0,uf.forEach(function(n){n!=="selectionchange"&&(av.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Bo("selectionchange",!1,t))}}function nh(e,t,n,r){switch(Mf(t)){case 1:var s=_m;break;case 4:s=xm;break;default:s=Jl}n=s.bind(null,t,n,e),s=void 0,!Ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ho(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_n(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ef(function(){var u=i,c=Gl(n),f=[];e:{var g=eh.get(e);if(g!==void 0){var h=Xl,p=e;switch(e){case"keypress":if(gi(n)===0)break e;case"keydown":case"keyup":h=Fm;break;case"focusin":p="focus",h=Fo;break;case"focusout":p="blur",h=Fo;break;case"beforeblur":case"afterblur":h=Fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Um;break;case Jf:case Yf:case Xf:h=Pm;break;case Zf:h=Vm;break;case"scroll":h=km;break;case"wheel":h=Hm;break;case"copy":case"cut":case"paste":h=Nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cc}var w=(t&4)!==0,k=!w&&e==="scroll",v=w?g!==null?g+"Capture":null:g;w=[];for(var m=u,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=as(m,v),x!=null&&w.push(gs(m,x,y)))),k)break;m=m.return}0<w.length&&(g=new h(g,p,null,n,c),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",g&&n!==Aa&&(p=n.relatedTarget||n.fromElement)&&(_n(p)||p[$t]))break e;if((h||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?_n(p):null,p!==null&&(k=$n(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(w=lc,x="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=cc,x="onPointerLeave",v="onPointerEnter",m="pointer"),k=h==null?g:Zn(h),y=p==null?g:Zn(p),g=new w(x,m+"leave",h,n,c),g.target=k,g.relatedTarget=y,x=null,_n(c)===u&&(w=new w(v,m+"enter",p,n,c),w.target=y,w.relatedTarget=k,x=w),k=x,h&&p)t:{for(w=h,v=p,m=0,y=w;y;y=In(y))m++;for(y=0,x=v;x;x=In(x))y++;for(;0<m-y;)w=In(w),m--;for(;0<y-m;)v=In(v),y--;for(;m--;){if(w===v||v!==null&&w===v.alternate)break t;w=In(w),v=In(v)}w=null}else w=null;h!==null&&_c(f,g,h,w,!1),p!==null&&k!==null&&_c(f,k,p,w,!0)}}e:{if(g=u?Zn(u):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var _=Ym;else if(hc(g))if(qf)_=tv;else{_=Zm;var E=Xm}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=ev);if(_&&(_=_(e,u))){Hf(f,_,n,c);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Ta(g,"number",g.value)}switch(E=u?Zn(u):window,e){case"focusin":(hc(E)||E.contentEditable==="true")&&(Yn=E,za=u,Jr=null);break;case"focusout":Jr=za=Yn=null;break;case"mousedown":Va=!0;break;case"contextmenu":case"mouseup":case"dragend":Va=!1,yc(f,n,c);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":yc(f,n,c)}var C;if(eu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Jn?Vf(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zf&&n.locale!=="ko"&&(Jn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Jn&&(C=Uf()):(Wt=c,Yl="value"in Wt?Wt.value:Wt.textContent,Jn=!0)),E=bi(u,R),0<E.length&&(R=new uc(R,e,null,n,c),f.push({event:R,listeners:E}),C?R.data=C:(C=Bf(n),C!==null&&(R.data=C)))),(C=Gm?Km(e,n):Wm(e,n))&&(u=bi(u,"onBeforeInput"),0<u.length&&(c=new uc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}th(f,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=as(e,n),i!=null&&r.unshift(gs(e,i,s)),i=as(e,t),i!=null&&r.push(gs(e,i,s))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _c(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=as(n,i),l!=null&&o.unshift(gs(n,l,a))):s||(l=as(n,i),l!=null&&o.push(gs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(uv,"")}function Qs(e,t,n){if(t=xc(t),xc(e)!==t&&n)throw Error(N(425))}function Li(){}var Ba=null,Ha=null;function qa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,cv=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,dv=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(fv)}:Ga;function fv(e){setTimeout(function(){throw e})}function qo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cs(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),ht="__reactFiber$"+xr,ps="__reactProps$"+xr,$t="__reactContainer$"+xr,Ka="__reactEvents$"+xr,hv="__reactListeners$"+xr,gv="__reactHandles$"+xr;function _n(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cc(e);e!==null;){if(n=e[ht])return n;e=Cc(e)}return t}e=n,n=e.parentNode}return null}function Ns(e){return e=e[ht]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function io(e){return e[ps]||null}var Wa=[],er=-1;function dn(e){return{current:e}}function Z(e){0>er||(e.current=Wa[er],Wa[er]=null,er--)}function Y(e,t){er++,Wa[er]=e.current,e.current=t}var ln={},ke=dn(ln),Ae=dn(!1),Rn=ln;function hr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function $i(){Z(Ae),Z(ke)}function Ec(e,t,n){if(ke.current!==ln)throw Error(N(168));Y(ke,t),Y(Ae,n)}function rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Xp(e)||"Unknown",s));return se({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Rn=ke.current,Y(ke,e),Y(Ae,Ae.current),!0}function jc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=rh(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,Z(Ae),Z(ke),Y(ke,e)):Z(Ae),Y(Ae,n)}var Rt=null,oo=!1,Go=!1;function sh(e){Rt===null?Rt=[e]:Rt.push(e)}function pv(e){oo=!0,sh(e)}function fn(){if(!Go&&Rt!==null){Go=!0;var e=0,t=Q;try{var n=Rt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,oo=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Tf(Kl,fn),s}finally{Q=t,Go=!1}}return null}var tr=[],nr=0,Oi=null,Ii=0,qe=[],Ge=0,Pn=null,Pt=1,Tt="";function vn(e,t){tr[nr++]=Ii,tr[nr++]=Oi,Oi=e,Ii=t}function ih(e,t,n){qe[Ge++]=Pt,qe[Ge++]=Tt,qe[Ge++]=Pn,Pn=e;var r=Pt;e=Tt;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pt=1<<32-at(t)+s|n<<s|r,Tt=i+e}else Pt=1<<i|n<<s|r,Tt=e}function nu(e){e.return!==null&&(vn(e,1),ih(e,1,0))}function ru(e){for(;e===Oi;)Oi=tr[--nr],tr[nr]=null,Ii=tr[--nr],tr[nr]=null;for(;e===Pn;)Pn=qe[--Ge],qe[Ge]=null,Tt=qe[--Ge],qe[Ge]=null,Pt=qe[--Ge],qe[Ge]=null}var Me=null,De=null,ee=!1,ot=null;function oh(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,De=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pn!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,De=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ja(e){if(ee){var t=De;if(t){var n=t;if(!Rc(e,t)){if(Qa(e))throw Error(N(418));t=tn(n.nextSibling);var r=Me;t&&Rc(e,t)?oh(r,n):(e.flags=e.flags&-4097|2,ee=!1,Me=e)}}else{if(Qa(e))throw Error(N(418));e.flags=e.flags&-4097|2,ee=!1,Me=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Js(e){if(e!==Me)return!1;if(!ee)return Pc(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qa(e.type,e.memoizedProps)),t&&(t=De)){if(Qa(e))throw ah(),Error(N(418));for(;t;)oh(e,t),t=tn(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Me?tn(e.stateNode.nextSibling):null;return!0}function ah(){for(var e=De;e;)e=tn(e.nextSibling)}function gr(){De=Me=null,ee=!1}function su(e){ot===null?ot=[e]:ot.push(e)}var mv=Ft.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function lh(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=on(v,m),v.index=0,v.sibling=null,v}function i(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,x){return m===null||m.tag!==6?(m=Zo(y,v.mode,x),m.return=v,m):(m=s(m,y),m.return=v,m)}function l(v,m,y,x){var _=y.type;return _===Qn?c(v,m,y.props.children,x,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bt&&Tc(_)===m.type)?(x=s(m,y.props),x.ref=$r(v,m,y),x.return=v,x):(x=_i(y.type,y.key,y.props,null,v.mode,x),x.ref=$r(v,m,y),x.return=v,x)}function u(v,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ea(y,v.mode,x),m.return=v,m):(m=s(m,y.children||[]),m.return=v,m)}function c(v,m,y,x,_){return m===null||m.tag!==7?(m=En(y,v.mode,x,_),m.return=v,m):(m=s(m,y),m.return=v,m)}function f(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zo(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Us:return y=_i(m.type,m.key,m.props,null,v.mode,y),y.ref=$r(v,null,m),y.return=v,y;case Wn:return m=ea(m,v.mode,y),m.return=v,m;case Bt:var x=m._init;return f(v,x(m._payload),y)}if(Vr(m)||Pr(m))return m=En(m,v.mode,y,null),m.return=v,m;Ys(v,m)}return null}function g(v,m,y,x){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(v,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Us:return y.key===_?l(v,m,y,x):null;case Wn:return y.key===_?u(v,m,y,x):null;case Bt:return _=y._init,g(v,m,_(y._payload),x)}if(Vr(y)||Pr(y))return _!==null?null:c(v,m,y,x,null);Ys(v,y)}return null}function h(v,m,y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(m,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:return v=v.get(x.key===null?y:x.key)||null,l(m,v,x,_);case Wn:return v=v.get(x.key===null?y:x.key)||null,u(m,v,x,_);case Bt:var E=x._init;return h(v,m,y,E(x._payload),_)}if(Vr(x)||Pr(x))return v=v.get(y)||null,c(m,v,x,_,null);Ys(m,x)}return null}function p(v,m,y,x){for(var _=null,E=null,C=m,R=m=0,P=null;C!==null&&R<y.length;R++){C.index>R?(P=C,C=null):P=C.sibling;var j=g(v,C,y[R],x);if(j===null){C===null&&(C=P);break}e&&C&&j.alternate===null&&t(v,C),m=i(j,m,R),E===null?_=j:E.sibling=j,E=j,C=P}if(R===y.length)return n(v,C),ee&&vn(v,R),_;if(C===null){for(;R<y.length;R++)C=f(v,y[R],x),C!==null&&(m=i(C,m,R),E===null?_=C:E.sibling=C,E=C);return ee&&vn(v,R),_}for(C=r(v,C);R<y.length;R++)P=h(C,v,R,y[R],x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?R:P.key),m=i(P,m,R),E===null?_=P:E.sibling=P,E=P);return e&&C.forEach(function(L){return t(v,L)}),ee&&vn(v,R),_}function w(v,m,y,x){var _=Pr(y);if(typeof _!="function")throw Error(N(150));if(y=_.call(y),y==null)throw Error(N(151));for(var E=_=null,C=m,R=m=0,P=null,j=y.next();C!==null&&!j.done;R++,j=y.next()){C.index>R?(P=C,C=null):P=C.sibling;var L=g(v,C,j.value,x);if(L===null){C===null&&(C=P);break}e&&C&&L.alternate===null&&t(v,C),m=i(L,m,R),E===null?_=L:E.sibling=L,E=L,C=P}if(j.done)return n(v,C),ee&&vn(v,R),_;if(C===null){for(;!j.done;R++,j=y.next())j=f(v,j.value,x),j!==null&&(m=i(j,m,R),E===null?_=j:E.sibling=j,E=j);return ee&&vn(v,R),_}for(C=r(v,C);!j.done;R++,j=y.next())j=h(C,v,R,j.value,x),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?R:j.key),m=i(j,m,R),E===null?_=j:E.sibling=j,E=j);return e&&C.forEach(function(O){return t(v,O)}),ee&&vn(v,R),_}function k(v,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Qn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Us:e:{for(var _=y.key,E=m;E!==null;){if(E.key===_){if(_=y.type,_===Qn){if(E.tag===7){n(v,E.sibling),m=s(E,y.props.children),m.return=v,v=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Bt&&Tc(_)===E.type){n(v,E.sibling),m=s(E,y.props),m.ref=$r(v,E,y),m.return=v,v=m;break e}n(v,E);break}else t(v,E);E=E.sibling}y.type===Qn?(m=En(y.props.children,v.mode,x,y.key),m.return=v,v=m):(x=_i(y.type,y.key,y.props,null,v.mode,x),x.ref=$r(v,m,y),x.return=v,v=x)}return o(v);case Wn:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=s(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=ea(y,v.mode,x),m.return=v,v=m}return o(v);case Bt:return E=y._init,k(v,m,E(y._payload),x)}if(Vr(y))return p(v,m,y,x);if(Pr(y))return w(v,m,y,x);Ys(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,y),m.return=v,v=m):(n(v,m),m=Zo(y,v.mode,x),m.return=v,v=m),o(v)):n(v,m)}return k}var pr=lh(!0),uh=lh(!1),Fi=dn(null),Di=null,rr=null,iu=null;function ou(){iu=rr=Di=null}function au(e){var t=Fi.current;Z(Fi),e._currentValue=t}function Ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){Di=e,iu=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(iu!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(Di===null)throw Error(N(308));rr=e,Di.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var xn=null;function lu(e){xn===null?xn=[e]:xn.push(e)}function ch(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lu(t)):(n.next=s.next,s.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,At(e,n)}return s=r.interleaved,s===null?(t.next=t,lu(r)):(t.next=s.next,s.next=t),r.interleaved=t,At(e,n)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wl(e,n)}}function Nc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var g=a.lane,h=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,w=a;switch(g=t,h=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){f=p.call(h,f,g);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,g=typeof p=="function"?p.call(h,f,g):p,g==null)break e;f=se({},f,g);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else h={eventTime:h,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=f}}function bc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var bs={},mt=dn(bs),ms=dn(bs),vs=dn(bs);function kn(e){if(e===bs)throw Error(N(174));return e}function cu(e,t){switch(Y(vs,t),Y(ms,e),Y(mt,bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ba(t,e)}Z(mt),Y(mt,t)}function mr(){Z(mt),Z(ms),Z(vs)}function fh(e){kn(vs.current);var t=kn(mt.current),n=ba(t,e.type);t!==n&&(Y(ms,e),Y(mt,n))}function du(e){ms.current===e&&(Z(mt),Z(ms))}var te=dn(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ko=[];function fu(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var mi=Ft.ReactCurrentDispatcher,Wo=Ft.ReactCurrentBatchConfig,Tn=0,ne=null,ue=null,fe=null,zi=!1,Yr=!1,ys=0,vv=0;function ye(){throw Error(N(321))}function hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function gu(e,t,n,r,s,i){if(Tn=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=e===null||e.memoizedState===null?_v:xv,e=n(r,s),Yr){i=0;do{if(Yr=!1,ys=0,25<=i)throw Error(N(301));i+=1,fe=ue=null,t.updateQueue=null,mi.current=kv,e=n(r,s)}while(Yr)}if(mi.current=Vi,t=ue!==null&&ue.next!==null,Tn=0,fe=ue=ne=null,zi=!1,t)throw Error(N(300));return e}function pu(){var e=ys!==0;return ys=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=e:fe=fe.next=e,fe}function Ye(){if(ue===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=fe===null?ne.memoizedState:fe.next;if(t!==null)fe=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?ne.memoizedState=fe=e:fe=fe.next=e}return fe}function ws(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=Ye(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Tn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ne.lanes|=c,Nn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ct(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Nn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ye(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ct(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hh(){}function gh(e,t){var n=ne,r=Ye(),s=t(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,$e=!0),r=r.queue,mu(vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Ss(9,mh.bind(null,n,r,s,t),void 0,null),he===null)throw Error(N(349));Tn&30||ph(n,t,s)}return s}function ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mh(e,t,n,r){t.value=n,t.getSnapshot=r,yh(t)&&wh(e)}function vh(e,t,n){return n(function(){yh(t)&&wh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function wh(e){var t=At(e,1);t!==null&&lt(t,e,1,-1)}function Lc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Sv.bind(null,ne,e),[t.memoizedState,e]}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sh(){return Ye().memoizedState}function vi(e,t,n,r){var s=ft();ne.flags|=e,s.memoizedState=Ss(1|t,n,void 0,r===void 0?null:r)}function ao(e,t,n,r){var s=Ye();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&hu(r,o.deps)){s.memoizedState=Ss(t,n,i,r);return}}ne.flags|=e,s.memoizedState=Ss(1|t,n,i,r)}function $c(e,t){return vi(8390656,8,e,t)}function mu(e,t){return ao(2048,8,e,t)}function _h(e,t){return ao(4,2,e,t)}function xh(e,t){return ao(4,4,e,t)}function kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ch(e,t,n){return n=n!=null?n.concat([e]):null,ao(4,4,kh.bind(null,t,e),n)}function vu(){}function Eh(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jh(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rh(e,t,n){return Tn&21?(ct(n,t)||(n=Lf(),ne.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function yv(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Wo.transition;Wo.transition={};try{e(!1),t()}finally{Q=n,Wo.transition=r}}function Ph(){return Ye().memoizedState}function wv(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Th(e))Nh(t,n);else if(n=ch(e,t,n,r),n!==null){var s=Re();lt(n,e,r,s),bh(n,t,r)}}function Sv(e,t,n){var r=sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Th(e))Nh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ct(a,o)){var l=t.interleaved;l===null?(s.next=s,lu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=ch(e,t,s,r),n!==null&&(s=Re(),lt(n,e,r,s),bh(n,t,r))}}function Th(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Nh(e,t){Yr=zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wl(e,n)}}var Vi={readContext:Je,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},_v={readContext:Je,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:$c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vi(4194308,4,kh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wv.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:vu,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=yv.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,s=ft();if(ee){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),he===null)throw Error(N(349));Tn&30||ph(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$c(vh.bind(null,r,i,e),[e]),r.flags|=2048,Ss(9,mh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ft(),t=he.identifierPrefix;if(ee){var n=Tt,r=Pt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xv={readContext:Je,useCallback:Eh,useContext:Je,useEffect:mu,useImperativeHandle:Ch,useInsertionEffect:_h,useLayoutEffect:xh,useMemo:jh,useReducer:Qo,useRef:Sh,useState:function(){return Qo(ws)},useDebugValue:vu,useDeferredValue:function(e){var t=Ye();return Rh(t,ue.memoizedState,e)},useTransition:function(){var e=Qo(ws)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:gh,useId:Ph,unstable_isNewReconciler:!1},kv={readContext:Je,useCallback:Eh,useContext:Je,useEffect:mu,useImperativeHandle:Ch,useInsertionEffect:_h,useLayoutEffect:xh,useMemo:jh,useReducer:Jo,useRef:Sh,useState:function(){return Jo(ws)},useDebugValue:vu,useDeferredValue:function(e){var t=Ye();return ue===null?t.memoizedState=e:Rh(t,ue.memoizedState,e)},useTransition:function(){var e=Jo(ws)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:gh,useId:Ph,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lo={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Nt(r,s);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(lt(t,e,s,r),pi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Nt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(lt(t,e,s,r),pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=sn(e),s=Nt(n,r);s.tag=2,t!=null&&(s.callback=t),t=nn(e,s,r),t!==null&&(lt(t,e,r,n),pi(t,e,r))}};function Ac(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fs(n,r)||!fs(s,i):!0}function Lh(e,t,n){var r=!1,s=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Oe(t)?Rn:ke.current,r=t.contextTypes,i=(r=r!=null)?hr(e,s):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function Za(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Oe(t)?Rn:ke.current,s.context=hr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lo.enqueueReplaceState(s,s.state,null),Mi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=Yp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function el(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function $h(e,t,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,cl=r),el(e,t)},n}function Ah(e,t,n){n=Nt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){el(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){el(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Dv.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Ev=Ft.ReactCurrentOwner,$e=!1;function je(e,t,n,r){t.child=e===null?uh(t,null,n,r):pr(t,e.child,n,r)}function Mc(e,t,n,r,s){n=n.render;var i=t.ref;return cr(t,s),r=gu(e,t,n,r,i,s),n=pu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&n&&nu(t),t.flags|=1,je(e,t,r,s),t.child)}function Uc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Eu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Oh(e,t,i,r,s)):(e=_i(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fs,n(o,r)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fs(i,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return tl(e,t,n,r,s)}function Ih(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(ir,Fe),Fe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(ir,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(ir,Fe),Fe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Y(ir,Fe),Fe|=r;return je(e,t,s,n),t.child}function Fh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tl(e,t,n,r,s){var i=Oe(n)?Rn:ke.current;return i=hr(t,i),cr(t,s),n=gu(e,t,n,r,i,s),r=pu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&r&&nu(t),t.flags|=1,je(e,t,n,s),t.child)}function zc(e,t,n,r,s){if(Oe(n)){var i=!0;Ai(t)}else i=!1;if(cr(t,s),t.stateNode===null)yi(e,t),Lh(t,n,r),Za(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Oe(n)?Rn:ke.current,u=hr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Oc(t,o,r,u),Ht=!1;var g=t.memoizedState;o.state=g,Mi(t,r,o,s),l=t.memoizedState,a!==r||g!==l||Ae.current||Ht?(typeof c=="function"&&(Xa(t,n,c,r),l=t.memoizedState),(a=Ht||Ac(t,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nt(t.type,a),o.props=u,f=t.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Oe(n)?Rn:ke.current,l=hr(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&Oc(t,o,r,l),Ht=!1,g=t.memoizedState,o.state=g,Mi(t,r,o,s);var p=t.memoizedState;a!==f||g!==p||Ae.current||Ht?(typeof h=="function"&&(Xa(t,n,h,r),p=t.memoizedState),(u=Ht||Ac(t,n,u,r,g,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return nl(e,t,n,r,i,s)}function nl(e,t,n,r,s,i){Fh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&jc(t,n,!1),Ot(e,t,i);r=t.stateNode,Ev.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pr(t,e.child,null,i),t.child=pr(t,null,a,i)):je(e,t,a,i),t.memoizedState=r.state,s&&jc(t,n,!0),t.child}function Dh(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),cu(e,t.containerInfo)}function Vc(e,t,n,r,s){return gr(),su(s),t.flags|=256,je(e,t,n,r),t.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mh(e,t,n){var r=t.pendingProps,s=te.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(te,s&1),e===null)return Ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fo(o,r,0,null),e=En(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sl(n),t.memoizedState=rl,e):yu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jv(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=on(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=on(a,i):(i=En(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?sl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=rl,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yu(e,t){return t=fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xs(e,t,n,r){return r!==null&&su(r),pr(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Yo(Error(N(422))),Xs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fo({mode:"visible",children:r.children},s,0,null),i=En(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pr(t,e.child,null,o),t.child.memoizedState=sl(o),t.memoizedState=rl,i);if(!(t.mode&1))return Xs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Yo(i,r,void 0),Xs(e,t,o,r)}if(a=(o&e.childLanes)!==0,$e||a){if(r=he,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,At(e,s),lt(r,e,s,-1))}return Cu(),r=Yo(Error(N(421))),Xs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,De=tn(s.nextSibling),Me=t,ee=!0,ot=null,e!==null&&(qe[Ge++]=Pt,qe[Ge++]=Tt,qe[Ge++]=Pn,Pt=e.id,Tt=e.overflow,Pn=t),t=yu(t,r.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ya(e.return,t,n)}function Xo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Uh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(je(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ui(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xo(t,!0,n,null,i);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rv(e,t,n){switch(t.tag){case 3:Dh(t),gr();break;case 5:fh(t);break;case 1:Oe(t.type)&&Ai(t);break;case 4:cu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Y(Fi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?Mh(e,t,n):(Y(te,te.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);Y(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,Ih(e,t,n)}return Ot(e,t,n)}var zh,il,Vh,Bh;zh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};il=function(){};Vh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kn(mt.current);var i=null;switch(n){case"input":s=Ra(e,s),r=Ra(e,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Na(e,s),r=Na(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Li)}La(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ar(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pv(e,t,n){var r=t.pendingProps;switch(ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Oe(t.type)&&$i(),we(t),null;case 3:return r=t.stateNode,mr(),Z(Ae),Z(ke),fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(hl(ot),ot=null))),il(e,t),we(t),null;case 5:du(t);var s=kn(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)Vh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return we(t),null}if(e=kn(mt.current),Js(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[ps]=i,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<Hr.length;s++)X(Hr[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Xu(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":ec(r,i),X("invalid",r)}La(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qs(r.textContent,a,e),s=["children",""+a]):is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":zs(r),Zu(r,i,!0);break;case"textarea":zs(r),tc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Li)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ht]=t,e[ps]=r,zh(e,t,!1,!1),t.stateNode=e;e:{switch(o=$a(n,r),n){case"dialog":X("cancel",e),X("close",e),s=r;break;case"iframe":case"object":case"embed":X("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hr.length;s++)X(Hr[s],e);s=r;break;case"source":X("error",e),s=r;break;case"img":case"image":case"link":X("error",e),X("load",e),s=r;break;case"details":X("toggle",e),s=r;break;case"input":Xu(e,r),s=Ra(e,r),X("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),X("invalid",e);break;case"textarea":ec(e,r),s=Na(e,r),X("invalid",e);break;default:s=r}La(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Sf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&os(e,l):typeof l=="number"&&os(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",e):l!=null&&Vl(e,i,l,o))}switch(n){case"input":zs(e),Zu(e,r,!1);break;case"textarea":zs(e),tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+an(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?or(e,!!r.multiple,i,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Bh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=kn(vs.current),kn(mt.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:Qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return we(t),null;case 13:if(Z(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&De!==null&&t.mode&1&&!(t.flags&128))ah(),gr(),t.flags|=98560,i=!1;else if(i=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ht]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else ot!==null&&(hl(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?ce===0&&(ce=3):Cu())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return mr(),il(e,t),e===null&&hs(t.stateNode.containerInfo),we(t),null;case 10:return au(t.type._context),we(t),null;case 17:return Oe(t.type)&&$i(),we(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ar(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ui(e),o!==null){for(t.flags|=128,Ar(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>yr&&(t.flags|=128,r=!0,Ar(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ui(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return we(t),null}else 2*oe()-i.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,Ar(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,n=te.current,Y(te,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return ku(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Tv(e,t){switch(ru(t),t.tag){case 1:return Oe(t.type)&&$i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),Z(Ae),Z(ke),fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return du(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return mr(),null;case 10:return au(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Zs=!1,xe=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,A=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Hc=!1;function bv(e,t){if(Ba=Ti,e=Wf(),tu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,g=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)g=f,f=h;for(;;){if(f===e)break t;if(g===n&&++u===s&&(a=o),g===i&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},Ti=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,k=p.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:nt(t.type,w),k);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return p=Hc,Hc=!1,p}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ol(t,n,i)}s=s.next}while(s!==r)}}function uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[ps],delete t[Ka],delete t[hv],delete t[gv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qh(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Li));else if(r!==4&&(e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}var pe=null,st=!1;function Mt(e,t,n){for(n=n.child;n!==null;)Gh(e,t,n),n=n.sibling}function Gh(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(to,n)}catch{}switch(n.tag){case 5:xe||sr(n,t);case 6:var r=pe,s=st;pe=null,Mt(e,t,n),pe=r,st=s,pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(st?(e=pe,n=n.stateNode,e.nodeType===8?qo(e.parentNode,n):e.nodeType===1&&qo(e,n),cs(e)):qo(pe,n.stateNode));break;case 4:r=pe,s=st,pe=n.stateNode.containerInfo,st=!0,Mt(e,t,n),pe=r,st=s;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ol(n,t,o),s=s.next}while(s!==r)}Mt(e,t,n);break;case 1:if(!xe&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,t,a)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Mt(e,t,n),xe=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nv),t.forEach(function(r){var s=Uv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,st=!1;break e;case 3:pe=a.stateNode.containerInfo,st=!0;break e;case 4:pe=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(pe===null)throw Error(N(160));Gh(i,o,s),pe=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}function Kh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),dt(e),r&4){try{Xr(3,e,e.return),uo(3,e)}catch(w){ie(e,e.return,w)}try{Xr(5,e,e.return)}catch(w){ie(e,e.return,w)}}break;case 1:Ze(t,e),dt(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(Ze(t,e),dt(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(w){ie(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pf(s,i),$a(a,o);var u=$a(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Sf(s,f):c==="dangerouslySetInnerHTML"?yf(s,f):c==="children"?os(s,f):Vl(s,c,f,u)}switch(a){case"input":Pa(s,i);break;case"textarea":mf(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?or(s,!!i.multiple,h,!1):g!==!!i.multiple&&(i.defaultValue!=null?or(s,!!i.multiple,i.defaultValue,!0):or(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(w){ie(e,e.return,w)}}break;case 6:if(Ze(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ie(e,e.return,w)}}break;case 3:if(Ze(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(w){ie(e,e.return,w)}break;case 4:Ze(t,e),dt(e);break;case 13:Ze(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_u=oe())),r&4&&Gc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||c,Ze(t,e),xe=u):Ze(t,e),dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(f=A=c;A!==null;){switch(g=A,h=g.child,g.tag){case 0:case 11:case 14:case 15:Xr(4,g,g.return);break;case 1:sr(g,g.return);var p=g.stateNode;if(typeof p.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:sr(g,g.return);break;case 22:if(g.memoizedState!==null){Wc(f);continue}}h!==null?(h.return=g,A=h):Wc(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wf("display",o))}catch(w){ie(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ie(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(t,e),dt(e),r&4&&Gc(e);break;case 21:break;default:Ze(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(os(s,""),r.flags&=-33);var i=qc(e);ul(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qc(e);ll(e,a,o);break;default:throw Error(N(161))}}catch(l){ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lv(e,t,n){A=e,Wh(e)}function Wh(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||xe;a=Zs;var u=xe;if(Zs=o,(xe=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Qc(s):l!==null?(l.return=o,A=l):Qc(s);for(;i!==null;)A=i,Wh(i),i=i.sibling;A=s,Zs=a,xe=u}Kc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Kc(e)}}function Kc(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&cs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xe||t.flags&512&&al(t)}catch(g){ie(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Wc(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Qc(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{uo(4,t)}catch(l){ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ie(t,s,l)}}var i=t.return;try{al(t)}catch(l){ie(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){ie(t,o,l)}}}catch(l){ie(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var $v=Math.ceil,Bi=Ft.ReactCurrentDispatcher,wu=Ft.ReactCurrentOwner,We=Ft.ReactCurrentBatchConfig,W=0,he=null,le=null,me=0,Fe=0,ir=dn(0),ce=0,_s=null,Nn=0,co=0,Su=0,Zr=null,be=null,_u=0,yr=1/0,kt=null,Hi=!1,cl=null,rn=null,ei=!1,Qt=null,qi=0,es=0,dl=null,wi=-1,Si=0;function Re(){return W&6?oe():wi!==-1?wi:wi=oe()}function sn(e){return e.mode&1?W&2&&me!==0?me&-me:mv.transition!==null?(Si===0&&(Si=Lf()),Si):(e=Q,e!==0||(e=window.event,e=e===void 0?16:Mf(e.type)),e):1}function lt(e,t,n,r){if(50<es)throw es=0,dl=null,Error(N(185));Ps(e,n,r),(!(W&2)||e!==he)&&(e===he&&(!(W&2)&&(co|=n),ce===4&&Gt(e,me)),Ie(e,r),n===1&&W===0&&!(t.mode&1)&&(yr=oe()+500,oo&&fn()))}function Ie(e,t){var n=e.callbackNode;mm(e,t);var r=Pi(e,e===he?me:0);if(r===0)n!==null&&sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sc(n),t===1)e.tag===0?pv(Jc.bind(null,e)):sh(Jc.bind(null,e)),dv(function(){!(W&6)&&fn()}),n=null;else{switch($f(r)){case 1:n=Kl;break;case 4:n=Nf;break;case 16:n=Ri;break;case 536870912:n=bf;break;default:n=Ri}n=ng(n,Qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qh(e,t){if(wi=-1,Si=0,W&6)throw Error(N(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=Pi(e,e===he?me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gi(e,r);else{t=r;var s=W;W|=2;var i=Yh();(he!==e||me!==t)&&(kt=null,yr=oe()+500,Cn(e,t));do try{Iv();break}catch(a){Jh(e,a)}while(!0);ou(),Bi.current=i,W=s,le!==null?t=0:(he=null,me=0,t=ce)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(r=s,t=fl(e,s))),t===1)throw n=_s,Cn(e,0),Gt(e,r),Ie(e,oe()),n;if(t===6)Gt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Av(s)&&(t=Gi(e,r),t===2&&(i=Da(e),i!==0&&(r=i,t=fl(e,i))),t===1))throw n=_s,Cn(e,0),Gt(e,r),Ie(e,oe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:yn(e,be,kt);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=_u+500-oe(),10<t)){if(Pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ga(yn.bind(null,e,be,kt),t);break}yn(e,be,kt);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$v(r/1960))-r,10<r){e.timeoutHandle=Ga(yn.bind(null,e,be,kt),r);break}yn(e,be,kt);break;case 5:yn(e,be,kt);break;default:throw Error(N(329))}}}return Ie(e,oe()),e.callbackNode===n?Qh.bind(null,e):null}function fl(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=be,be=n,t!==null&&hl(t)),e}function hl(e){be===null?be=e:be.push.apply(be,e)}function Av(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~Su,t&=~co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Jc(e){if(W&6)throw Error(N(327));dr();var t=Pi(e,0);if(!(t&1))return Ie(e,oe()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=fl(e,r))}if(n===1)throw n=_s,Cn(e,0),Gt(e,t),Ie(e,oe()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,be,kt),Ie(e,oe()),null}function xu(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(yr=oe()+500,oo&&fn())}}function bn(e){Qt!==null&&Qt.tag===0&&!(W&6)&&dr();var t=W;W|=1;var n=We.transition,r=Q;try{if(We.transition=null,Q=1,e)return e()}finally{Q=r,We.transition=n,W=t,!(W&6)&&fn()}}function ku(){Fe=ir.current,Z(ir)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cv(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$i();break;case 3:mr(),Z(Ae),Z(ke),fu();break;case 5:du(r);break;case 4:mr();break;case 13:Z(te);break;case 19:Z(te);break;case 10:au(r.type._context);break;case 22:case 23:ku()}n=n.return}if(he=e,le=e=on(e.current,null),me=Fe=t,ce=0,_s=null,Su=co=Nn=0,be=Zr=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xn=null}return e}function Jh(e,t){do{var n=le;try{if(ou(),mi.current=Vi,zi){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zi=!1}if(Tn=0,fe=ue=ne=null,Yr=!1,ys=0,wu.current=null,n===null||n.return===null){ce=1,_s=t,le=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Fc(o);if(h!==null){h.flags&=-257,Dc(h,o,a,i,t),h.mode&1&&Ic(i,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var w=new Set;w.add(l),t.updateQueue=w}else p.add(l);break e}else{if(!(t&1)){Ic(i,u,t),Cu();break e}l=Error(N(426))}}else if(ee&&a.mode&1){var k=Fc(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Dc(k,o,a,i,t),su(vr(l,a));break e}}i=l=vr(l,a),ce!==4&&(ce=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=$h(i,l,t);Nc(i,v);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rn===null||!rn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Ah(i,a,t);Nc(i,x);break e}}i=i.return}while(i!==null)}Zh(n)}catch(_){t=_,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Yh(){var e=Bi.current;return Bi.current=Vi,e===null?Vi:e}function Cu(){(ce===0||ce===3||ce===2)&&(ce=4),he===null||!(Nn&268435455)&&!(co&268435455)||Gt(he,me)}function Gi(e,t){var n=W;W|=2;var r=Yh();(he!==e||me!==t)&&(kt=null,Cn(e,t));do try{Ov();break}catch(s){Jh(e,s)}while(!0);if(ou(),W=n,Bi.current=r,le!==null)throw Error(N(261));return he=null,me=0,ce}function Ov(){for(;le!==null;)Xh(le)}function Iv(){for(;le!==null&&!am();)Xh(le)}function Xh(e){var t=tg(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Zh(e):le=t,wu.current=null}function Zh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tv(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,le=null;return}}else if(n=Pv(n,t,Fe),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ce===0&&(ce=5)}function yn(e,t,n){var r=Q,s=We.transition;try{We.transition=null,Q=1,Fv(e,t,n,r)}finally{We.transition=s,Q=r}return null}function Fv(e,t,n,r){do dr();while(Qt!==null);if(W&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(vm(e,i),e===he&&(le=he=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ei||(ei=!0,ng(Ri,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=Q;Q=1;var a=W;W|=4,wu.current=null,bv(e,n),Kh(n,e),rv(Ha),Ti=!!Ba,Ha=Ba=null,e.current=n,Lv(n),lm(),W=a,Q=o,We.transition=i}else e.current=n;if(ei&&(ei=!1,Qt=e,qi=s),i=e.pendingLanes,i===0&&(rn=null),dm(n.stateNode),Ie(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hi)throw Hi=!1,e=cl,cl=null,e;return qi&1&&e.tag!==0&&dr(),i=e.pendingLanes,i&1?e===dl?es++:(es=0,dl=e):es=0,fn(),null}function dr(){if(Qt!==null){var e=$f(qi),t=We.transition,n=Q;try{if(We.transition=null,Q=16>e?16:e,Qt===null)var r=!1;else{if(e=Qt,Qt=null,qi=0,W&6)throw Error(N(331));var s=W;for(W|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Xr(8,c,i)}var f=c.child;if(f!==null)f.return=c,A=f;else for(;A!==null;){c=A;var g=c.sibling,h=c.return;if(Hh(c),c===u){A=null;break}if(g!==null){g.return=h,A=g;break}A=h}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,A=v;break e}A=i.return}}var m=e.current;for(A=m;A!==null;){o=A;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,A=y;else e:for(o=m;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uo(9,a)}}catch(_){ie(a,a.return,_)}if(a===o){A=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,A=x;break e}A=a.return}}if(W=s,fn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(to,e)}catch{}r=!0}return r}finally{Q=n,We.transition=t}}return!1}function Yc(e,t,n){t=vr(n,t),t=$h(e,t,1),e=nn(e,t,1),t=Re(),e!==null&&(Ps(e,1,t),Ie(e,t))}function ie(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=vr(n,e),e=Ah(t,e,1),t=nn(t,e,1),e=Re(),t!==null&&(Ps(t,1,e),Ie(t,e));break}}t=t.return}}function Dv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(me&n)===n&&(ce===4||ce===3&&(me&130023424)===me&&500>oe()-_u?Cn(e,0):Su|=n),Ie(e,t)}function eg(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var n=Re();e=At(e,t),e!==null&&(Ps(e,t,n),Ie(e,n))}function Mv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eg(e,n)}function Uv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),eg(e,n)}var tg;tg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,Rv(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ee&&t.flags&1048576&&ih(t,Ii,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yi(e,t),e=t.pendingProps;var s=hr(t,ke.current);cr(t,n),s=gu(null,t,r,e,s,n);var i=pu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(i=!0,Ai(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uu(t),s.updater=lo,t.stateNode=s,s._reactInternals=t,Za(t,r,e,n),t=nl(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&nu(t),je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Vv(r),e=nt(r,e),s){case 0:t=tl(null,t,r,e,n);break e;case 1:t=zc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Uc(null,t,r,nt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),tl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),zc(e,t,r,s,n);case 3:e:{if(Dh(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,dh(e,t),Mi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vr(Error(N(423)),t),t=Vc(e,t,r,n,s);break e}else if(r!==s){s=vr(Error(N(424)),t),t=Vc(e,t,r,n,s);break e}else for(De=tn(t.stateNode.containerInfo.firstChild),Me=t,ee=!0,ot=null,n=uh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){t=Ot(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return fh(t),e===null&&Ja(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,qa(r,s)?o=null:i!==null&&qa(r,i)&&(t.flags|=32),Fh(e,t),je(e,t,o,n),t.child;case 6:return e===null&&Ja(t),null;case 13:return Mh(e,t,n);case 4:return cu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Mc(e,t,r,s,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Y(Fi,r._currentValue),r._currentValue=o,i!==null)if(ct(i.value,o)){if(i.children===s.children&&!Ae.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Nt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ya(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ya(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,cr(t,n),s=Je(s),r=r(s),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,s=nt(r,t.pendingProps),s=nt(r.type,s),Uc(e,t,r,s,n);case 15:return Oh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),yi(e,t),t.tag=1,Oe(r)?(e=!0,Ai(t)):e=!1,cr(t,n),Lh(t,r,s),Za(t,r,s,n),nl(null,t,r,!0,e,n);case 19:return Uh(e,t,n);case 22:return Ih(e,t,n)}throw Error(N(156,t.tag))};function ng(e,t){return Tf(e,t)}function zv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new zv(e,t,n,r)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vv(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hl)return 11;if(e===ql)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _i(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Eu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qn:return En(n.children,s,i,t);case Bl:o=8,s|=8;break;case ka:return e=Ke(12,n,t,s|2),e.elementType=ka,e.lanes=i,e;case Ca:return e=Ke(13,n,t,s),e.elementType=Ca,e.lanes=i,e;case Ea:return e=Ke(19,n,t,s),e.elementType=Ea,e.lanes=i,e;case ff:return fo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cf:o=10;break e;case df:o=9;break e;case Hl:o=11;break e;case ql:o=14;break e;case Bt:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ke(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function En(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function fo(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=ff,e.lanes=n,e.stateNode={isHidden:!1},e}function Zo(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function ea(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,s,i,o,a,l){return e=new Bv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uu(i),e}function Hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rg(e){if(!e)return ln;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Oe(n))return rh(e,n,t)}return t}function sg(e,t,n,r,s,i,o,a,l){return e=ju(n,r,!0,e,s,i,o,a,l),e.context=rg(null),n=e.current,r=Re(),s=sn(n),i=Nt(r,s),i.callback=t??null,nn(n,i,s),e.current.lanes=s,Ps(e,s,r),Ie(e,r),e}function ho(e,t,n,r){var s=t.current,i=Re(),o=sn(s);return n=rg(n),t.context===null?t.context=n:t.pendingContext=n,t=Nt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(s,t,o),e!==null&&(lt(e,s,o,i),pi(e,s,o)),o}function Ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ru(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function qv(){return null}var ig=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}go.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ho(e,t,null,null)};go.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){ho(null,e,null,null)}),t[$t]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=If();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Df(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function Gv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ki(o);i.call(u)}}var o=sg(t,r,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=o,e[$t]=o.current,hs(e.nodeType===8?e.parentNode:e),bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ki(l);a.call(u)}}var l=ju(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=l,e[$t]=l.current,hs(e.nodeType===8?e.parentNode:e),bn(function(){ho(t,l,n,r)}),l}function mo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ki(o);a.call(l)}}ho(t,o,e,s)}else o=Gv(n,t,e,s,r);return Ki(o)}Af=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(Wl(t,n|1),Ie(t,oe()),!(W&6)&&(yr=oe()+500,fn()))}break;case 13:bn(function(){var r=At(e,1);if(r!==null){var s=Re();lt(r,e,1,s)}}),Ru(e,1)}};Ql=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Re();lt(t,e,134217728,n)}Ru(e,134217728)}};Of=function(e){if(e.tag===13){var t=sn(e),n=At(e,t);if(n!==null){var r=Re();lt(n,e,t,r)}Ru(e,t)}};If=function(){return Q};Ff=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Oa=function(e,t,n){switch(t){case"input":if(Pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=io(r);if(!s)throw Error(N(90));gf(r),Pa(r,s)}}}break;case"textarea":mf(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};kf=xu;Cf=bn;var Kv={usingClientEntryPoint:!1,Events:[Ns,Zn,io,_f,xf,xu]},Or={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wv={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rf(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{to=ti.inject(Wv),pt=ti}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kv;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(N(200));return Hv(e,t,null,n)};Ve.createRoot=function(e,t){if(!Tu(e))throw Error(N(299));var n=!1,r="",s=ig;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ju(e,1,!1,null,null,n,!1,r,s),e[$t]=t.current,hs(e.nodeType===8?e.parentNode:e),new Pu(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Rf(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return bn(e)};Ve.hydrate=function(e,t,n){if(!po(t))throw Error(N(200));return mo(null,e,t,!0,n)};Ve.hydrateRoot=function(e,t,n){if(!Tu(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ig;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sg(t,null,e,1,n??null,s,!1,i,o),e[$t]=t.current,hs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new go(t)};Ve.render=function(e,t,n){if(!po(t))throw Error(N(200));return mo(null,e,t,!1,n)};Ve.unmountComponentAtNode=function(e){if(!po(e))throw Error(N(40));return e._reactRootContainer?(bn(function(){mo(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Ve.unstable_batchedUpdates=xu;Ve.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!po(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return mo(e,t,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(og)}catch(e){console.error(e)}}og(),of.exports=Ve;var Qv=of.exports,ed=Qv;_a.createRoot=ed.createRoot,_a.hydrateRoot=ed.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var td="popstate";function Jv(e={}){function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return gl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xs(s)}return Xv(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yv(){return Math.random().toString(36).substring(2,10)}function nd(e,t){return{usr:e.state,key:e.key,idx:t}}function gl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kr(t):t,state:n,key:t&&t.key||r||Yv()}}function xs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Xv(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=c(),v=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:v})}function g(k,v){a="PUSH";let m=gl(w.location,k,v);u=c()+1;let y=nd(m,u),x=w.createHref(m);try{o.pushState(y,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function h(k,v){a="REPLACE";let m=gl(w.location,k,v);u=c();let y=nd(m,u),x=w.createHref(m);o.replaceState(y,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function p(k){return Zv(k)}let w={get action(){return a},get location(){return e(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(td,f),l=k,()=>{s.removeEventListener(td,f),l=null}},createHref(k){return t(s,k)},createURL:p,encodeLocation(k){let v=p(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:h,go(k){return o.go(k)}};return w}function Zv(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ag(e,t,n="/"){return ey(e,t,n,!1)}function ey(e,t,n,r){let s=typeof t=="string"?kr(t):t,i=It(s.pathname||"/",n);if(i==null)return null;let o=lg(e);ty(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=fy(i);a=cy(o[l],u,r)}return a}function lg(e,t=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=bt([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(re(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),lg(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ly(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ug(i.path))s(i,o,l)}),t}function ug(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ug(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function ty(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ny=/^:[\w-]+$/,ry=3,sy=2,iy=1,oy=10,ay=-2,rd=e=>e==="*";function ly(e,t){let n=e.split("/"),r=n.length;return n.some(rd)&&(r+=ay),t&&(r+=sy),n.filter(s=>!rd(s)).reduce((s,i)=>s+(ny.test(i)?ry:i===""?iy:oy),r)}function uy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function cy(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=Wi({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Wi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bt([i,f.pathname]),pathnameBase:my(bt([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=bt([i,f.pathnameBase]))}return o}function Wi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dy(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},g)=>{if(c==="*"){let p=a[g]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[g];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function dy(e,t=!1,n=!0){vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function fy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function It(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function hy(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?kr(e):e;return{pathname:n?n.startsWith("/")?n:gy(n,t):t,search:vy(r),hash:yy(s)}}function gy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ta(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function py(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cg(e){let t=py(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dg(e,t,n,r=!1){let s;typeof e=="string"?s=kr(e):(s={...e},re(!s.pathname||!s.pathname.includes("?"),ta("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),ta("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),ta("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=hy(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var bt=e=>e.join("/").replace(/\/\/+/g,"/"),my=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fg=["POST","PUT","PATCH","DELETE"];new Set(fg);var Sy=["GET",...fg];new Set(Sy);var Cr=S.createContext(null);Cr.displayName="DataRouter";var vo=S.createContext(null);vo.displayName="DataRouterState";S.createContext(!1);var hg=S.createContext({isTransitioning:!1});hg.displayName="ViewTransition";var _y=S.createContext(new Map);_y.displayName="Fetchers";var xy=S.createContext(null);xy.displayName="Await";var yt=S.createContext(null);yt.displayName="Navigation";var Ls=S.createContext(null);Ls.displayName="Location";var wt=S.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var Nu=S.createContext(null);Nu.displayName="RouteError";function ky(e,{relative:t}={}){re($s(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(yt),{hash:s,pathname:i,search:o}=As(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:bt([n,i])),r.createHref({pathname:a,search:o,hash:s})}function $s(){return S.useContext(Ls)!=null}function hn(){return re($s(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ls).location}var gg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pg(e){S.useContext(yt).static||S.useLayoutEffect(e)}function bu(){let{isDataRoute:e}=S.useContext(wt);return e?Iy():Cy()}function Cy(){re($s(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Cr),{basename:t,navigator:n}=S.useContext(yt),{matches:r}=S.useContext(wt),{pathname:s}=hn(),i=JSON.stringify(cg(r)),o=S.useRef(!1);return pg(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(vt(o.current,gg),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=dg(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:bt([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}S.createContext(null);function mg(){let{matches:e}=S.useContext(wt),t=e[e.length-1];return t?t.params:{}}function As(e,{relative:t}={}){let{matches:n}=S.useContext(wt),{pathname:r}=hn(),s=JSON.stringify(cg(n));return S.useMemo(()=>dg(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Ey(e,t){return vg(e,t)}function vg(e,t,n,r){var v;re($s(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(yt),{matches:i}=S.useContext(wt),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let m=c&&c.path||"";yg(l,!c||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=hn(),g;if(t){let m=typeof t=="string"?kr(t):t;re(u==="/"||((v=m.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=f;let h=g.pathname||"/",p=h;if(u!=="/"){let m=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=ag(e,{pathname:p});vt(c||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Ny(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:bt([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:bt([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n,r);return t&&k?S.createElement(Ls.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function jy(){let e=Oy(),t=wy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,o)}var Ry=S.createElement(jy,null),Py=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(wt.Provider,{value:this.props.routeContext},S.createElement(Nu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ty({routeContext:e,match:t,children:n}){let r=S.useContext(Cr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(wt.Provider,{value:e},n)}function Ny(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);re(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:f}=n,g=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let f,g=!1,h=null,p=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,h=u.route.errorElement||Ry,o&&(a<0&&c===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):a===c&&(g=!0,p=u.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,c+1)),k=()=>{let v;return f?v=h:g?v=p:u.route.Component?v=S.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,S.createElement(Ty,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?S.createElement(Py,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function Lu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function by(e){let t=S.useContext(Cr);return re(t,Lu(e)),t}function Ly(e){let t=S.useContext(vo);return re(t,Lu(e)),t}function $y(e){let t=S.useContext(wt);return re(t,Lu(e)),t}function $u(e){let t=$y(e),n=t.matches[t.matches.length-1];return re(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ay(){return $u("useRouteId")}function Oy(){var r;let e=S.useContext(Nu),t=Ly("useRouteError"),n=$u("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Iy(){let{router:e}=by("useNavigate"),t=$u("useNavigate"),n=S.useRef(!1);return pg(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{vt(n.current,gg),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var sd={};function yg(e,t,n){!t&&!sd[e]&&(sd[e]=!0,vt(!1,n))}S.memo(Fy);function Fy({routes:e,future:t,state:n}){return vg(e,void 0,n,t)}function et(e){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dy({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){re(!$s(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=kr(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:g="default"}=n,h=S.useMemo(()=>{let p=It(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:f,key:g},navigationType:r}},[o,l,u,c,f,g,r]);return vt(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:S.createElement(yt.Provider,{value:a},S.createElement(Ls.Provider,{children:t,value:h}))}function My({children:e,location:t}){return Ey(pl(e),t)}function pl(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,pl(r.props.children,i));return}re(r.type===et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pl(r.props.children,i)),n.push(o)}),n}var xi="get",ki="application/x-www-form-urlencoded";function yo(e){return e!=null&&typeof e.tagName=="string"}function Uy(e){return yo(e)&&e.tagName.toLowerCase()==="button"}function zy(e){return yo(e)&&e.tagName.toLowerCase()==="form"}function Vy(e){return yo(e)&&e.tagName.toLowerCase()==="input"}function By(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hy(e,t){return e.button===0&&(!t||t==="_self")&&!By(e)}var ni=null;function qy(){if(ni===null)try{new FormData(document.createElement("form"),0),ni=!1}catch{ni=!0}return ni}var Gy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function na(e){return e!=null&&!Gy.has(e)?(vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ki}"`),null):e}function Ky(e,t){let n,r,s,i,o;if(zy(e)){let a=e.getAttribute("action");r=a?It(a,t):null,n=e.getAttribute("method")||xi,s=na(e.getAttribute("enctype"))||ki,i=new FormData(e)}else if(Uy(e)||Vy(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?It(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||xi,s=na(e.getAttribute("formenctype"))||na(a.getAttribute("enctype"))||ki,i=new FormData(a,e),!qy()){let{name:u,type:c,value:f}=e;if(c==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,f)}}else{if(yo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xi,r=null,s=ki,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Au(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wy(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&It(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Qy(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Yy(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Qy(i,n);return o.links?o.links():[]}return[]}));return tw(r.flat(1).filter(Jy).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function id(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Xy(e,t,{includeHydrateFallback:n}={}){return Zy(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Zy(e){return[...new Set(e)]}function ew(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tw(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(ew(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function wg(){let e=S.useContext(Cr);return Au(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nw(){let e=S.useContext(vo);return Au(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ou=S.createContext(void 0);Ou.displayName="FrameworkContext";function Sg(){let e=S.useContext(Ou);return Au(e,"You must render this element inside a <HydratedRouter> element"),e}function rw(e,t){let n=S.useContext(Ou),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=v=>{v.forEach(m=>{o(m.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let h=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Ir(a,h),onBlur:Ir(l,p),onMouseEnter:Ir(u,h),onMouseLeave:Ir(c,p),onTouchStart:Ir(f,h)}]:[!1,g,{}]}function Ir(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sw({page:e,...t}){let{router:n}=wg(),r=S.useMemo(()=>ag(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(ow,{page:e,matches:r,...t}):null}function iw(e){let{manifest:t,routeModules:n}=Sg(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return Yy(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function ow({page:e,matches:t,...n}){let r=hn(),{manifest:s,routeModules:i}=Sg(),{basename:o}=wg(),{loaderData:a,matches:l}=nw(),u=S.useMemo(()=>id(e,t,l,s,r,"data"),[e,t,l,s,r]),c=S.useMemo(()=>id(e,t,l,s,r,"assets"),[e,t,l,s,r]),f=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,w=!1;if(t.forEach(v=>{var y;let m=s.routes[v.route.id];!m||!m.hasLoader||(!u.some(x=>x.route.id===v.route.id)&&v.route.id in a&&((y=i[v.route.id])!=null&&y.shouldRevalidate)||m.hasClientLoader?w=!0:p.add(v.route.id))}),p.size===0)return[];let k=Wy(e,o,"data");return w&&p.size>0&&k.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[k.pathname+k.search]},[o,a,r,s,u,t,e,i]),g=S.useMemo(()=>Xy(c,s),[c,s]),h=iw(c);return S.createElement(S.Fragment,null,f.map(p=>S.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),g.map(p=>S.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:w})=>S.createElement("link",{key:p,...w})))}function aw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_g&&(window.__reactRouterVersion="7.7.1")}catch{}function lw({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=Jv({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>s.listen(a),[s,a]),S.createElement(Dy,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...g},h){let{basename:p}=S.useContext(yt),w=typeof u=="string"&&xg.test(u),k,v=!1;if(typeof u=="string"&&w&&(k=u,_g))try{let P=new URL(window.location.href),j=u.startsWith("//")?new URL(P.protocol+u):new URL(u),L=It(j.pathname,p);j.origin===P.origin&&L!=null?u=L+j.search+j.hash:v=!0}catch{vt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=ky(u,{relative:s}),[y,x,_]=rw(r,g),E=fw(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:f});function C(P){t&&t(P),P.defaultPrevented||E(P)}let R=S.createElement("a",{...g,..._,href:k||m,onClick:v||i?t:C,ref:aw(h,x),target:l,"data-discover":!w&&n==="render"?"true":void 0});return y&&!w?S.createElement(S.Fragment,null,R,S.createElement(sw,{page:m})):R});rt.displayName="Link";var uw=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let f=As(o,{relative:u.relative}),g=hn(),h=S.useContext(vo),{navigator:p,basename:w}=S.useContext(yt),k=h!=null&&vw(f)&&a===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,m=g.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(m=m.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&w&&(y=It(y,w)||y);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=m===v||!s&&m.startsWith(v)&&m.charAt(x)==="/",E=y!=null&&(y===v||!s&&y.startsWith(v)&&y.charAt(v.length)==="/"),C={isActive:_,isPending:E,isTransitioning:k},R=_?t:void 0,P;typeof r=="function"?P=r(C):P=[r,_?"active":null,E?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(C):i;return S.createElement(rt,{...u,"aria-current":R,className:P,ref:c,style:j,to:o,viewTransition:a},typeof l=="function"?l(C):l)});uw.displayName="NavLink";var cw=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=xi,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...g},h)=>{let p=pw(),w=mw(a,{relative:u}),k=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&xg.test(a),m=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,_=(x==null?void 0:x.getAttribute("formmethod"))||o;p(x||y.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:f})};return S.createElement("form",{ref:h,method:k,action:w,onSubmit:r?l:m,...g,"data-discover":!v&&e==="render"?"true":void 0})});cw.displayName="Form";function dw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(e){let t=S.useContext(Cr);return re(t,dw(e)),t}function fw(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=bu(),l=hn(),u=As(e,{relative:i});return S.useCallback(c=>{if(Hy(c,t)){c.preventDefault();let f=n!==void 0?n:xs(l)===xs(u);a(e,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}var hw=0,gw=()=>`__${String(++hw)}__`;function pw(){let{router:e}=kg("useSubmit"),{basename:t}=S.useContext(yt),n=Ay();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=Ky(r,t);if(s.navigate===!1){let c=s.fetcherKey||gw();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function mw(e,{relative:t}={}){let{basename:n}=S.useContext(yt),r=S.useContext(wt);re(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...As(e||".",{relative:t})},o=hn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:bt([n,i.pathname])),xs(i)}function vw(e,{relative:t}={}){let n=S.useContext(hg);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kg("useViewTransitionState"),s=As(e,{relative:t});if(!n.isTransitioning)return!1;let i=It(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=It(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wi(s.pathname,o)!=null||Wi(s.pathname,i)!=null}const yw="modulepreload",ww=function(e){return"/"+e},od={},Os=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=ww(l),l in od)return;od[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yw,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((g,h)=>{f.addEventListener("load",g),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Sw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Iu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class _w extends Iu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ad extends Iu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ld extends Iu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ml;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ml||(ml={}));var xw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class kw{constructor(t,{headers:n={},customFetch:r,region:s=ml.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Sw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return xw(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new _w(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new ad(f);if(!f.ok)throw new ld(f);let h=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof ld||s instanceof ad?s.context:void 0}}})}}var Le={},Fu={},wo={},Is={},So={},_o={},Cw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wr=Cw();const Ew=wr.fetch,Cg=wr.fetch.bind(wr),Eg=wr.Headers,jw=wr.Request,Rw=wr.Response,Er=Object.freeze(Object.defineProperty({__proto__:null,Headers:Eg,Request:jw,Response:Rw,default:Cg,fetch:Ew},Symbol.toStringTag,{value:"Module"})),Pw=kp(Er);var xo={};Object.defineProperty(xo,"__esModule",{value:!0});let Tw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xo.default=Tw;var jg=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_o,"__esModule",{value:!0});const Nw=jg(Pw),bw=jg(xo);let Lw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Nw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,g=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,g=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,g=200,h="OK")}catch{i.status===404&&w===""?(g=204,h="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,h="OK"),u&&this.shouldThrowOnError)throw new bw.default(u)}return{error:u,data:c,count:f,status:g,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};_o.default=Lw;var $w=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});const Aw=$w(_o);let Ow=class extends Aw.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};So.default=Ow;var Iw=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Is,"__esModule",{value:!0});const Fw=Iw(So);let Dw=class extends Fw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Is.default=Dw;var Mw=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wo,"__esModule",{value:!0});const Fr=Mw(Is);let Uw=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wo.default=Uw;var ko={},Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.version=void 0;Co.version="0.0.0-automated";Object.defineProperty(ko,"__esModule",{value:!0});ko.DEFAULT_HEADERS=void 0;const zw=Co;ko.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zw.version}`};var Rg=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fu,"__esModule",{value:!0});const Vw=Rg(wo),Bw=Rg(Is),Hw=ko;let qw=class Pg{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Hw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Vw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Bw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Fu.default=qw;var jr=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const Tg=jr(Fu);Le.PostgrestClient=Tg.default;const Ng=jr(wo);Le.PostgrestQueryBuilder=Ng.default;const bg=jr(Is);Le.PostgrestFilterBuilder=bg.default;const Lg=jr(So);Le.PostgrestTransformBuilder=Lg.default;const $g=jr(_o);Le.PostgrestBuilder=$g.default;const Ag=jr(xo);Le.PostgrestError=Ag.default;var Gw=Le.default={PostgrestClient:Tg.default,PostgrestQueryBuilder:Ng.default,PostgrestFilterBuilder:bg.default,PostgrestTransformBuilder:Lg.default,PostgrestBuilder:$g.default,PostgrestError:Ag.default};const{PostgrestClient:Kw,PostgrestQueryBuilder:Zk,PostgrestFilterBuilder:eC,PostgrestTransformBuilder:tC,PostgrestBuilder:nC,PostgrestError:rC}=Gw;function Ww(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Qw=Ww(),Jw="2.11.15",Yw=`realtime-js/${Jw}`,Xw="1.0.0",Og=1e4,Zw=1e3;var ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ts||(ts={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var vl;(function(e){e.websocket="websocket"})(vl||(vl={}));var Sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sn||(Sn={}));class e0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ig{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const ud=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=t0(o,e,t,s),i),{})},t0=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Fg(i,o):yl(o)},Fg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return i0(t,n)}switch(e){case J.bool:return n0(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return r0(t);case J.json:case J.jsonb:return s0(t);case J.timestamp:return o0(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return yl(t);default:return yl(t)}},yl=e=>e,n0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},i0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Fg(t,a))}return e},o0=e=>typeof e=="string"?e.replace(" ","T"):e,Dg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ra{constructor(t,n,r={},s=Og){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cd||(cd={}));class ns{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ns.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ns.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const g=c.map(k=>k.presence_ref),h=f.map(k=>k.presence_ref),p=c.filter(k=>h.indexOf(k.presence_ref)<0),w=f.filter(k=>g.indexOf(k.presence_ref)<0);p.length>0&&(a[u]=p),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(h=>h.presence_ref),g=c.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...g)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dd||(dd={}));var fd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fd||(fd={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Du{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ra(this,it.join,this.params,this.timeout),this.rejoinTimer=new Ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ns(this),this.broadcastEndpointURL=Dg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Ct.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,h=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,p=[];for(let w=0;w<h;w++){const k=g[w],{filter:{event:v,schema:m,table:y,filter:x}}=k,_=c&&c[w];if(_&&_.event===v&&_.schema===m&&_.table===y&&_.filter===x)p.push(Object.assign(Object.assign({},k),{id:_.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Ct.SUBSCRIBED);return}}).receive("error",c=>{this.state=_e.errored,t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ra(this,it.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ra(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,w,k;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((k=(w=h.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(h=>h.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,w,k,v,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const x=h.id,_=(p=h.filter)===null||p===void 0?void 0:p.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(m=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof g=="object"&&"ids"in g){const p=g.data,{schema:w,table:k,commit_timestamp:v,type:m,errors:y}=p;g=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:v,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(p))}h.callback(g,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Du.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ud(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ud(t.columns,t.old_record)),n}}const hd=()=>{},a0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Og,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hd,this.ref=0,this.logger=hd,this.conn=null,this.sendBuffer=[],this.serializer=new e0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Os(async()=>{const{default:l}=await Promise.resolve().then(()=>Er);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${vl.websocket}`,this.httpEndpoint=Dg(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ig(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return Sn.Connecting;case ts.open:return Sn.Open;case ts.closing:return Sn.Closing;default:return Sn.Closed}}isConnected(){return this.connectionState()===Sn.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Du(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Yw};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Zw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([a0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Mu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u0 extends Mu{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wl extends Mu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var c0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Mg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},d0=()=>c0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Os(()=>Promise.resolve().then(()=>Er),void 0)).Response:Response}),Sl=e=>{if(Array.isArray(e))return e.map(n=>Sl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Sl(r)}),t},f0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var An=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const sa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h0=(e,t,n)=>An(void 0,void 0,void 0,function*(){const r=yield d0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new u0(sa(s),i,o))}).catch(s=>{t(new wl(sa(s),s))}):t(new wl(sa(e),e))}),g0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(f0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Fs(e,t,n,r,s,i){return An(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,g0(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>h0(l,a,r))})})}function Qi(e,t,n,r){return An(this,void 0,void 0,function*(){return Fs(e,"GET",t,n,r)})}function Et(e,t,n,r,s){return An(this,void 0,void 0,function*(){return Fs(e,"POST",t,r,s,n)})}function _l(e,t,n,r,s){return An(this,void 0,void 0,function*(){return Fs(e,"PUT",t,r,s,n)})}function p0(e,t,n,r){return An(this,void 0,void 0,function*(){return Fs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ug(e,t,n,r,s){return An(this,void 0,void 0,function*(){return Fs(e,"DELETE",t,r,s,n)})}var Ne=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const m0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Mg(s)}uploadOrUpdate(t,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?_l:Et)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:gd.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield _l(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Mu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Qi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Qi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield p0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof wl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},m0),n),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const y0="2.10.4",w0={"X-Client-Info":`storage-js/${y0}`};var Fn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class S0{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},w0),n),this.fetch=Mg(r)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Fn(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class _0 extends S0{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new v0(this.url,this.headers,t,this.fetch)}}const x0="2.53.0";let qr="";typeof Deno<"u"?qr="deno":typeof document<"u"?qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qr="react-native":qr="node";const k0={"X-Client-Info":`supabase-js-${qr}/${x0}`},C0={headers:k0},E0={schema:"public"},j0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0={};var P0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const T0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Cg:t=fetch,(...n)=>t(...n)},N0=()=>typeof Headers>"u"?Eg:Headers,b0=(e,t,n)=>{const r=T0(n),s=N0();return(i,o)=>P0(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var L0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function $0(e){return e.endsWith("/")?e:e+"/"}function A0(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L0(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const zg="2.71.1",Gn=30*1e3,xl=3,ia=xl*Gn,O0="http://localhost:9999",I0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${zg}`},kl="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},D0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M0=10*60*1e3;class Uu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class U0 extends Uu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function z0(e){return B(e)&&e.name==="AuthApiError"}class Bg extends Uu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gn extends Uu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class zt extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V0(e){return B(e)&&e.name==="AuthSessionMissingError"}class ri extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class si extends gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ii extends gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B0(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class pd extends gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cl extends gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function oa(e){return B(e)&&e.name==="AuthRetryableFetchError"}class md extends gn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class El extends gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vd=` 	
\r=`.split(""),H0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vd.length;t+=1)e[vd[t].charCodeAt(0)]=-2;for(let t=0;t<Ji.length;t+=1)e[Ji[t].charCodeAt(0)]=t;return e})();function yd(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ji[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ji[r]),t.queuedBits-=6}}function Hg(e,t,n){const r=H0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{K0(o,r,n)};for(let o=0;o<e.length;o+=1)Hg(e.charCodeAt(o),s,i);return t.join("")}function q0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function G0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}q0(r,t)}}function K0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function W0(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hg(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Q0(e){const t=[];return G0(e,n=>t.push(n)),new Uint8Array(t)}function J0(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>yd(s,n,r)),yd(null,n,r),t.join("")}function Y0(e){return Math.round(Date.now()/1e3)+e}function X0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},qg=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function Z0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Gg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Os(async()=>{const{default:r}=await Promise.resolve().then(()=>Er);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},eS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},mn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ut=async(e,t)=>{await e.removeItem(t)};class Eo{constructor(){this.promise=new Eo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Eo.promiseConstructor=Promise;function aa(e){const t=e.split(".");if(t.length!==3)throw new El("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!D0.test(t[r]))throw new El("JWT not in base64url format");return{header:JSON.parse(wd(t[0])),payload:JSON.parse(wd(t[1])),signature:W0(t[2]),raw:{header:t[0],payload:t[1]}}}async function tS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nS(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function rS(e){return("0"+e.toString(16)).substr(-2)}function sS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,rS).join("")}async function iS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function oS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await iS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(e,t,n=!1){const r=sS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Kn(e,`${t}-code-verifier`,s);const i=await oS(r);return[i,r===i?"plain":"s256"]}const aS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lS(e){const t=e.headers.get(kl);if(!t||!t.match(aS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(e){if(!dS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function la(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sd(e){return JSON.parse(JSON.stringify(e))}var fS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hS=[502,503,504];async function _d(e){var t;if(!eS(e))throw new Cl(wn(e),0);if(hS.includes(e.status))throw new Cl(wn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Bg(wn(i),i)}let r;const s=lS(e);if(s&&s.getTime()>=Vg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new md(wn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new md(wn(n),e.status,n.weak_password.reasons);throw new U0(wn(n),e.status||500,r)}const gS=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function q(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[kl]||(i[kl]=Vg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pS(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function pS(e,t,n,r,s,i){const o=gS(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Cl(wn(l),0)}if(a.ok||await _d(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await _d(l)}}function xt(e){var t;let n=null;wS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Y0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xd(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mS(e){return{data:e,error:null}}function vS(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=fS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function yS(e){return e}function wS(e){return e.access_token&&e.refresh_token&&e.expires_in}const ua=["global","local","others"];var SS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _S{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ua[0]){if(ua.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ua.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=SS(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yS});if(c.error)throw c.error;const f=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(p.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mn(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Mn(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Mn(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Mn(t.userId);try{const{data:n,error:r}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Mn(t.userId),Mn(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}function kd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function xS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Un={debug:!!(globalThis&&qg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class kS extends Kg{}async function CS(e,t,n){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xS();const ES={url:O0,storageKey:I0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cd(e,t,n){return await n()}const zn={};class ks{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ES),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _S({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gg(s.fetch),this.lock=s.lock||Cd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=CS:this.lock=Cd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=kd(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=zn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=zn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zn[this.storageKey]=Object.assign(Object.assign({},zn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Z0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Bg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:f,options:g}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Dn(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:p},xform:xt})}else if("phone"in t){const{phone:c,password:f,options:g}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xt})}else throw new si("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xd})}else throw new si("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ri}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,f,g,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:k,wallet:v,statement:m,options:y}=t;let x;if(tt())if(typeof v=="object")x=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:k,error:v}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:J0(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xt});if(v)throw v;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ri}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:v})}catch(k){if(B(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await mn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ri}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ri}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Dn(this.storage,this.storageKey));const{error:f}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new si("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Dn(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mS})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zt;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new si("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ia:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await mn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=la()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(n){if(B(n))return V0(n)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new zt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Dn(this.storage,this.storageKey));const{data:u,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=aa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tt())throw new ii("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ii(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ii("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pd("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ii("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let g=c+f;l&&(g=parseInt(l));const h=g-c;h*1e3<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=g-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,g,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,g,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await mn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(z0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=X0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Dn(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:g}=i;if(g)throw g;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nS(async s=>(s>0&&await tS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&oa(i)&&Date.now()+o-r<Gn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await mn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Kn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:la()}else if(s&&!s.user&&!s.user){const o=await mn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await Kn(this.storage,this.storageKey,s)):s.user=la()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ia;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ia}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),oa(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Eo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return oa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Sd(s);await Kn(this.storage,this.storageKey,i)}else{const s=Sd(n);await Kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gn}ms, refresh threshold is ${xl} ticks`),s<=xl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=aa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+M0>s)return r;const{data:i,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=aa(r);n!=null&&n.allowExpired||uS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const c=cS(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Q0(`${a}.${l}`)))throw new El("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ks.nextInstanceID=0;const jS=ks;class RS extends jS{constructor(t){super(t)}}var PS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class TS{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=$0(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:E0,realtime:R0,auth:Object.assign(Object.assign({},j0),{storageKey:u}),global:C0},f=A0(r??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=b0(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Kw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new _0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new kw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return PS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RS({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new l0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NS=(e,t,n)=>new TS(e,t,n);function bS(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"$VITE_SUPABASE_ANON_KEY",VITE_SUPABASE_URL_REMOTE:"https://sqdhegczwwcfnrankyde.supabase.co",VITE_USE_LOCAL:"false"},Cs=e=>LS[e],zu=()=>Cs("VITE_USE_LOCAL")==="true",Wg=()=>zu()?Cs("VITE_SUPABASE_URL_LOCAL"):Cs("VITE_SUPABASE_URL_REMOTE"),$S=()=>zu()?Cs("VITE_SUPABASE_ANON_KEY_LOCAL"):Cs("VITE_SUPABASE_ANON_KEY"),AS=()=>({useLocal:zu(),supabaseUrl:Wg(),supabaseAnonKey:$S()}),{supabaseUrl:OS,supabaseAnonKey:IS}=AS(),Vt=NS(OS,IS);typeof window<"u"&&(window.supabase=Vt);const Qg=S.createContext(void 0),ge=()=>{const e=S.useContext(Qg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},FS=({children:e})=>{console.log("AuthProvider rendering...");const[t,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState(!1),[f,g]=S.useState(!1),h=async()=>{try{const{data:{session:y}}=await Vt.auth.getSession();return(y==null?void 0:y.access_token)||null}catch(y){return console.error("Error getting access token:",y),null}},p=async y=>{try{console.log("checkUserRoles: Starting role check for userId:",y),g(!0);const x=await h();if(console.log("checkUserRoles: Got access token:",!!x),!x){console.log("checkUserRoles: No access token, setting roles to false"),l(!1),c(!1);return}console.log("checkUserRoles: Querying roles table");const{data:_,error:E}=await Vt.from("roles").select("role").eq("user_id",y);if(console.log("checkUserRoles: Query result:",{data:_,error:E}),E){console.error("Role check error:",E),l(!1),c(!1);return}const C=(_==null?void 0:_.map(j=>j.role))||[],R=C.includes("admin"),P=C.includes("cleaner");console.log("checkUserRoles: Setting roles - isAdmin:",R,"isCleaner:",P),l(R),c(P)}catch(x){console.error("Error checking user roles:",x),l(!1),c(!1)}finally{console.log("checkUserRoles: Finished, setting adminLoading to false"),g(!1)}},w=async(y,x)=>{var _;x?console.log("Auth state changed:",x,(_=y==null?void 0:y.user)==null?void 0:_.email):console.log("Initial session:",y),o(y),n((y==null?void 0:y.user)??null),s(!1),y!=null&&y.user?(console.log("Starting role check for user:",y.user.id),p(y.user.id).catch(E=>{console.error("Role check failed:",E),l(!1),c(!1)})):(l(!1),c(!1))};S.useEffect(()=>{console.log("AuthProvider useEffect running..."),(async()=>{try{console.log("Getting initial session...");const{data:{session:_}}=await Vt.auth.getSession();await w(_)}catch(_){console.error("Error getting initial session:",_),s(!1)}})();const{data:{subscription:x}}=Vt.auth.onAuthStateChange(async(_,E)=>{await w(E,_)});return()=>x.unsubscribe()},[]),console.log("AuthProvider state:",{user:t,loading:r,session:i});const m={user:t,session:i,loading:r,isAdmin:a,isCleaner:u,adminLoading:f,signInWithGoogle:async()=>{try{const y=`${window.location.origin}/`;console.log("Starting Google OAuth sign in...",y);const{error:x}=await Vt.auth.signInWithOAuth({provider:"google",options:{redirectTo:y}});if(x)throw x}catch(y){throw console.error("Error signing in with Google:",y),y}},signOut:async()=>{try{const{error:y}=await Vt.auth.signOut();if(y)throw y}catch(y){throw console.error("Error signing out:",y),y}},getAccessToken:h,checkUserRoles:p,supabase:Vt};return d.jsx(Qg.Provider,{value:m,children:e})},DS=(e,t,n,r)=>{var i,o,a,l;const s=[n,{code:t,...r||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);jn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&l.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Ed={},jl=(e,t,n,r)=>{jn(n)&&Ed[n]||(jn(n)&&(Ed[n]=new Date),DS(e,t,n,r))},Jg=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Rl=(e,t,n)=>{e.loadNamespaces(t,Jg(e,n))},jd=(e,t,n,r)=>{if(jn(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Rl(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,Jg(e,r))},MS=(e,t,n={})=>!t.languages||!t.languages.length?(jl(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),jn=e=>typeof e=="string",US=e=>typeof e=="object"&&e!==null,zS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},BS=e=>VS[e],HS=e=>e.replace(zS,BS);let Pl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HS};const qS=(e={})=>{Pl={...Pl,...e}},GS=()=>Pl;let Yg;const KS=e=>{Yg=e},WS=()=>Yg,QS={type:"3rdParty",init(e){qS(e.options.react),KS(e)}},JS=S.createContext();class YS{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const XS=(e,t)=>{const n=S.useRef();return S.useEffect(()=>{n.current=e},[e,t]),n.current},Xg=(e,t,n,r)=>e.getFixedT(t,n,r),ZS=(e,t,n,r)=>S.useCallback(Xg(e,t,n,r),[e,t,n,r]),ae=(e,t={})=>{var x,_,E,C;const{i18n:n}=t,{i18n:r,defaultNS:s}=S.useContext(JS)||{},i=n||r||WS();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new YS),!i){jl(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(j,L)=>jn(L)?L:US(L)&&jn(L.defaultValue)?L.defaultValue:Array.isArray(j)?j[j.length-1]:j,P=[R,{},!1];return P.t=R,P.i18n={},P.ready=!1,P}(x=i.options.react)!=null&&x.wait&&jl(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...GS(),...i.options.react,...t},{useSuspense:a,keyPrefix:l}=o;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=jn(u)?[u]:u||["translation"],(C=(E=i.reportNamespaces).addUsedNamespaces)==null||C.call(E,u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>MS(R,i,o)),f=ZS(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),g=()=>f,h=()=>Xg(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),[p,w]=S.useState(g);let k=u.join();t.lng&&(k=`${t.lng}${k}`);const v=XS(k),m=S.useRef(!0);S.useEffect(()=>{const{bindI18n:R,bindI18nStore:P}=o;m.current=!0,!c&&!a&&(t.lng?jd(i,t.lng,u,()=>{m.current&&w(h)}):Rl(i,u,()=>{m.current&&w(h)})),c&&v&&v!==k&&m.current&&w(h);const j=()=>{m.current&&w(h)};return R&&(i==null||i.on(R,j)),P&&(i==null||i.store.on(P,j)),()=>{m.current=!1,i&&R&&(R==null||R.split(" ").forEach(L=>i.off(L,j))),P&&i&&P.split(" ").forEach(L=>i.store.off(L,j))}},[i,k]),S.useEffect(()=>{m.current&&c&&w(g)},[i,l,c]);const y=[p,i,c];if(y.t=p,y.i18n=i,y.ready=c,c||!c&&!a)return y;throw new Promise(R=>{t.lng?jd(i,t.lng,u,()=>R()):Rl(i,u,()=>R())})},Zg=S.createContext(void 0),e_=({children:e})=>{const{i18n:t}=ae(),[n,r]=S.useState("en");S.useEffect(()=>{const o=localStorage.getItem("preferred-language")||"en";r(o),t.changeLanguage(o)},[t]);const i={currentLanguage:n,changeLanguage:o=>{r(o),t.changeLanguage(o),localStorage.setItem("preferred-language",o)}};return d.jsx(Zg.Provider,{value:i,children:e})},t_=()=>{const e=S.useContext(Zg);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},n_=()=>{const{signInWithGoogle:e,loading:t}=ge(),{t:n}=ae(),r=async()=>{try{await e()}catch(s){console.error("Sign in error:",s)}};return d.jsx("div",{className:"auth-container",children:d.jsxs("div",{className:"auth-card",children:[d.jsx("h1",{className:"auth-title",children:n("auth.welcome")}),d.jsx("p",{className:"auth-description",children:n("auth.signInDescription")}),d.jsx("button",{onClick:r,disabled:t,className:"google-signin-btn",children:t?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"loading-spinner",style:{width:"20px",height:"20px",margin:0}}),n("auth.signingIn")]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n("auth.signInWithGoogle")]})})]})})},ca=({children:e})=>{console.log("ProtectedRoute rendering...");const{user:t,loading:n}=ge(),{t:r}=ae();return console.log("ProtectedRoute state:",{user:t,loading:n}),n?(console.log("ProtectedRoute: showing loading state"),d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),r("common.loading")]})})})):t?(console.log("ProtectedRoute: showing protected content"),e):(console.log("ProtectedRoute: showing login component"),d.jsx(n_,{}))},Vn=({children:e})=>{const{user:t,loading:n,isAdmin:r,adminLoading:s}=ge(),{t:i}=ae();return n||s?d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),i("admin.checkingAccess")]})})}):t?r?e:d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"access-denied",children:[d.jsx("div",{className:"access-denied-icon",children:""}),d.jsx("h2",{className:"access-denied-title",children:i("admin.adminAccessRequired")}),d.jsx("p",{className:"access-denied-description",children:i("admin.noAdminPrivileges")})]})})}):d.jsx("div",{className:"auth-container",children:d.jsx("div",{className:"auth-card",children:d.jsxs("div",{className:"access-denied",children:[d.jsx("div",{className:"access-denied-icon",children:""}),d.jsx("h2",{className:"access-denied-title",children:i("admin.authenticationRequired")}),d.jsx("p",{className:"access-denied-description",children:i("admin.signInToAccess")})]})})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Jt(e,t){return typeof e=="function"?e(t):e}function ze(e,t){return n=>{t.setState(r=>({...r,[e]:Jt(n,r[e])}))}}function jo(e){return e instanceof Function}function r_(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function s_(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function M(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((c,f)=>r[f]!==c)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,g=f/16,h=(p,w)=>{for(p=String(p);p.length<w;)p=" "+p;return p};console.info(`%c ${h(f,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function U(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function i_(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:M(()=>[e,n,t,i],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),U(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function o_(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=g=>{let h=g;for(const w of l.split(".")){var p;h=(p=h)==null?void 0:p[w]}return h}:c=g=>g[a.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:M(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(h=>h.getFlatColumns())]},U(e.options,"debugColumns")),getLeafColumns:M(()=>[e._getOrderColumnsFn()],g=>{var h;if((h=f.columns)!=null&&h.length){let p=f.columns.flatMap(w=>w.getLeafColumns());return g(p)}return[f]},U(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(f,e);return f}const Se="debugHeaders";function Rd(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const a_={createTable:e=>{e.getHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(s!=null&&s.includes(f.id)));return oi(t,[...a,...u,...l],e)},U(e.options,Se)),e.getCenterHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),oi(t,n,e,"center")),U(e.options,Se)),e.getLeftHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return oi(t,i,e,"left")},U(e.options,Se)),e.getRightHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return oi(t,i,e,"right")},U(e.options,Se)),e.getFooterGroups=M(()=>[e.getHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getLeftFooterGroups=M(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getCenterFooterGroups=M(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getRightFooterGroups=M(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),U(e.options,Se)),e.getFlatHeaders=M(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getLeftFlatHeaders=M(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getCenterFlatHeaders=M(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getRightFlatHeaders=M(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),U(e.options,Se)),e.getCenterLeafHeaders=M(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getLeftLeafHeaders=M(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getRightLeafHeaders=M(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),U(e.options,Se)),e.getLeafHeaders=M(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},U(e.options,Se))}};function oi(e,t,n,r){var s,i;let o=0;const a=function(g,h){h===void 0&&(h=1),o=Math.max(o,h),g.filter(p=>p.getIsVisible()).forEach(p=>{var w;(w=p.columns)!=null&&w.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(g,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},w=[];g.forEach(k=>{const v=[...w].reverse()[0],m=k.column.depth===p.depth;let y,x=!1;if(m&&k.column.parent?y=k.column.parent:(y=k.column,x=!0),v&&(v==null?void 0:v.column)===y)v.subHeaders.push(k);else{const _=Rd(n,y,{id:[r,h,y.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:x,placeholderId:x?`${w.filter(E=>E.column===y).length}`:void 0,depth:h,index:w.length});_.subHeaders.push(k),w.push(_)}p.headers.push(k),k.headerGroup=p}),l.push(p),h>0&&u(w,h-1)},c=t.map((g,h)=>Rd(n,g,{depth:o,index:h}));u(c,o-1),l.reverse();const f=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let w=0,k=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],f(p.subHeaders).forEach(y=>{let{colSpan:x,rowSpan:_}=y;w+=x,v.push(_)})):w=1;const m=Math.min(...v);return k=k+m,p.colSpan=w,p.rowSpan=k,{colSpan:w,rowSpan:k}});return f((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const Vu=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>s_(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:M(()=>[e.getAllLeafColumns()],l=>l.map(u=>i_(e,a,u,u.id)),U(e.options,"debugRows")),_getAllCellsByColumnId:M(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),U(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},l_={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ep=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};ep.autoRemove=e=>ut(e);const tp=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};tp.autoRemove=e=>ut(e);const np=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};np.autoRemove=e=>ut(e);const rp=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};rp.autoRemove=e=>ut(e);const sp=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});sp.autoRemove=e=>ut(e)||!(e!=null&&e.length);const ip=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});ip.autoRemove=e=>ut(e)||!(e!=null&&e.length);const op=(e,t,n)=>e.getValue(t)===n;op.autoRemove=e=>ut(e);const ap=(e,t,n)=>e.getValue(t)==n;ap.autoRemove=e=>ut(e);const Bu=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Bu.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Bu.autoRemove=e=>ut(e)||ut(e[0])&&ut(e[1]);const jt={includesString:ep,includesStringSensitive:tp,equalsString:np,arrIncludes:rp,arrIncludesAll:sp,arrIncludesSome:ip,equals:op,weakEquals:ap,inNumberRange:Bu};function ut(e){return e==null||e===""}const u_={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ze("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?jt.includesString:typeof r=="number"?jt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?jt.equals:Array.isArray(r)?jt.arrIncludes:jt.weakEquals},e.getFilterFn=()=>{var n,r;return jo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:jt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(c=>c.id===e.id),o=Jt(n,i?i.value:void 0);if(Pd(s,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Jt(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Pd(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Pd(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const c_=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),d_=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},f_=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},h_=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},g_=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},p_=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!r_(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},m_=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),v_=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,y_=(e,t)=>t.length,da={sum:c_,min:d_,max:f_,extent:h_,mean:g_,median:p_,unique:m_,uniqueCount:v_,count:y_},w_={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ze("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return da.sum;if(Object.prototype.toString.call(r)==="[object Date]")return da.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return jo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:da[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function S_(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const __={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ze("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=M(n=>[rs(t,n)],n=>n.findIndex(r=>r.id===e.id),U(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=rs(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=rs(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=M(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return S_(i,n,r)},U(e.options,"debugTable"))}},fa=()=>({left:[],right:[]}),x_={getInitialState:e=>({columnPinning:fa(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ze("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,c;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((c=s==null?void 0:s.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},U(t.options,"debugRows")),e.getLeftVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),U(t.options,"debugRows")),e.getRightVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),U(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?fa():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:fa())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),U(e.options,"debugColumns")),e.getRightLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),U(e.options,"debugColumns")),e.getCenterLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},U(e.options,"debugColumns"))}};function k_(e){return e||(typeof document<"u"?document:null)}const ai={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ha=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),C_={getDefaultColumnDef:()=>ai,getInitialState:e=>({columnSizing:{},columnSizingInfo:ha(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ze("columnSizing",e),onColumnSizingInfoChange:ze("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:ai.minSize,(r=i??e.columnDef.size)!=null?r:ai.size),(s=e.columnDef.maxSize)!=null?s:ai.maxSize)},e.getStart=M(n=>[n,rs(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),U(t.options,"debugColumns")),e.getAfter=M(n=>[n,rs(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),U(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),ga(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=ga(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(v,m)=>{typeof m=="number"&&(t.setColumnSizingInfo(y=>{var x,_;const E=t.options.columnResizeDirection==="rtl"?-1:1,C=(m-((x=y==null?void 0:y.startOffset)!=null?x:0))*E,R=Math.max(C/((_=y==null?void 0:y.startSize)!=null?_:0),-.999999);return y.columnSizingStart.forEach(P=>{let[j,L]=P;u[j]=Math.round(Math.max(L+L*R,0)*100)/100}),{...y,deltaOffset:C,deltaPercentage:R}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(y=>({...y,...u})))},f=v=>c("move",v),g=v=>{c("end",v),t.setColumnSizingInfo(m=>({...m,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=k_(n),p={moveHandler:v=>f(v.clientX),upHandler:v=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),g(v.clientX)}},w={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var m;h==null||h.removeEventListener("touchmove",w.moveHandler),h==null||h.removeEventListener("touchend",w.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),g((m=v.touches[0])==null?void 0:m.clientX)}},k=E_()?{passive:!1}:!1;ga(i)?(h==null||h.addEventListener("touchmove",w.moveHandler,k),h==null||h.addEventListener("touchend",w.upHandler,k)):(h==null||h.addEventListener("mousemove",p.moveHandler,k),h==null||h.addEventListener("mouseup",p.upHandler,k)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?ha():(n=e.initialState.columnSizingInfo)!=null?n:ha())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let li=null;function E_(){if(typeof li=="boolean")return li;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return li=e,li}function ga(e){return e.type==="touchstart"}const j_={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ze("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=M(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),U(t.options,"debugRows")),e.getVisibleCells=M(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],U(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>M(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),U(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function rs(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const R_={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},P_={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ze("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>jt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return jo(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:jt[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},T_={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ze("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Tl=0,Nl=10,pa=()=>({pageIndex:Tl,pageSize:Nl}),N_={getInitialState:e=>({...e,pagination:{...pa(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ze("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Jt(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?pa():(s=e.initialState.pagination)!=null?s:pa())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Jt(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Tl:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Tl)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?Nl:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:Nl)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Jt(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Jt(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=M(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},U(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ma=()=>({top:[],bottom:[]}),b_={getInitialState:e=>({rowPinning:ma(),...e}),getDefaultOptions:e=>({onRowPinningChange:ze("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var f,g;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(w=>!(a!=null&&a.has(w))),bottom:[...((g=l==null?void 0:l.bottom)!=null?g:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(w=>!(a!=null&&a.has(w)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(w=>!(a!=null&&a.has(w))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(w=>!(a!=null&&a.has(w)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ma():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ma())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),U(e.options,"debugRows")),e.getBottomRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),U(e.options,"debugRows")),e.getCenterRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},U(e.options,"debugRows"))}},L_={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ze("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{bl(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=M(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?va(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getFilteredSelectedRowModel=M(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?va(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getGroupedSelectedRowModel=M(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?va(e,n):{rows:[],flatRows:[],rowsById:{}},U(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return bl(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Hu(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Ll(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Ll(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},bl=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>bl(e,a.id,n,r,s))};function va(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var u;const c=Hu(l,n);if(c&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),c)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Hu(e,t){var n;return(n=t[e.id])!=null?n:!1}function Ll(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Hu(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=Ll(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const $l=/([0-9]+)/gm,$_=(e,t,n)=>lp(un(e.getValue(n)).toLowerCase(),un(t.getValue(n)).toLowerCase()),A_=(e,t,n)=>lp(un(e.getValue(n)),un(t.getValue(n))),O_=(e,t,n)=>qu(un(e.getValue(n)).toLowerCase(),un(t.getValue(n)).toLowerCase()),I_=(e,t,n)=>qu(un(e.getValue(n)),un(t.getValue(n))),F_=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},D_=(e,t,n)=>qu(e.getValue(n),t.getValue(n));function qu(e,t){return e===t?0:e>t?1:-1}function un(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function lp(e,t){const n=e.split($l).filter(Boolean),r=t.split($l).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Dr={alphanumeric:$_,alphanumericCaseSensitive:A_,text:O_,textCaseSensitive:I_,datetime:F_,basic:D_},M_={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ze("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Dr.datetime;if(typeof i=="string"&&(r=!0,i.split($l).length>1))return Dr.alphanumeric}return r?Dr.text:Dr.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return jo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Dr[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(h=>h.id===e.id),l=o==null?void 0:o.findIndex(h=>h.id===e.id);let u=[],c,f=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(i||s||(c="remove")),c==="add"){var g;u=[...o,{id:e.id,desc:f}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:f}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},U_=[a_,j_,__,x_,l_,u_,R_,P_,M_,w_,T_,N_,b_,L_,C_];function z_(e){var t,n;const r=[...U_,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((g,h)=>Object.assign(g,h.getDefaultOptions==null?void 0:h.getDefaultOptions(s)),{}),o=g=>s.options.mergeOptions?s.options.mergeOptions(i,g):{...i,...g};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(g=>{var h;l=(h=g.getInitialState==null?void 0:g.getInitialState(l))!=null?h:l});const u=[];let c=!1;const f={_features:r,options:{...i,...e},initialState:l,_queue:g=>{u.push(g),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{s.setState(s.initialState)},setOptions:g=>{const h=Jt(g,s.options);s.options=o(h)},getState:()=>s.options.state,setState:g=>{s.options.onStateChange==null||s.options.onStateChange(g)},_getRowId:(g,h,p)=>{var w;return(w=s.options.getRowId==null?void 0:s.options.getRowId(g,h,p))!=null?w:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(g,h)=>{let p=(h?s.getPrePaginationRowModel():s.getRowModel()).rowsById[g];if(!p&&(p=s.getCoreRowModel().rowsById[g],!p))throw new Error;return p},_getDefaultColumnDef:M(()=>[s.options.defaultColumn],g=>{var h;return g=(h=g)!=null?h:{},{header:p=>{const w=p.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:p=>{var w,k;return(w=(k=p.renderValue())==null||k.toString==null?void 0:k.toString())!=null?w:null},...s._features.reduce((p,w)=>Object.assign(p,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...g}},U(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:M(()=>[s._getColumnDefs()],g=>{const h=function(p,w,k){return k===void 0&&(k=0),p.map(v=>{const m=o_(s,v,k,w),y=v;return m.columns=y.columns?h(y.columns,m,k+1):[],m})};return h(g)},U(e,"debugColumns")),getAllFlatColumns:M(()=>[s.getAllColumns()],g=>g.flatMap(h=>h.getFlatColumns()),U(e,"debugColumns")),_getAllFlatColumnsById:M(()=>[s.getAllFlatColumns()],g=>g.reduce((h,p)=>(h[p.id]=p,h),{}),U(e,"debugColumns")),getAllLeafColumns:M(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(g,h)=>{let p=g.flatMap(w=>w.getLeafColumns());return h(p)},U(e,"debugColumns")),getColumn:g=>s._getAllFlatColumnsById()[g]};Object.assign(s,f);for(let g=0;g<s._features.length;g++){const h=s._features[g];h==null||h.createTable==null||h.createTable(s)}return s}function V_(){return e=>M(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const c=Vu(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(s[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return a};return n.rows=r(t),n},U(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function B_(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function H_(e,t,n){return n.options.filterFromLeafRows?q_(e,t,n):G_(e,t,n)}function q_(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let g=0;g<l.length;g++){var f;let h=l[g];const p=Vu(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(f=h.subRows)!=null&&f.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),i[h.id]=h,s.push(h);continue}if(t(h)||p.subRows.length){c.push(h),i[h.id]=h,s.push(h);continue}}else h=p,t(h)&&(c.push(h),i[h.id]=h,s.push(h))}return c};return{rows:a(e),flatRows:s,rowsById:i}}function G_(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let g=0;g<l.length;g++){let h=l[g];if(t(h)){var f;if((f=h.subRows)!=null&&f.length&&u<o){const w=Vu(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);w.subRows=a(h.subRows,u+1),h=w}c.push(h),s.push(h),i[h.id]=h}}return c};return{rows:a(e),flatRows:s,rowsById:i}}function K_(){return e=>M(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(g=>{var h;const p=e.getColumn(g.id);if(!p)return;const w=p.getFilterFn();w&&s.push({id:g.id,filterFn:w,resolvedValue:(h=w.resolveFilterValue==null?void 0:w.resolveFilterValue(g.value))!=null?h:g.value})});const o=(n??[]).map(g=>g.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(g=>{var h;i.push({id:g.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let g=0;g<t.flatRows.length;g++){const h=t.flatRows[g];if(h.columnFilters={},s.length)for(let p=0;p<s.length;p++){u=s[p];const w=u.id;h.columnFilters[w]=u.filterFn(h,w,u.resolvedValue,k=>{h.columnFiltersMeta[w]=k})}if(i.length){for(let p=0;p<i.length;p++){c=i[p];const w=c.id;if(c.filterFn(h,w,c.resolvedValue,k=>{h.columnFiltersMeta[w]=k})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const f=g=>{for(let h=0;h<o.length;h++)if(g.columnFilters[o[h]]===!1)return!1;return!0};return H_(t.rows,f,e)},U(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function W_(e){return t=>M(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=s*i,c=u+s;o=o.slice(u,c);let f;t.options.paginateExpandedRows?f={rows:o,flatRows:a,rowsById:l}:f=B_({rows:o,flatRows:a,rowsById:l}),f.flatRows=[];const g=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(g)};return f.rows.forEach(g),f},U(t.options,"debugTable"))}function Q_(){return e=>M(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,f)=>{for(let h=0;h<i.length;h+=1){var g;const p=i[h],w=o[p.id],k=w.sortUndefined,v=(g=p==null?void 0:p.desc)!=null?g:!1;let m=0;if(k){const y=c.getValue(p.id),x=f.getValue(p.id),_=y===void 0,E=x===void 0;if(_||E){if(k==="first")return _?-1:1;if(k==="last")return _?1:-1;m=_&&E?0:_?k:-k}}if(m===0&&(m=w.sortingFn(c,f,p.id)),m!==0)return v&&(m*=-1),w.invertSorting&&(m*=-1),m}return c.index-f.index}),u.forEach(c=>{var f;s.push(c),(f=c.subRows)!=null&&f.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},U(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Td(e,t){return e?J_(e)?S.createElement(e,t):e:null}function J_(e){return Y_(e)||typeof e=="function"||X_(e)}function Y_(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function X_(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Z_(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:z_(t)})),[r,s]=S.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Ds=({data:e=[],columns:t=[],loading:n=!1,error:r=null,enablePagination:s=!0,serverSide:i=!1,onServerSideChange:o,totalCount:a=0,pageSize:l=10,pageIndex:u=0,sorting:c=[],globalFilter:f="",className:g=""})=>{const{t:h}=ae(),[p,w]=S.useState(c),[k,v]=S.useState(f),[m,y]=S.useState({pageIndex:u,pageSize:l}),x=E=>{i&&o&&o(E)},_=Z_({data:e,columns:t,getCoreRowModel:V_(),getSortedRowModel:Q_(),getPaginationRowModel:W_(),getFilteredRowModel:K_(),state:{sorting:p,globalFilter:k,pagination:m},onSortingChange:E=>{const C=typeof E=="function"?E(p):E;w(C),i&&x({sorting:C,pagination:m,globalFilter:k})},onGlobalFilterChange:E=>{if(v(E),i){const C={...m,pageIndex:0};y(C),x({sorting:p,pagination:C,globalFilter:E})}},onPaginationChange:E=>{const C=typeof E=="function"?E(m):E;y(C),i&&x({sorting:p,pagination:C,globalFilter:k})},manualSorting:i,manualFiltering:i,manualPagination:i,...i&&{rowCount:a}});return n?d.jsxs("div",{className:"data-table-loading",children:[d.jsx("div",{className:"loading-spinner"}),h("dataTable.loadingData")]}):r?d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:h("dataTable.failedToLoad")}),d.jsx("p",{className:"error-message",children:r})]}):d.jsxs("div",{className:`data-table ${g}`,children:[d.jsxs("div",{className:"data-table-controls",children:[d.jsx("div",{className:"search-container",children:d.jsx("input",{type:"text",placeholder:h("dataTable.searchPlaceholder"),value:k??"",onChange:E=>_.setGlobalFilter(E.target.value),className:"search-input"})}),d.jsx("div",{className:"table-info",children:i?d.jsx("span",{className:"table-stats",children:h("dataTable.showingEntries",{start:Math.min(m.pageIndex*m.pageSize+1,a),end:Math.min((m.pageIndex+1)*m.pageSize,a),total:a})}):d.jsx("span",{className:"table-stats",children:h("dataTable.showingCount",{count:_.getRowModel().rows.length,total:e.length})})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"data-table-element",children:[d.jsx("thead",{children:_.getHeaderGroups().map(E=>d.jsx("tr",{children:E.headers.map(C=>d.jsx("th",{className:"data-table-header",children:C.isPlaceholder?null:d.jsxs("div",{className:`header-content ${C.column.getCanSort()?"sortable":""}`,onClick:C.column.getToggleSortingHandler(),children:[Td(C.column.columnDef.header,C.getContext()),C.column.getCanSort()&&d.jsx("span",{className:"sort-indicator",children:{asc:" ",desc:" "}[C.column.getIsSorted()]??" "})]})},C.id))},E.id))}),d.jsx("tbody",{children:_.getRowModel().rows.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:t.length,className:"empty-row",children:d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-state-icon",children:""}),d.jsx("h3",{className:"empty-state-title",children:h("dataTable.noData")}),d.jsx("p",{className:"empty-state-description",children:h(k?"dataTable.noResults":"dataTable.noDataAvailable")})]})})}):_.getRowModel().rows.map(E=>d.jsx("tr",{className:"data-table-row",children:E.getVisibleCells().map(C=>d.jsx("td",{className:"data-table-cell",children:Td(C.column.columnDef.cell,C.getContext())},C.id))},E.id))})]})}),s&&d.jsxs("div",{className:"pagination-controls",children:[d.jsx("div",{className:"pagination-info",children:d.jsx("span",{children:h("dataTable.pageInfo",{current:_.getState().pagination.pageIndex+1,total:_.getPageCount()})})}),d.jsxs("div",{className:"pagination-buttons",children:[d.jsx("button",{onClick:()=>_.setPageIndex(0),disabled:!_.getCanPreviousPage(),className:"pagination-btn",children:""}),d.jsx("button",{onClick:()=>_.previousPage(),disabled:!_.getCanPreviousPage(),className:"pagination-btn",children:""}),d.jsx("button",{onClick:()=>_.nextPage(),disabled:!_.getCanNextPage(),className:"pagination-btn",children:""}),d.jsx("button",{onClick:()=>_.setPageIndex(_.getPageCount()-1),disabled:!_.getCanNextPage(),className:"pagination-btn",children:""})]}),d.jsx("div",{className:"page-size-selector",children:d.jsx("select",{value:_.getState().pagination.pageSize,onChange:E=>{_.setPageSize(Number(E.target.value))},className:"page-size-select",children:[10,25,50,100].map(E=>d.jsx("option",{value:E,children:h("dataTable.showSize",{size:E})},E))})})]})]})};function ex(){const{supabase:e}=ge(),{t}=ae(),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,a]=S.useState(null),[l,u]=S.useState(0),[c,f]=S.useState({pageIndex:0,pageSize:10}),[g,h]=S.useState([{id:"check_in",desc:!0}]),[p,w]=S.useState("");S.useEffect(()=>{k()},[c,g,p]);const k=async()=>{try{i(!0),a(null);let _=e.from("reservations").select("*",{count:"exact"});if(p&&(_=_.or(`guest_name.ilike.%${p}%,listing_id.ilike.%${p}%,status.ilike.%${p}%`)),g.length>0){const L=g[0];L&&(_=_.order(L.id,{ascending:!L.desc}))}const E=c.pageIndex*c.pageSize,C=E+c.pageSize-1;_=_.range(E,C);const{data:R,error:P,count:j}=await _.overrideTypes();if(P)throw P;r(R||[]),u(j||0)}catch(_){a(_ instanceof Error?_.message:String(_)),console.error("Error fetching reservations:",_)}finally{i(!1)}},v=_=>{_.pagination&&f(_.pagination),_.sorting!==void 0&&h(_.sorting),_.globalFilter!==void 0&&w(_.globalFilter)},m=_=>_?new Date(_).toLocaleDateString():t("columns.na"),y=_=>_?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_):t("columns.na"),x=S.useMemo(()=>[{accessorKey:"id",header:t("columns.id"),cell:({getValue:_})=>{const E=_();return d.jsxs("span",{className:"reservation-id",title:E,children:[E.substring(0,8),"..."]})},enableSorting:!1},{accessorKey:"guest_name",header:t("reservations.guest"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"listing_id",header:t("reservations.property"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"check_in",header:t("reservations.checkIn"),cell:({getValue:_})=>m(_())},{accessorKey:"check_out",header:t("reservations.checkOut"),cell:({getValue:_})=>m(_())},{accessorKey:"nights",header:t("reservations.nights"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"party_size",header:t("reservations.guests"),cell:({getValue:_})=>_()||t("columns.na")},{accessorKey:"status",header:t("columns.status"),cell:({getValue:_})=>{const E=_();return d.jsx("span",{className:`status-badge status-${E}`,children:E})}},{accessorKey:"pricing_guest_total",header:t("reservations.total"),cell:({getValue:_})=>d.jsx("span",{className:"currency",children:y(_())})},{accessorKey:"pricing_host_payout",header:t("reservations.hostPayout"),cell:({getValue:_})=>d.jsx("span",{className:"currency",children:y(_())})}],[m,y,t]);return d.jsx("div",{className:"admin-reservations",children:d.jsx(Ds,{data:n,columns:x,loading:s,error:o,serverSide:!0,onServerSideChange:v,totalCount:l,pageSize:c.pageSize,pageIndex:c.pageIndex,sorting:g,globalFilter:p,className:"reservations-data-table"})})}const ya=["unassigned","assigned","accepted","in_progress","completed","admin_accepted","cancelled"],tx={unassigned:["assigned"],assigned:["accepted","in_progress","unassigned"],accepted:["assigned","in_progress"],in_progress:["completed","assigned"],completed:["admin_accepted"],admin_accepted:[],cancelled:["assigned"]};class nx{constructor(t,n){Po(this,"supabase");Po(this,"user");this.supabase=t,this.user=n}validateTaskUpdate(t){const n=[];t.status&&!ya.includes(t.status)&&n.push(`Invalid status: ${t.status}`),["started_at","finished_at","accepted_at","completed_at","assigned_at","admin_accepted_at","scheduled_datetime"].forEach(a=>{if(t[a]&&t[a]!==null){const l=new Date(t[a]);isNaN(l.getTime())&&n.push(`Invalid date format for ${a}: ${t[a]}`)}});const s=["assigned_to","assigned_by"],i=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,o=typeof jest<"u"||typeof process<"u"&&!1;if(s.forEach(a=>{t[a]&&t[a]!==null&&(!o&&!i.test(t[a])?n.push(`Invalid UUID format for ${a}: ${t[a]}`):o&&typeof t[a]!="string"&&n.push(`Invalid ID format for ${a}: ${t[a]}`))}),n.length>0)throw new Error(`Validation errors: ${n.join(", ")}`)}validateStatusTransition(t,n){var r;if(!((r=tx[t])!=null&&r.includes(n)))throw new Error(`Invalid status transition from ${t} to ${n}`)}async getTask(t){try{const{data:n,error:r}=await this.supabase.from("tasks").select("*").eq("id",t).single();if(r)throw r.code==="PGRST116"?new Error("Task not found"):r;return n}catch(n){throw console.error("Error fetching task:",n),n}}async updateTaskField(t,n,r,s={}){const i={[n]:r};try{this.validateTaskUpdate(i)}catch(o){throw new Error(`Invalid update: ${o instanceof Error?o.message:String(o)}`)}try{const{error:o}=await this.supabase.from("tasks").update(i).eq("id",t);if(o)throw o;return{success:!0}}catch(o){throw console.error(`Error updating task ${n}:`,o),o}}async updateTaskFields(t,n){try{this.validateTaskUpdate(n)}catch(r){throw new Error(`Invalid updates: ${r instanceof Error?r.message:String(r)}`)}try{const{error:r}=await this.supabase.from("tasks").update(n).eq("id",t);if(r)throw r;return{success:!0}}catch(r){throw console.error("Error updating task fields:",r),r}}async updateTaskStatus(t,n,r={}){const s={status:n,...r};switch(n){case"accepted":s.accepted_at=new Date().toISOString();break;case"completed":s.completed_at=new Date().toISOString();break;case"admin_accepted":s.admin_accepted_at=new Date().toISOString();break;case"assigned":r.clearAccepted&&(s.accepted_at=null);break}return this.updateTaskFields(t,s)}async updateTaskTimes(t,{started_at:n,finished_at:r}){const s={};if(n!==void 0&&(s.started_at=n),r!==void 0&&(s.finished_at=r),n&&r&&new Date(r)<=new Date(n))throw new Error("Finish time must be after start time");return this.updateTaskFields(t,s)}async updateTaskAssignment(t,n,r=null){const s={assigned_to:n,assigned_at:n?new Date().toISOString():null};return r&&(s.assigned_by=r),this.updateTaskFields(t,s)}async queryTasks(t={}){var a;const{filterByUser:n=!1,pagination:r={pageIndex:0,pageSize:10},sorting:s=[{id:"scheduled_datetime",desc:!1}],globalFilter:i="",additionalFilters:o={}}=t;try{let l=this.supabase.from("tasks").select("*",{count:"exact"});if(n&&((a=this.user)!=null&&a.id)&&(l=l.eq("assigned_to",this.user.id)),Object.entries(o).forEach(([p,w])=>{w!=null&&(l=l.eq(p,w))}),i&&(l=l.or(`title.ilike.%${i}%,description.ilike.%${i}%,task_type.ilike.%${i}%,status.ilike.%${i}%`)),s.length>0){const p=s[0];p&&(l=l.order(p.id,{ascending:!p.desc}))}const u=r.pageIndex*r.pageSize,c=u+r.pageSize-1;l=l.range(u,c);const{data:f,error:g,count:h}=await l;if(g)throw g;return{tasks:f||[],totalCount:h||0}}catch(l){throw console.error("Error querying tasks:",l),l}}async createTask(t){try{this.validateTaskUpdate(t)}catch(n){throw new Error(`Invalid task data: ${n instanceof Error?n.message:String(n)}`)}try{const{data:n,error:r}=await this.supabase.from("tasks").insert([t]).select().single();if(r)throw r;return n}catch(n){throw console.error("Error creating task:",n),n}}async deleteTask(t){try{const{error:n}=await this.supabase.from("tasks").delete().eq("id",t);if(n)throw n;return{success:!0}}catch(n){throw console.error("Error deleting task:",n),n}}async getTasksCountByStatus(t=!1){var n;try{let r=this.supabase.from("tasks").select("status",{count:"exact"});t&&((n=this.user)!=null&&n.id)&&(r=r.eq("assigned_to",this.user.id));const{data:s,error:i}=await r;if(i)throw i;const o={};return ya.forEach(a=>{o[a]=0}),s==null||s.forEach(a=>{o.hasOwnProperty(a.status)&&ya.includes(a.status)&&o[a.status]++}),o}catch(r){throw console.error("Error getting task counts:",r),r}}async getOverdueTasks(t=!1){var n;try{let r=this.supabase.from("tasks").select("*").lt("scheduled_datetime",new Date().toISOString()).not("status","eq","completed").not("status","eq","admin_accepted").not("status","eq","cancelled");t&&((n=this.user)!=null&&n.id)&&(r=r.eq("assigned_to",this.user.id));const{data:s,error:i}=await r;if(i)throw i;return s||[]}catch(r){throw console.error("Error getting overdue tasks:",r),r}}async getUpcomingTasks(t=!1){var n;try{const r=new Date,s=new Date(r.getTime()+24*60*60*1e3);let i=this.supabase.from("tasks").select("*").gte("scheduled_datetime",r.toISOString()).lt("scheduled_datetime",s.toISOString()).not("status","eq","completed").not("status","eq","admin_accepted").not("status","eq","cancelled");t&&((n=this.user)!=null&&n.id)&&(i=i.eq("assigned_to",this.user.id));const{data:o,error:a}=await i;if(a)throw a;return o||[]}catch(r){throw console.error("Error getting upcoming tasks:",r),r}}async getTaskAuditTrail(t){try{const{data:n,error:r}=await this.supabase.from("audit_log").select("*").eq("table_name","tasks").eq("record_id",t).order("changed_at",{ascending:!1});if(r)throw r;if(!n||n.length===0)return[];const s=[...new Set(n.map(a=>a.changed_by).filter(Boolean))];let i={};if(s.length>0){const{data:a,error:l}=await this.supabase.from("user_profiles").select("id, name, email").in("id",s);l?console.warn("Error fetching user profiles:",l):i=(a||[]).reduce((u,c)=>(u[c.id]=c,u),{})}return n.map(a=>{var l,u;return{...a,changed_by_name:(l=i[a.changed_by])==null?void 0:l.name,changed_by_email:(u=i[a.changed_by])==null?void 0:u.email}})}catch(n){throw console.error("Error fetching task audit trail:",n),n}}}const up=(e,t)=>new nx(e,t),cp=(e=!1)=>{const{supabase:t,user:n}=ge(),r=S.useMemo(()=>up(t,n),[t,n]),[s,i]=S.useState([]),[o,a]=S.useState(!0),[l,u]=S.useState(null),[c,f]=S.useState(0),[g,h]=S.useState({pageIndex:0,pageSize:10}),[p,w]=S.useState([{id:"scheduled_datetime",desc:!1}]),[k,v]=S.useState(""),m=S.useCallback(async()=>{if(!(e&&!(n!=null&&n.id)))try{a(!0),u(null);const C=await r.queryTasks({filterByUser:e,pagination:g,sorting:p,globalFilter:k});i(C.tasks),f(C.totalCount)}catch(C){const R=C instanceof Error?C.message:String(C);u(R),console.error("Error fetching tasks:",C)}finally{a(!1)}},[r,e,g,p,k,n==null?void 0:n.id]);S.useEffect(()=>{m()},[m]);const y=S.useCallback(C=>{C.pagination&&h(C.pagination),C.sorting!==void 0&&w(C.sorting),C.globalFilter!==void 0&&v(C.globalFilter)},[]),x=S.useCallback(async(C,R)=>{try{await r.updateTaskStatus(C,R),await m()}catch(P){console.error("Error updating task status:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m]),_=S.useCallback(async(C,R)=>{try{await r.updateTaskAssignment(C,R,n==null?void 0:n.id),await m()}catch(P){console.error("Error updating task assignment:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m,n==null?void 0:n.id]),E=S.useCallback(async(C,R)=>{try{await r.updateTaskTimes(C,R),await m()}catch(P){console.error("Error updating task times:",P);const j=P instanceof Error?P.message:String(P);throw u(j),P}},[r,m]);return{tasks:s,loading:o,error:l,totalCount:c,pagination:g,sorting:p,globalFilter:k,handleServerSideChange:y,updateTaskStatus:x,updateTaskAssignment:_,updateTaskTimes:E,refetchTasks:m}},Yt=e=>e?new Date(e).toLocaleString():"N/A",rx=e=>e?new Date(e).toLocaleDateString():"N/A",sx=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"N/A",wa=(e,t=8)=>e?`${e.substring(0,t)}...`:"N/A",ix=(e,t=100)=>e?e.length>t?`${e.substring(0,t)}...`:e:"N/A",ox=()=>{const{supabase:e}=ge(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[i,o]=S.useState(null);S.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0),o(null);const{data:l,error:u}=await e.from("roles").select("user_id").eq("role","cleaner").order("created_at");if(u)throw u;if(!l||l.length===0){n([]);return}const{data:c,error:f}=await e.from("user_profiles").select("id, name, email").in("id",l.map(h=>h.user_id));if(f)throw f;const g=(c==null?void 0:c.map(h=>({id:h.id,name:h.name||h.email||`User ${h.id.substring(0,8)}...`,email:h.email})))||[];n(g)}catch(l){console.error("Error fetching cleaners:",l),o(l.message),n([])}finally{s(!1)}};return{cleaners:t,loading:r,error:i,refetch:a}};function dp({currentAssignedTo:e,taskId:t,onAssignmentChange:n,disabled:r=!1}){const{t:s}=ae(),{cleaners:i,loading:o}=ox(),[a,l]=S.useState(!1),u=async f=>{const g=f.target.value||null;if(g!==e){l(!0);try{await n(t,g)}catch(h){console.error("Assignment change failed:",h),f.target.value=e||""}finally{l(!1)}}},c=()=>{if(!e)return s("assignment.unassigned");const f=i.find(g=>g.id===e);return f?f.name:`${s("assignment.unknown")} (${e.substring(0,8)}...)`};return o?d.jsx("span",{className:"loading-text",children:s("assignment.loading")}):d.jsxs("select",{value:e||"",onChange:u,disabled:r||a,className:`assignment-dropdown ${a?"updating":""}`,title:`Currently assigned to: ${c()}`,children:[d.jsx("option",{value:"",children:s("assignment.unassigned")}),i.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})}const fp=()=>{const{t:e}=ae(),t=S.useMemo(()=>({id:{accessorKey:"id",header:e("columns.id"),cell:({getValue:a})=>{const l=a();return d.jsx("span",{className:"reservation-id",title:l,children:wa(l)})},enableSorting:!1},title:{accessorKey:"title",header:e("columns.title"),cell:({getValue:a})=>a()||e("columns.na")},taskTitle:{accessorKey:"title",header:e("columns.task"),cell:({getValue:a})=>a()||e("columns.na")},taskType:{accessorKey:"task_type",header:e("columns.type"),cell:({getValue:a})=>sx(a())},status:{accessorKey:"status",header:e("columns.status"),cell:({getValue:a})=>{const l=a();return d.jsx("span",{className:`status-badge status-${l}`,children:e(`statuses.${l}`)})}},description:{accessorKey:"description",header:e("columns.description"),cell:({getValue:a})=>ix(a())},listingId:{accessorKey:"listing_id",header:e("columns.listing"),cell:({getValue:a})=>a()||e("columns.na")},reservationId:{accessorKey:"reservation_id",header:e("columns.reservation"),cell:({getValue:a})=>{const l=a();return l?d.jsx("span",{className:"reservation-id",title:l,children:wa(l)}):e("columns.na")}},scheduledDateTime:{accessorKey:"scheduled_datetime",header:e("columns.scheduled"),cell:({getValue:a})=>Yt(a())},assignedTo:{accessorKey:"assigned_to",header:e("columns.assignedTo"),cell:({getValue:a})=>{const l=a();return l?d.jsx("span",{className:"reservation-id",title:l,children:wa(l)}):e("statuses.unassigned")}},assignedAt:{accessorKey:"assigned_at",header:e("columns.assignedAt"),cell:({getValue:a})=>Yt(a())},acceptedAt:{accessorKey:"accepted_at",header:e("columns.acceptedAt"),cell:({getValue:a})=>Yt(a())},completedAt:{accessorKey:"completed_at",header:e("columns.completedAt"),cell:({getValue:a})=>Yt(a())},createdAt:{accessorKey:"created_at",header:e("columns.created"),cell:({getValue:a})=>rx(a())}}),[e]),n=S.useMemo(()=>a=>({accessorKey:"assigned_to",header:e("columns.assignedTo"),cell:({getValue:l,row:u})=>{const c=l(),f=u.original;return d.jsx(dp,{currentAssignedTo:c,taskId:f.id,onAssignmentChange:a})},enableSorting:!1}),[e]),r=S.useMemo(()=>()=>({accessorKey:"actions",header:e("tasks.actions"),cell:({row:a})=>{const l=a.original,u=()=>{window.location.href=`/tasks/${l.id}`};return d.jsx("div",{className:"task-actions",children:d.jsx("button",{className:"btn-view",onClick:u,children:e("columns.view")})})},enableSorting:!1}),[e]),s=S.useMemo(()=>(a,l)=>({accessorKey:"actions",header:e("tasks.actions"),cell:({row:u})=>{const c=u.original,f=c.status==="assigned",g=c.status==="accepted",h=c.status==="in_progress",p=c.status==="accepted",w=()=>{window.location.href=`/tasks/${c.id}`},k=async()=>{l?await l(c.id,{started_at:new Date().toISOString()}):a(c.id,"in_progress")},v=async()=>{l?await l(c.id,{finished_at:new Date().toISOString()}):a(c.id,"completed")};return d.jsxs("div",{className:"task-actions",children:[d.jsx("button",{className:"btn-view",onClick:w,children:e("columns.view")}),f&&d.jsx("button",{className:"btn-accept",onClick:()=>a(c.id,"accepted"),children:e("columns.accept")}),g&&d.jsx("button",{className:"btn-start",onClick:k,children:e("columns.start")}),h&&d.jsx("button",{className:"btn-complete",onClick:v,children:e("columns.complete")}),p&&d.jsx("button",{className:"btn-cancel",onClick:()=>a(c.id,"assigned"),children:e("columns.cancel")})]})},enableSorting:!1}),[e]),i=S.useMemo(()=>a=>{const l=t;return[l.id,l.title,l.taskType,l.status,l.listingId,l.reservationId,l.scheduledDateTime,n(a),l.assignedAt,l.acceptedAt,l.completedAt,l.createdAt,r()]},[t,n,r]),o=S.useMemo(()=>(a,l)=>{const u=t;return[u.scheduledDateTime,u.listingId,u.taskType,u.status,s(a,l)]},[t,s]);return{getAdminColumns:i,getCleanerColumns:o}};function ax(){const{t:e}=ae(),{tasks:t,loading:n,error:r,totalCount:s,pagination:i,sorting:o,globalFilter:a,handleServerSideChange:l,updateTaskAssignment:u}=cp(!1),{getAdminColumns:c}=fp(),f=S.useMemo(()=>c(u),[c,u]);return d.jsxs("div",{className:"admin-reservations",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("tasks.management")}),d.jsx("p",{className:"admin-stats",children:n?e("tasks.loading"):e("tasks.totalTasks",{count:s})})]}),d.jsx(Ds,{data:t,columns:f,loading:n,error:r,serverSide:!0,onServerSideChange:l,totalCount:s,pageSize:i.pageSize,pageIndex:i.pageIndex,sorting:o,globalFilter:a,className:"tasks-data-table"})]})}const lx=["Vinagre","Oxigeno activo","CIF","Multiusos Verde (Limpiacristales)","Soda Caustica/Desatascador","Papel Cocina","Agua oxigenada","Lejia blanqueadora","Detergente Blanqueador Oxi Active","Perfume Spray (perfumador diluido)","Ambientador palitos","Bolsas de basura amarillas","Balletas finitas","Balletas gorditas","Cafe capsulas","Detergente vajilla manos","Esponjas cocina","Sal lavavajillas","Pastillas lavavajillas","Servilletas","Jabon de manos recargable","Bolsas basura bao","Detergente ropa","Suavizante ropa","Papel Higienico","Shampoo","Acondicionador","Botella para Shampoo","Botella para Acondicionador","Cubo","Escurridor","Mopa","Fregona","Escoba","Recogedor (palita)","Palo escoba/fregona/mopa","Guantes","Pinzas de ropa","Fibrn Indeleble","Lapicero","Cinta transparente","Cinta de pintor","Pegamento","Silicona para juntas","Cenicero","Vasos","Cubiertos","Platos grandes","Platos chicos","Bowls","Esponja de alambre/acero","Esponja magica paredes","Agua","Insecticida hormigas y cucarachas","Bajera Grande","Funda Edredon Grande","Funda Almohada","Bajera Pequea","Funda Edredon Pequea","Manta playa","Felpudo bao","Mantel","Repasadores (toalla cocina)"],ux=(e,t=10)=>{if(!e||e.length<2)return[];const n=e.toLowerCase();return lx.filter(r=>r.toLowerCase().includes(n)).slice(0,t)},Mr={general:{name:"General",products:["Vinagre","Oxigeno activo","CIF","Multiusos Verde (Limpiacristales)","Soda Caustica/Desatascador","Papel Cocina"]},lavado_ropa:{name:"Lavado Ropa",products:["Agua oxigenada","Lejia blanqueadora","Detergente Blanqueador Oxi Active","Perfume Spray (perfumador diluido)"]},reposicion:{name:"Reposicin",products:["Ambientador palitos","Bolsas de basura amarillas","Balletas finitas","Balletas gorditas","Cafe capsulas","Detergente vajilla manos","Esponjas cocina","Sal lavavajillas","Pastillas lavavajillas","Servilletas"]},reposicion_bano:{name:"Reposicin Bao",products:["Jabon de manos recargable","Bolsas basura bao","Detergente ropa","Suavizante ropa","Papel Higienico","Shampoo","Acondicionador","Botella para Shampoo","Botella para Acondicionador"]},materiales_limpieza:{name:"Materiales Limpieza",products:["Cubo","Escurridor","Mopa","Fregona","Escoba","Recogedor (palita)","Palo escoba/fregona/mopa","Guantes","Pinzas de ropa"]},otros:{name:"Otros",products:["Fibrn Indeleble","Lapicero","Cinta transparente","Cinta de pintor","Pegamento","Silicona para juntas","Cenicero","Vasos","Cubiertos","Platos grandes","Platos chicos","Bowls","Esponja de alambre/acero","Esponja magica paredes","Agua","Insecticida hormigas y cucarachas"]},sabanas:{name:"Sbanas",products:["Bajera Grande","Funda Edredon Grande","Funda Almohada","Bajera Pequea","Funda Edredon Pequea","Manta playa","Felpudo bao","Mantel","Repasadores (toalla cocina)"]}};function hp({onTodoCreated:e,onCancel:t,attachedToType:n=null,attachedToId:r=null,title:s="Create New TODO"}){const{t:i}=ae(),{supabase:o,user:a}=ge(),[l,u]=S.useState({title:"",description:""}),[c,f]=S.useState(""),[g,h]=S.useState([]),[p,w]=S.useState([]),[k,v]=S.useState([]),[m,y]=S.useState(r||""),[x,_]=S.useState(!1),[E,C]=S.useState(!1),[R,P]=S.useState(null);S.useEffect(()=>{(async()=>{try{_(!0);const{data:H,error:T}=await o.from("listings").select("id, airbnb_payload").order("id");if(T)throw T;v(H||[])}catch(H){console.error("Error fetching listings:",H),P(i("todos.failedToLoad"))}finally{_(!1)}})()},[o]),S.useEffect(()=>{if(c.length>=2){const D=ux(c,8);h(D)}else h([])},[c]);const j=D=>{const{name:H,value:T}=D.target;u(F=>({...F,[H]:T}))},L=D=>{y(D.target.value)},O=D=>{const H=p.find(T=>T.product_name===D);w(H?T=>T.map(F=>F.product_name===D?{...F,quantity:F.quantity+1}:F):T=>[...T,{product_name:D,quantity:1}]),f(""),h([])},b=(D,H)=>{const T=parseInt(H);T<=0?I(D):w(F=>F.map($=>$.product_name===D?{...$,quantity:T}:$))},I=D=>{w(H=>H.filter(T=>T.product_name!==D))},Ee=async D=>{if(D.preventDefault(),!!a){C(!0),P(null);try{const H={created_by:a.id,title:l.title,description:l.description||null,products:p.length>0?p:null,attached_to_type:m?"listing":n,attached_to_id:m||r},{error:T}=await o.from("todos").insert([H]);if(T)throw T;e==null||e()}catch(H){console.error("Error creating todo:",H),P(H instanceof Error?H.message:i("notes.errorOccurred"))}finally{C(!1)}}};return d.jsxs("div",{className:"todo-form",children:[d.jsxs("div",{className:"todo-form-header",children:[d.jsx("h3",{children:s}),d.jsx("button",{type:"button",onClick:t,className:"btn-close",children:""})]}),R&&d.jsx("div",{className:"error-message",children:R}),d.jsxs("form",{onSubmit:Ee,className:"todo-form-content",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"title",children:i("todos.title")}),d.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:j,required:!0,placeholder:i("todos.titlePlaceholder"),className:"form-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"listing",children:i("todos.assignToListing")}),d.jsxs("select",{id:"listing",name:"listing",value:m,onChange:L,className:"form-select",disabled:x,children:[d.jsx("option",{value:"",children:i("todos.noListingAssignment")}),k.map(D=>{var H;return d.jsxs("option",{value:D.id,children:[D.id," -"," ",((H=D.airbnb_payload)==null?void 0:H.formattedAddress)||i("forms.noAddress")]},D.id)})]}),x&&d.jsx("small",{children:i("todos.loadingListings")})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"product_search",children:i("todos.products")}),d.jsxs("div",{className:"product-search-container",children:[d.jsx("input",{type:"text",id:"product_search",value:c,onChange:D=>f(D.target.value),placeholder:i("todos.searchProductsPlaceholder"),className:"form-input"}),g.length>0&&d.jsx("div",{className:"search-results",children:g.map((D,H)=>d.jsx("button",{type:"button",onClick:()=>O(D),className:"search-result-item",children:D},H))})]}),p.length>0&&d.jsxs("div",{className:"selected-products",children:[d.jsx("h4",{children:i("todos.selectedProducts")}),p.map((D,H)=>d.jsxs("div",{className:"selected-product",children:[d.jsx("span",{className:"product-name",children:D.product_name}),d.jsxs("div",{className:"product-controls",children:[d.jsx("input",{type:"number",min:"1",value:D.quantity,onChange:T=>b(D.product_name,T.target.value),className:"quantity-input"}),d.jsx("button",{type:"button",onClick:()=>I(D.product_name),className:"btn-remove",children:i("todos.remove")})]})]},H))]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:i("todos.description")}),d.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:j,rows:3,placeholder:i("todos.detailsPlaceholder"),className:"form-textarea"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:i("todos.cancel")}),d.jsx("button",{type:"submit",disabled:E,className:"btn-primary",children:E?i("todos.creating"):s})]})]})]})}class Rr{constructor(t){this.supabase=t}async fetchTodos(t){const{attachedToType:n,attachedToId:r,isAdmin:s,isCleaner:i,isDone:o}=t,a=i&&!s?"id, title, description, products, done, completed_at, completed_by, created_at, updated_at, attached_to_type, attached_to_id":"*";let l=this.supabase.from("todos").select(a);n&&r?l=l.eq("attached_to_type",n).eq("attached_to_id",r):n===null&&r===null&&(l=l.is("attached_to_type",null)),o!==void 0&&(l=l.eq("done",o));const{data:u,error:c}=await l.order("created_at",{ascending:!1}).overrideTypes();return{data:u||[],error:c}}async fetchNotes(t){const{attachedToType:n,attachedToId:r,isAdmin:s,isCleaner:i}=t,o=i&&!s?"id, content, created_at, attached_to_type, attached_to_id":"id, content, created_by, created_at, attached_to_type, attached_to_id";let a=this.supabase.from("notes").select(o);n&&r?a=a.eq("attached_to_type",n).eq("attached_to_id",r):n===null&&r===null&&(a=a.is("attached_to_type",null));const{data:l,error:u}=await a.order("created_at",{ascending:!0}).overrideTypes();if(l&&l.length>0&&s){const c=[...new Set(l.map(f=>f.created_by).filter(Boolean))];if(c.length>0){const{data:f}=await this.supabase.from("user_profiles").select("id, email, name").in("id",c);if(f){const g=new Map(f.map(h=>[h.id,h]));l.forEach(h=>{const p=g.get(h.created_by);p&&(h.user_email=p.email,h.user_name=p.name)})}}}return{data:l||[],error:u}}async updateTodoStatus(t,n,r){const s={done:n,updated_at:new Date().toISOString()};n?(s.completed_at=new Date().toISOString(),s.completed_by=r||null):(s.completed_at=null,s.completed_by=null);const{error:i}=await this.supabase.from("todos").update(s).eq("id",t);return{data:null,error:i}}async updateTodo(t,n){const{data:r,error:s}=await this.supabase.from("todos").update({...n,updated_at:new Date().toISOString()}).eq("id",t).select().single();return{data:r,error:s}}async deleteTodo(t){const{error:n}=await this.supabase.from("todos").delete().eq("id",t);return{data:null,error:n}}async deleteNote(t){const{error:n}=await this.supabase.from("notes").delete().eq("id",t);return{data:null,error:n}}async createTodo(t){const{data:n,error:r}=await this.supabase.from("todos").insert(t).select().single();return{data:n,error:r}}async createNote(t){const{data:n,error:r}=await this.supabase.from("notes").insert(t).select().single();return{data:n,error:r}}async getCurrentUser(){const{data:t,error:n}=await this.supabase.auth.getUser();return{data:t,error:n}}async fetchListings(){const{data:t,error:n}=await this.supabase.from("listings").select("id, airbnb_id, airbnb_payload, created_at, updated_at").order("id");return{data:t||[],error:n}}async fetchListing(t){const{data:n,error:r}=await this.supabase.from("listings").select("*").eq("id",t).single();return{data:n,error:r}}}function cx(){const{t:e}=ae(),{supabase:t,isAdmin:n}=ge(),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,l]=S.useState(null),[u,c]=S.useState(!1),[f,g]=S.useState("all"),h=new Rr(t),p=async()=>{try{o(!0),l(null);const{data:x,error:_}=await h.fetchTodos({isAdmin:!0,isCleaner:!1});if(_)throw _;let E=x||[];f==="done"?E=E.filter(C=>C.done):f==="pending"&&(E=E.filter(C=>!C.done)),s(E)}catch(x){console.error("Error fetching todos:",x),l(x instanceof Error?x.message:String(x))}finally{o(!1)}};S.useEffect(()=>{p()},[f]);const w=()=>{c(!1),p()},k=async(x,_)=>{var E;try{const{data:C}=await h.getCurrentUser(),R=(E=C==null?void 0:C.user)==null?void 0:E.id,{error:P}=await h.updateTodoStatus(x,_,R);if(P)throw P;p()}catch(C){console.error("Error updating todo status:",C),l(C instanceof Error?C.message:String(C))}},v=async x=>{if(confirm(e("todos.deleteConfirm")))try{const{error:_}=await h.deleteTodo(x);if(_)throw _;p()}catch(_){console.error("Error deleting todo:",_),l(_ instanceof Error?_.message:String(_))}},m=x=>x?"#10b981":"#6b7280",y=[{accessorKey:"title",header:e("columns.title"),cell:({getValue:x})=>d.jsx("span",{className:"font-medium",children:x()})},{accessorKey:"done",header:e("columns.status"),cell:({getValue:x,row:_})=>{const E=x();return d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:E,onChange:C=>k(_.original.id,C.target.checked),className:"rounded"}),d.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:m(E)},children:e(E?"todos.done":"todos.pending")})]})}},{accessorKey:"attached_to_type",header:e("todos.attachedTo"),cell:({getValue:x,row:_})=>{const E=x(),C=_.original.attached_to_id;return E?d.jsxs("span",{className:"text-sm",children:[E,": ",C]}):d.jsx("span",{className:"text-gray-500",children:e("todos.unattached")})}},{accessorKey:"created_at",header:e("columns.created"),cell:({getValue:x})=>d.jsx("span",{className:"text-sm",children:new Date(x()).toLocaleDateString()})},{id:"actions",header:e("columns.actions"),cell:({row:x})=>d.jsx("button",{onClick:()=>v(x.original.id),className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:e("todos.delete")})}];return n?d.jsxs("div",{className:"admin-todos",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("todos.allTodos")}),d.jsx("p",{className:"admin-stats",children:i?e("todos.loadingTodos"):e("todos.totalTodos",{count:r.length})})]}),d.jsxs("div",{className:"admin-controls",children:[d.jsxs("div",{className:"filter-controls",children:[d.jsx("label",{htmlFor:"status-filter",children:e("todos.filterByStatus")}),d.jsxs("select",{id:"status-filter",value:f,onChange:x=>g(x.target.value),className:"form-select",children:[d.jsx("option",{value:"all",children:e("todos.all")}),d.jsx("option",{value:"pending",children:e("todos.pending")}),d.jsx("option",{value:"done",children:e("todos.done")})]})]}),d.jsx("button",{onClick:()=>c(!0),className:"btn-primary",children:e("todos.createGeneral")})]}),a&&d.jsx("div",{className:"error-message",children:a}),u&&d.jsx("div",{className:"todo-form-overlay",children:d.jsx(hp,{title:e("todos.createGeneral"),onTodoCreated:w,onCancel:()=>c(!1)})}),d.jsx(Ds,{data:r,columns:y,loading:i,error:a,enablePagination:!0,className:"todos-data-table"})]}):d.jsx("div",{className:"admin-todos",children:d.jsx("div",{className:"error-message",children:e("todos.adminAccessRequired")})})}function dx(){const{t:e}=ae(),{supabase:t}=ge(),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,a]=S.useState(null),l=S.useMemo(()=>new Rr(t),[t]);S.useEffect(()=>{(async()=>{try{i(!0),a(null);const{data:f,error:g}=await l.fetchListings();if(g)throw g;r(f||[])}catch(f){console.error("Error fetching listings:",f),a(f.message)}finally{i(!1)}})()},[l]);const u=S.useMemo(()=>[{accessorKey:"id",header:e("columns.id"),cell:({getValue:c})=>{const f=c();return d.jsx(rt,{to:`/listing/${f}`,className:"listing-id-link",children:f})}},{accessorKey:"airbnb_payload.formattedAddress",header:e("listings.address"),cell:({getValue:c})=>c()||e("columns.na")}],[e]);return d.jsxs("div",{className:"listings",children:[d.jsxs("div",{className:"listings-header",children:[d.jsx("h1",{className:"listings-title",children:e("listings.title")}),d.jsx("p",{className:"listings-stats",children:s?e("listings.loadingListings"):e("listings.totalListings",{count:n.length})})]}),d.jsx(Ds,{data:n,columns:u,loading:s,error:o,enablePagination:!0,className:"listings-data-table"})]})}function fx(){const{user:e}=ge(),{t}=ae(),{tasks:n,loading:r,error:s,totalCount:i,pagination:o,sorting:a,globalFilter:l,handleServerSideChange:u,updateTaskStatus:c,updateTaskTimes:f}=cp(!0),{getCleanerColumns:g}=fp(),h=S.useMemo(()=>g(c,f),[g,c,f]);return e?d.jsxs("div",{className:"cleaner-tasks",children:[d.jsxs("div",{className:"cleaner-header",children:[d.jsx("h1",{className:"cleaner-title",children:t("tasks.myTasks")}),d.jsx("p",{className:"cleaner-stats",children:r?t("tasks.loading"):t("tasks.totalTasks",{count:i})})]}),d.jsx(Ds,{data:n,columns:h,loading:r,error:s,serverSide:!0,onServerSideChange:u,totalCount:i,pageSize:o.pageSize,pageIndex:o.pageIndex,sorting:a,globalFilter:l,className:"cleaner-tasks-data-table"})]}):d.jsx("div",{className:"cleaner-tasks",children:d.jsx("div",{className:"error-message",children:t("tasks.loginRequired")})})}function hx({taskId:e,taskService:t}){const{t:n}=ae(),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,l]=S.useState(null);S.useEffect(()=>{e&&t&&(async()=>{try{o(!0);const w=await t.getTaskAuditTrail(e);s(w)}catch(w){const k=w instanceof Error?w.message:String(w);l(k)}finally{o(!1)}})()},[e,t]);const u=p=>{switch(p){case"INSERT":return"";case"UPDATE":return"";case"DELETE":return"";default:return""}},c=p=>{switch(p){case"INSERT":return"audit-insert";case"UPDATE":return"audit-update";case"DELETE":return"audit-delete";default:return"audit-default"}},f=(p,w,k)=>!k||k.length===0?null:k.map(v=>{const m=p==null?void 0:p[v],y=w==null?void 0:w[v];return{field:v,oldValue:m!==void 0?m:null,newValue:y!==void 0?y:null}}).filter(v=>v.oldValue!==v.newValue),g=p=>{if(p==null)return"null";if(typeof p=="string"&&p.includes("T"))try{return Yt(p)}catch{return p}return String(p)},h=p=>{var w;return p.changed_by?p.changed_by_name?p.changed_by_name:p.changed_by_email?((w=p.changed_by_email)==null?void 0:w.split("@")[0])||"":n("audit.unknownUser"):n("audit.system")};return i?d.jsxs("div",{className:"audit-trail-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:n("audit.loading")})]}):a?d.jsx("div",{className:"audit-trail-error",children:d.jsx("p",{className:"error-message",children:a})}):r.length===0?d.jsx("div",{className:"audit-trail-empty",children:d.jsx("p",{children:n("audit.noHistory")})}):d.jsx("div",{className:"audit-trail-list",children:r.map((p,w)=>{var k;return d.jsxs("div",{className:`audit-entry ${c(p.action_type||"UPDATE")}`,children:[d.jsxs("div",{className:"audit-entry-header",children:[d.jsx("div",{className:"audit-entry-icon",children:u(p.action_type||"UPDATE")}),d.jsxs("div",{className:"audit-entry-info",children:[d.jsxs("div",{className:"audit-entry-action",children:[d.jsx("span",{className:"action-type",children:p.action_type}),d.jsx("span",{className:"action-time",children:Yt(p.changed_at)})]}),d.jsxs("div",{className:"audit-entry-user",children:[n("audit.by")," ",h(p)]})]})]}),d.jsxs("div",{className:"audit-entry-content",children:[p.action_type==="UPDATE"&&p.old_values&&p.new_values&&d.jsxs("div",{className:"audit-entry-values",children:[d.jsxs("span",{className:"values-label",children:[n("audit.valuesChanged"),":"]}),d.jsx("div",{className:"values-list",children:(k=f(p.old_values,p.new_values,p.changed_fields))==null?void 0:k.map((v,m)=>d.jsxs("div",{className:"value-item",children:[d.jsxs("span",{className:"field-name",children:[v.field,":"]}),d.jsxs("span",{className:"value-change",children:[d.jsx("span",{className:"old-value",children:g(v.oldValue)}),d.jsx("span",{className:"arrow",children:""}),d.jsx("span",{className:"new-value",children:g(v.newValue)})]})]},m))})]}),p.context&&Object.keys(p.context).length>0&&d.jsxs("div",{className:"audit-entry-context",children:[d.jsxs("span",{className:"context-label",children:[n("audit.context"),":"]}),d.jsx("pre",{className:"context-data",children:JSON.stringify(p.context,null,2)})]})]}),w<r.length-1&&d.jsx("div",{className:"audit-entry-connector"})]},p.id)})})}function gp({attachedToType:e=null,attachedToId:t=null,title:n="TODOs",showCreateButton:r=!0,showAttachmentInfo:s=!1}){const{supabase:i,isAdmin:o,isCleaner:a}=ge(),[l,u]=S.useState([]),[c,f]=S.useState(!0),[g,h]=S.useState(null),[p,w]=S.useState(!1),k=new Rr(i),v=async()=>{try{f(!0),h(null);const{data:C,error:R}=await k.fetchTodos({attachedToType:e,attachedToId:t,isAdmin:o,isCleaner:a,isDone:!1});if(R)throw R;u(C||[])}catch(C){console.error("Error fetching todos:",C);const R=C instanceof Error?C.message:String(C);h(R)}finally{f(!1)}};S.useEffect(()=>{v()},[e,t]);const m=()=>{w(!1),v()},y=async(C,R)=>{var P;try{const{data:j}=await k.getCurrentUser(),L=(P=j==null?void 0:j.user)==null?void 0:P.id,{error:O}=await k.updateTodoStatus(C,R,L);if(O)throw O;v()}catch(j){console.error("Error updating todo status:",j),h(j instanceof Error?j.message:String(j))}},x=async C=>{if(o&&confirm("Are you sure you want to delete this TODO?"))try{const{error:R}=await k.deleteTodo(C);if(R)throw R;v()}catch(R){console.error("Error deleting todo:",R),h(R instanceof Error?R.message:String(R))}},_=C=>C?"status-completed":"status-pending",E=C=>C.attached_to_type?`${C.attached_to_type}: ${C.attached_to_id}`:"Unattached";return c?d.jsx("div",{className:"todo-list",children:d.jsx("div",{className:"loading",children:"Loading TODOs..."})}):d.jsxs("div",{className:"todo-list",children:[d.jsxs("div",{className:"todos-header",children:[d.jsx("h3",{children:n}),r&&(o||a)&&!p&&d.jsx("button",{onClick:()=>w(!0),className:"btn-primary btn-sm",children:"Add TODO"})]}),g&&d.jsx("div",{className:"error-message",children:g}),p&&d.jsx("div",{className:"todo-form-overlay",children:d.jsx(hp,{attachedToType:e,attachedToId:t,onTodoCreated:m,onCancel:()=>w(!1)})}),l.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No TODOs found."})}):d.jsx("div",{className:"todos-list",children:l.map(C=>d.jsxs("div",{className:`todo-item ${_(C.done)}`,children:[d.jsxs("div",{className:"todo-header",children:[d.jsxs("div",{className:"todo-title-row",children:[d.jsx("h4",{className:"todo-title",children:C.title}),d.jsx("div",{className:"todo-badges",children:d.jsx("span",{className:`status-badge ${_(C.done)}`,children:C.done?"Done":"Pending"})})]}),d.jsxs("div",{className:"todo-meta",children:[d.jsxs("span",{className:"todo-date",children:["Created: ",new Date(C.created_at).toLocaleDateString()]}),C.completed_at&&d.jsxs("span",{className:"todo-completed-date",children:["Completed:"," ",new Date(C.completed_at).toLocaleDateString()]}),s&&d.jsxs("span",{className:"todo-attachment",children:["Attached to: ",E(C)]})]})]}),C.description&&d.jsx("p",{className:"todo-description",children:C.description}),C.products&&C.products.length>0&&d.jsxs("div",{className:"todo-products",children:[d.jsx("h5",{children:"Products needed:"}),d.jsx("ul",{className:"products-list",children:C.products.map((R,P)=>d.jsxs("li",{className:"product-item",children:[d.jsx("span",{className:"product-name",children:R.product_name}),d.jsxs("span",{className:"product-quantity",children:["",R.quantity]})]},P))})]}),d.jsxs("div",{className:"todo-actions",children:[o&&d.jsxs("label",{className:"todo-checkbox",children:[d.jsx("input",{type:"checkbox",checked:C.done,onChange:R=>y(C.id,R.target.checked)}),"Mark as done"]}),o&&d.jsx("button",{onClick:()=>x(C.id),className:"btn-danger btn-sm",children:"Delete"})]})]},C.id))})]})}function gx({listingId:e,onTodoUpdated:t}){const{supabase:n,user:r}=ge(),s=S.useMemo(()=>new Rr(n),[n]),[i,o]=S.useState([]),[a,l]=S.useState({}),[u,c]=S.useState(null),[f,g]=S.useState(!1),[h,p]=S.useState(null),[w,k]=S.useState(new Set(Object.keys(Mr))),[v,m]=S.useState(new Set);S.useEffect(()=>{const j=[],L={};Object.entries(Mr).forEach(([O,b])=>{b.products.forEach(I=>{j.push({name:I,category:O}),L[I]=0})}),o(j),l(L)},[]),S.useEffect(()=>{e&&(async()=>{try{g(!0);const{data:L,error:O}=await s.fetchTodos({attachedToType:"listing",attachedToId:e,isAdmin:!0,isCleaner:!0});if(O)throw O;const b=L==null?void 0:L.find(I=>I.title.startsWith("[AUTO]")&&I.attached_to_type==="listing"&&I.attached_to_id===e&&!I.done);b&&(c(b),b.products&&l(I=>{const Ee={...I};return b.products.forEach(D=>{Ee[D.product_name]=D.quantity}),Ee}))}catch(L){console.error("Error fetching existing todo:",L),p(L instanceof Error?L.message:String(L))}finally{g(!1)}})()},[e,s]);const y=j=>Object.entries(j).filter(([,L])=>L>0).map(([L,O])=>({product_name:L,quantity:O})),x=async(j,L)=>{if(!r)return;const O=y(j);try{if(u)if(O.length===0){const{error:b}=await s.deleteTodo(u.id);if(b)throw b;c(null),t==null||t(null)}else{const{data:b,error:I}=await s.updateTodo(u.id,{products:O});if(I)throw I;b&&c(b)}else if(O.length>0){const{data:b,error:I}=await s.createTodo({created_by:r.id,title:`[AUTO] Product Replenishment ${new Date().toLocaleDateString()}`,description:"Auto-generated todo for product replenishment",products:O,attached_to_type:"listing",attached_to_id:e});if(I)throw I;b&&c(b),t==null||t(b||null)}}finally{L&&m(b=>{const I=new Set(b);return I.delete(L),I})}},_=S.useCallback(j=>{const L=window.scrollY;m(O=>new Set(O).add(j)),l(O=>{const b={...O,[j]:(O[j]||0)+1};return x(b,j).catch(console.error),b}),setTimeout(()=>{window.scrollTo(0,L)},0)},[x]),E=S.useCallback(j=>{const L=window.scrollY;m(O=>new Set(O).add(j)),l(O=>{const b=Math.max(0,(O[j]||0)-1),I={...O,[j]:b};return x(I,j).catch(console.error),I}),setTimeout(()=>{window.scrollTo(0,L)},0)},[x]),C=j=>{k(L=>{const O=new Set(L);return O.has(j)?O.delete(j):O.add(j),O})},R=S.useMemo(()=>i.filter(j=>w.has(j.category)),[i,w]),P=S.useMemo(()=>{const j={};return Object.keys(Mr).forEach(L=>{j[L]=[]}),R.forEach(L=>{const O=L.category;j[O]||(j[O]=[]),j[O].push(L)}),j},[R]);return f?d.jsx("div",{className:"todo-creation-helper",children:d.jsx("div",{className:"loading",children:"Loading products..."})}):d.jsxs("div",{className:"todo-creation-helper",children:[h&&d.jsx("div",{className:"error-message",children:h}),d.jsx("div",{className:"category-toggles",children:d.jsx("div",{className:"category-checkboxes",children:Object.entries(Mr).map(([j,L])=>d.jsxs("label",{className:"category-checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:w.has(j),onChange:()=>C(j),className:"category-checkbox"}),d.jsx("span",{className:"category-checkbox-text",children:L.name})]},j))})}),d.jsx("div",{className:"products-by-category",children:Object.entries(P).map(([j,L])=>d.jsxs("div",{className:"category-section",children:[d.jsx("h4",{className:"category-title",children:(()=>{const O=Mr[j];return O?O.name:j})()}),d.jsx("div",{className:"products-grid",children:L.map(O=>d.jsxs("div",{className:`product-block ${(a[O.name]||0)>0?"has-quantity":""} ${v.has(O.name)?"updating":""}`,children:[v.has(O.name)&&d.jsx("div",{className:"product-loading-overlay",children:d.jsx("div",{className:"spinner"})}),d.jsx("div",{className:"product-name",children:O.name}),d.jsxs("div",{className:"product-controls",children:[d.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),b.stopPropagation(),E(O.name)},className:"quantity-btn quantity-btn-minus",disabled:(a[O.name]||0)===0||v.has(O.name),children:"-"}),d.jsx("span",{className:"quantity-display",children:a[O.name]||0}),d.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),b.stopPropagation(),_(O.name)},className:"quantity-btn quantity-btn-plus",disabled:v.has(O.name),children:"+"})]})]},O.name))})]},j))}),u&&d.jsx("div",{className:"existing-todo-info",children:d.jsx("span",{className:"info-text",children:"Auto-generated todo exists for this listing"})})]})}function Al({attachedToType:e=null,attachedToId:t=null,title:n="Notes",showAttachmentInfo:r=!1}){const{t:s}=ae(),{user:i,supabase:o,isAdmin:a,isCleaner:l}=ge(),[u,c]=S.useState([]),[f,g]=S.useState(!0),[h,p]=S.useState(null),[w,k]=S.useState(""),[v,m]=S.useState(!1),y=S.useRef(null),x=S.useRef(null),_=new Rr(o),E=async()=>{try{g(!0),p(null);const{data:b,error:I}=await _.fetchNotes({attachedToType:e,attachedToId:t,isAdmin:a,isCleaner:l});if(I)throw I;c(b||[])}catch(b){console.error("Error fetching notes:",b);const I=b instanceof Error?b.message:String(b);p(I)}finally{g(!1)}},C=()=>{var b;(b=y.current)==null||b.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{E()},[e,t]);const R=async b=>{if(!(!i||!b.trim())){m(!0),p(null);try{const I={content:b.trim(),attached_to_type:e,attached_to_id:t},{error:Ee}=await _.createNote(I);if(Ee)throw Ee;k(""),E(),setTimeout(()=>C(),100)}catch(I){console.error("Error creating note:",I),p(I instanceof Error?I.message:String(I))}finally{m(!1)}}},P=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),w.trim()&&!v&&R(w))},j=b=>{b.preventDefault(),w.trim()&&!v&&R(w)},L=async b=>{if(a&&confirm(s("notes.deleteConfirm")))try{const{error:I}=await _.deleteNote(b);if(I)throw I;E()}catch(I){console.error("Error deleting note:",I),p(I instanceof Error?I.message:String(I))}},O=b=>b.attached_to_type?`${b.attached_to_type}: ${b.attached_to_id}`:s("todos.unattached");return f?d.jsx("div",{className:"note-list",children:d.jsx("div",{className:"loading",children:s("notes.loadingNotes")})}):d.jsxs("div",{className:"chat-container",children:[n&&d.jsx("div",{className:"chat-header",children:d.jsx("h3",{children:n})}),d.jsxs("div",{className:"chat-messages",children:[f&&d.jsx("div",{className:"chat-loading",children:s("notes.loadingNotes")}),!f&&u.length===0&&d.jsx("div",{className:"chat-empty",children:d.jsx("p",{children:s("notes.noNotesYet")})}),u.map(b=>d.jsxs("div",{className:"chat-message",children:[d.jsxs("div",{className:"message-header",children:[d.jsx("span",{className:"message-author",children:b.user_name||b.user_email||s("notes.unknownUser")}),d.jsx("span",{className:"message-time",children:new Date(b.created_at).toLocaleString()}),a&&d.jsx("button",{onClick:()=>L(b.id),className:"message-delete",title:s("notes.deleteNote"),children:""})]}),d.jsx("div",{className:"message-content",children:b.content}),r&&d.jsxs("div",{className:"message-attachment",children:[s("notes.attachedToLabel"),O(b)]})]},b.id)),d.jsx("div",{ref:y})]}),(a||l)&&d.jsxs("div",{className:"chat-input-container",children:[h&&d.jsx("div",{className:"chat-error",children:h}),d.jsxs("form",{onSubmit:j,className:"chat-input-form",children:[d.jsx("textarea",{ref:x,value:w,onChange:b=>k(b.target.value),onKeyPress:P,placeholder:s("notes.typePlaceholder"),className:"chat-input",rows:1,disabled:v}),d.jsx("button",{type:"submit",disabled:!w.trim()||v,className:"chat-send-btn",children:s(v?"notes.sending":"notes.send")})]})]})]})}function px(){const{id:e}=mg(),t=bu(),{supabase:n,user:r,isAdmin:s}=ge(),{t:i}=ae(),o=S.useMemo(()=>up(n,r),[n,r]),[a,l]=S.useState(null),[u,c]=S.useState(!0),[f,g]=S.useState(null),[h,p]=S.useState(null),[w,k]=S.useState(""),[v,m]=S.useState(!1),[y,x]=S.useState("chat"),[_,E]=S.useState(!0),[C,R]=S.useState(!0),[P,j]=S.useState(!0),L=S.useCallback(async()=>{try{if(!e)return;c(!0);const $=await o.getTask(e);l($)}catch($){g($.message)}finally{c(!1)}},[o,e]);S.useEffect(()=>{r&&e&&L()},[L,r,e]);const O=()=>{t(-1)},b=$=>`status-badge status-${$}`,I=S.useCallback(async($,z)=>{if(a)try{if(c(!0),$==="started_at"||$==="finished_at"){const K={[$]:z};await o.updateTaskTimes(a.id,K)}else await o.updateTaskField(a.id,$,z);await L(),p(null)}catch(K){g(K.message)}finally{c(!1)}},[o,a==null?void 0:a.id,L]),Ee=S.useCallback(async $=>{if(a)try{c(!0),await o.updateTaskStatus(a.id,$),await L()}catch(z){g(z.message)}finally{c(!1)}},[o,a==null?void 0:a.id,L]),D=S.useCallback(async($,z)=>{try{c(!0),await o.updateTaskAssignment($,z,r==null?void 0:r.id),await L()}catch(K){throw g(K.message),K}finally{c(!1)}},[o,r==null?void 0:r.id,L]),H=S.useCallback(($,z)=>{p($),k(z||"")},[]),T=S.useCallback(()=>{p(null),k("")},[]),F=({field:$,value:z,type:K="text"})=>{if(!a)return null;const He=h===$,Dt=!($==="started_at"||$==="finished_at")||a.status!=="assigned"&&a.status!=="unassigned",St=a.status!=="admin_accepted"||s;return He?d.jsxs("div",{className:"time-edit-container",children:[d.jsx("input",{type:K,value:w,onChange:On=>k(On.target.value),className:"time-input"}),d.jsx("button",{onClick:()=>I($,w),className:"btn-save",disabled:u,children:i("columns.save")}),d.jsx("button",{onClick:T,className:"btn-cancel",disabled:u,children:i("columns.cancel")})]}):d.jsxs("div",{className:"time-display-container",children:[d.jsx("span",{children:z?Yt(z):i("tasks.notSet")}),Dt&&St&&d.jsx("button",{onClick:()=>H($,z?z.slice(0,16):""),className:"btn-edit",disabled:u,children:i("columns.edit")})]})};return u?d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-loading",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:i("tasks.loadingDetails")})]})}):f?d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-error",children:[d.jsx("h2",{children:i("tasks.errorLoading")}),d.jsx("p",{children:f}),d.jsx("button",{onClick:O,className:"btn-primary",children:i("tasks.goBack")})]})}):a?d.jsxs("div",{className:"task-detail",children:[d.jsxs("div",{className:"task-detail-header",children:[d.jsxs("button",{onClick:O,className:"btn-back",children:[" ",i("tasks.back")]}),d.jsx("h1",{className:"task-detail-title",children:i("tasks.details")})]}),d.jsxs("div",{className:"task-detail-content",children:[d.jsxs("div",{className:"task-detail-section",children:[d.jsx("h2",{className:"section-title",children:i("tasks.information")}),d.jsxs("div",{className:"task-info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.titleLabel")}),d.jsx("span",{children:a.title||i("columns.na")})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.statusLabel")}),d.jsx("span",{className:b(a.status),children:a.status})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.scheduledLabel")}),d.jsx("span",{children:Yt(a.scheduled_datetime)})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.listingIdLabel")}),d.jsx("span",{children:a.listing_id||i("columns.na")})]}),s&&d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.assignedToLabel")}),d.jsx(dp,{currentAssignedTo:a.assigned_to,taskId:a.id,onAssignmentChange:D,disabled:u})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.startedAtLabel")}),d.jsx(F,{field:"started_at",value:a.started_at,type:"datetime-local"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:i("taskDetail.finishedAtLabel")}),d.jsx(F,{field:"finished_at",value:a.finished_at,type:"datetime-local"})]})]})]}),d.jsx("div",{className:"task-detail-section",children:d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:i("tasks.actions")}),d.jsxs("div",{className:"section-actions",children:[a.status==="admin_accepted"&&d.jsxs("div",{className:"admin-accepted-notice",children:[d.jsx("span",{className:"status-badge status-admin_accepted",children:i("tasks.acceptedByAdmin")}),d.jsx("p",{children:i("tasks.noFurtherEdits")})]}),a.status==="assigned"&&d.jsx("button",{onClick:()=>Ee("accepted"),className:"btn-start",disabled:u,children:i("tasks.acceptTask")}),a.status==="accepted"&&d.jsx("button",{onClick:()=>I("started_at",new Date().toISOString()),className:"btn-start",disabled:u,children:i("tasks.startTask")}),a.status==="in_progress"&&!a.finished_at&&d.jsx("button",{onClick:()=>I("finished_at",new Date().toISOString()),className:"btn-end",disabled:u,children:i("tasks.completeTask")}),s&&a.status==="completed"&&d.jsx("div",{className:"admin-review-actions",children:d.jsx("button",{onClick:()=>Ee("admin_accepted"),className:"btn-accept",disabled:u,children:i("tasks.acceptCompletion")})})]})]})}),d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>j(!P),className:"section-toggle","aria-label":i(P?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${P?"expanded":""}`,children:""}),d.jsx("span",{className:"section-title",children:"Product Replenishment Helper"})]})}),P&&a.listing_id&&d.jsx(gx,{listingId:a.listing_id})]}),a.listing_id&&d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>R(!C),className:"section-toggle","aria-label":i(C?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${C?"expanded":""}`,children:""}),d.jsx("span",{className:"section-title",children:i("listings.listingTodos")})]})}),C&&d.jsx(gp,{attachedToType:"listing",attachedToId:a.listing_id,title:""})]}),d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>E(!_),className:"section-toggle","aria-label":i(_?"collapse_section":"expand_section"),children:[d.jsx("span",{className:`expand-icon ${_?"expanded":""}`,children:""}),d.jsx("span",{className:"section-title",children:i("listings.listingChat")})]})}),_&&d.jsxs("div",{className:"tabbed-container",children:[d.jsx("div",{className:"tab-header",children:d.jsxs("div",{className:"tab-nav",children:[d.jsx("button",{className:`tab-button ${y==="chat"?"active":""}`,onClick:()=>x("chat"),children:i("taskDetail.taskTab")}),d.jsx("button",{className:`tab-button ${y==="listing"?"active":""}`,onClick:()=>x("listing"),children:i("taskDetail.listingTab")})]})}),d.jsx("div",{className:"tab-content",children:y==="chat"?d.jsx(Al,{attachedToType:"task",attachedToId:a.id,title:""}):a.listing_id&&d.jsx(Al,{attachedToType:"listing",attachedToId:a.listing_id,title:""})})]})]}),s&&d.jsxs("div",{className:"task-detail-section",children:[d.jsx("div",{className:"section-header",children:d.jsxs("button",{onClick:()=>m(!v),className:"section-toggle","aria-label":i(v?"taskDetail.collapseAudit":"taskDetail.expandAudit"),children:[d.jsx("span",{className:`toggle-icon ${v?"expanded":"collapsed"}`,children:""}),d.jsx("h2",{className:"section-title",children:i("audit.history")})]})}),v&&d.jsx("div",{className:"audit-trail-container",children:d.jsx(hx,{taskId:a.id,taskService:o})})]})]})]}):d.jsx("div",{className:"task-detail",children:d.jsxs("div",{className:"task-detail-not-found",children:[d.jsx("h2",{children:i("tasks.notFound")}),d.jsx("p",{children:i("tasks.notFoundDescription")}),d.jsx("button",{onClick:O,className:"btn-primary",children:i("tasks.goBack")})]})})}function mx(){const{t:e}=ae(),{id:t}=mg(),{supabase:n}=ge(),[r,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(null);if(S.useEffect(()=>{(async()=>{if(t)try{o(!0),l(null);const f=new Rr(n),{data:g,error:h}=await f.fetchListing(t);if(h)throw h;s(g)}catch(f){console.error("Error fetching listing:",f),l(f instanceof Error?f.message:String(f))}finally{o(!1)}})()},[t,n]),i)return d.jsxs("div",{className:"listing-detail-loading",children:[d.jsx("div",{className:"loading-spinner","data-testid":"loading-spinner"}),e("listings.loadingDetails")]});if(a)return d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:e("listings.failedToLoad")}),d.jsx("p",{className:"error-message",children:a})]});if(!r)return d.jsxs("div",{className:"error",children:[d.jsx("h3",{className:"error-title",children:e("listings.notFound")}),d.jsxs("p",{className:"error-message",children:['The listing with ID "',t,'" was not found.']})]});const u=r.airbnb_payload||{};return d.jsxs("div",{className:"listing-detail",children:[d.jsxs("div",{className:"listing-detail-header",children:[d.jsx("h1",{className:"listing-detail-title",children:e("listings.details")}),d.jsxs("div",{className:"listing-detail-subtitle",children:["ID: ",r.id]})]}),d.jsxs("div",{className:"listing-detail-content",children:[d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.basicInformation")}),d.jsxs("div",{className:"listing-detail-grid",children:[d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.listingId"),":"]}),d.jsx("span",{children:r.id})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.airbnbId"),":"]}),d.jsx("span",{children:r.airbnb_id})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.address"),":"]}),d.jsx("span",{children:u.formattedAddress||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.propertyType"),":"]}),d.jsx("span",{children:u.propertyType||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.roomType"),":"]}),d.jsx("span",{children:u.roomType||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.bedrooms"),":"]}),d.jsx("span",{children:u.bedrooms||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.bathrooms"),":"]}),d.jsx("span",{children:u.bathrooms||e("columns.na")})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.maxGuests"),":"]}),d.jsx("span",{children:u.maxGuests||e("columns.na")})]})]})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.dates")}),d.jsxs("div",{className:"listing-detail-grid",children:[d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.created"),":"]}),d.jsx("span",{children:new Date(r.created_at).toLocaleString()})]}),d.jsxs("div",{className:"listing-detail-item",children:[d.jsxs("label",{children:[e("listings.updated"),":"]}),d.jsx("span",{children:new Date(r.updated_at).toLocaleString()})]})]})]}),u.amenities&&u.amenities.length>0&&d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.amenities")}),d.jsx("div",{className:"amenities-list",children:u.amenities.map((c,f)=>d.jsx("span",{className:"amenity-tag",children:c},f))})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.listingTodos")}),d.jsx(gp,{attachedToType:"listing",attachedToId:r.id,title:""})]}),d.jsxs("div",{className:"listing-detail-section",children:[d.jsx("h2",{children:e("listings.listingChat")}),d.jsx(Al,{attachedToType:"listing",attachedToId:r.id,title:""})]})]})]})}const vx=()=>{var u,c,f;const{t:e}=ae(),[t,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(null),{user:a,getAccessToken:l}=ge();return S.useEffect(()=>{a&&(async()=>{try{s(!0),o(null);const h=await l();if(!h)throw new Error(e("auth.noAccessToken"));const p=Wg(),w={Authorization:`Bearer ${h}`,"Content-Type":"application/json"},k=`${p}/functions/v1/health`,v=await fetch(k,{headers:w});if(!v.ok)throw v.status===401?new Error(e("auth.authenticationFailed")):new Error(`HTTP error! status: ${v.status}`);const m=await v.json();n(m)}catch(h){o(h instanceof Error?h.message:"An error occurred"),console.error("Health check error:",h)}finally{s(!1)}})()},[a,l]),r?d.jsxs("div",{className:"loading",children:[d.jsx("div",{className:"loading-spinner"}),e("healthCheck.loading")]}):i?d.jsxs("div",{className:"error",children:[d.jsx("h2",{className:"error-title",children:e("healthCheck.failed")}),d.jsx("p",{className:"error-message",children:i}),i.includes("Authentication failed")&&d.jsx("button",{onClick:()=>window.location.reload(),className:"google-signin-btn",style:{marginTop:"var(--space-4)"},children:e("healthCheck.reloadPage")})]}):d.jsxs("div",{className:"admin-reservations",children:[d.jsxs("div",{className:"admin-header",children:[d.jsx("h1",{className:"admin-title",children:e("healthCheck.title")}),d.jsx("p",{className:"admin-stats",children:e("healthCheck.monitoring")})]}),t&&d.jsxs("div",{style:{padding:"var(--space-6)"},children:[d.jsxs("div",{style:{display:"grid",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.overallStatus")}),d.jsx("span",{className:`status-badge status-${t.status==="ok"?"confirmed":"cancelled"}`,children:t.status==="ok"?e("healthCheck.healthy"):e("healthCheck.error")})]}),t.user&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.authenticatedUser")}),d.jsx("span",{style:{color:"var(--graphite-900)"},children:t.user.email})]}),((u=t.checks)==null?void 0:u.database)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.database")}),d.jsxs("div",{style:{textAlign:"right"},children:[d.jsx("span",{className:`status-badge status-${t.checks.database.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.database.status==="ok"?e("healthCheck.connected"):e("healthCheck.error")}),t.checks.database.version&&d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--graphite-500)",marginTop:"var(--space-1)"},children:[e("system.version"),t.checks.database.version]})]})]}),((c=t.checks)==null?void 0:c.supabase)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.supabaseApi")}),d.jsx("span",{className:`status-badge status-${t.checks.supabase.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.supabase.status==="ok"?e("healthCheck.connected"):e("healthCheck.error")})]}),((f=t.checks)==null?void 0:f.environment)&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-4)",backgroundColor:"var(--graphite-50)",borderRadius:"var(--radius-lg)",border:"1px solid var(--graphite-200)"},children:[d.jsx("strong",{style:{color:"var(--graphite-700)"},children:e("system.environment")}),d.jsx("span",{className:`status-badge status-${t.checks.environment.status==="ok"?"confirmed":"cancelled"}`,children:t.checks.environment.status==="ok"?e("healthCheck.configured"):e("healthCheck.error")})]})]}),d.jsxs("div",{style:{textAlign:"center",color:"var(--graphite-500)",fontSize:"0.875rem",fontStyle:"italic",paddingTop:"var(--space-4)",borderTop:"1px solid var(--graphite-200)"},children:[e("system.lastChecked"),new Date(t.timestamp).toLocaleString()]})]})]})},yx=()=>{const{currentLanguage:e,changeLanguage:t}=t_(),n=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""}];return d.jsx("div",{className:"language-selector",children:d.jsx("select",{value:e,onChange:r=>t(r.target.value),className:"language-select",children:n.map(r=>d.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})})},_t=()=>{const e=hn(),{user:t,signOut:n,isAdmin:r,isCleaner:s}=ge(),{t:i}=ae(),o=async()=>{try{await n()}catch(a){console.error("Sign out error:",a)}};return d.jsx("nav",{className:"navigation",children:d.jsxs("div",{className:"nav-content",children:[d.jsx(rt,{to:"/",className:"nav-brand",children:i("navigation.brand")}),d.jsxs("div",{className:"nav-links",children:[d.jsx(rt,{to:"/",className:`nav-link ${e.pathname==="/"?"active":""}`,children:i("navigation.dashboard")}),r&&d.jsx(rt,{to:"/healthcheck",className:`nav-link ${e.pathname==="/healthcheck"?"active":""}`,children:i("navigation.healthCheck")}),r&&d.jsx(rt,{to:"/listings",className:`nav-link ${e.pathname==="/listings"?"active":""}`,children:i("navigation.listings")}),r&&d.jsxs(d.Fragment,{children:[d.jsx(rt,{to:"/admin",className:`nav-link ${e.pathname==="/admin"?"active":""}`,children:i("navigation.reservations")}),d.jsx(rt,{to:"/admin/tasks",className:`nav-link ${e.pathname==="/admin/tasks"?"active":""}`,children:i("navigation.tasks")}),d.jsx(rt,{to:"/admin/todos",className:`nav-link ${e.pathname==="/admin/todos"?"active":""}`,children:i("navigation.todos")})]}),s&&d.jsx(rt,{to:"/cleaner/tasks",className:`nav-link ${e.pathname==="/cleaner/tasks"?"active":""}`,children:i("navigation.myTasks")})]}),d.jsxs("div",{className:"nav-user",children:[d.jsx("span",{className:"user-email",children:t==null?void 0:t.email}),r&&d.jsx("span",{className:"admin-badge",children:i("navigation.adminBadge")}),s&&d.jsx("span",{className:"cleaner-badge",children:i("navigation.cleanerBadge")}),d.jsx(yx,{}),d.jsx("button",{onClick:o,className:"signout-btn",children:i("navigation.signOut")})]})]})})},wx=()=>{const{t:e}=ae(),[t,n]=S.useState(!0),[r,s]=S.useState(null),i=bu(),{supabase:o}=ge();return S.useEffect(()=>{(async()=>{try{console.log("Handling auth callback..."),console.log("URL:",window.location.href);const l=new URLSearchParams(window.location.search);if(l.has("code")||l.has("access_token")||l.has("refresh_token")){console.log("Found auth parameters in URL, processing..."),await new Promise(g=>setTimeout(g,1e3));const{data:c,error:f}=await o.auth.getSession();if(f){console.error("Auth callback error:",f),s(f.message),n(!1);return}c.session?(console.log("Auth successful, redirecting to home..."),i("/",{replace:!0})):(console.log("No session found, redirecting to login..."),i("/",{replace:!0}))}else{console.log("No auth parameters, checking existing session...");const{data:c,error:f}=await o.auth.getSession();if(f){console.error("Auth callback error:",f),s(f.message),n(!1);return}c.session?(console.log("Existing session found, redirecting to home..."),i("/",{replace:!0})):(console.log("No session found, redirecting to login..."),i("/",{replace:!0}))}}catch(l){console.error("Unexpected error in auth callback:",l),s(e("auth.unexpectedError")),n(!1)}})()},[o,i,e]),t?d.jsx("div",{className:"container",children:d.jsx("div",{className:"card",children:d.jsxs("div",{className:"loading",children:[d.jsx("h2",{children:e("auth.authenticating")}),d.jsx("p",{children:e("auth.pleaseWait")})]})})}):r?d.jsx("div",{className:"container",children:d.jsx("div",{className:"card",children:d.jsxs("div",{className:"error",children:[d.jsx("h2",{children:e("auth.authenticationError")}),d.jsx("p",{children:r}),d.jsx("button",{onClick:()=>i("/",{replace:!0}),children:e("auth.returnToLogin")})]})})}):null},Sx=()=>{const{t:e}=ae();return d.jsxs("div",{className:"content-container",children:[d.jsxs("div",{className:"page-header",children:[d.jsx("h1",{className:"page-title",children:e("dashboard.title")}),d.jsx("p",{className:"page-subtitle",children:e("dashboard.welcome")})]}),d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-state-icon",children:""}),d.jsx("h2",{className:"empty-state-title",children:e("dashboard.comingSoon")}),d.jsx("p",{className:"empty-state-description",children:e("dashboard.comingSoonDescription")})]})]})},V=e=>typeof e=="string",Ur=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},Nd=e=>e==null?"":""+e,_x=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},xx=/###/g,bd=e=>e&&e.indexOf("###")>-1?e.replace(xx,"."):e,Ld=e=>!e||V(e),ss=(e,t,n)=>{const r=V(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(Ld(e))return{};const i=bd(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return Ld(e)?{}:{obj:e,k:bd(r[s])}},$d=(e,t,n)=>{const{obj:r,k:s}=ss(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),a=ss(e,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=ss(e,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},kx=(e,t,n,r)=>{const{obj:s,k:i}=ss(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Yi=(e,t)=>{const{obj:n,k:r}=ss(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Cx=(e,t,n)=>{const r=Yi(e,n);return r!==void 0?r:Yi(t,n)},pp=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?V(e[r])||e[r]instanceof String||V(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):pp(e[r],t[r],n):e[r]=t[r]);return e},Bn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ex={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jx=e=>V(e)?e.replace(/[&<>"'\/]/g,t=>Ex[t]):e;class Rx{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Px=[" ",",","?","!",";"],Tx=new Rx(20),Nx=(e,t,n)=>{t=t||"",n=n||"";const r=Px.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=Tx.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},Ol=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Es=e=>e==null?void 0:e.replace("_","-"),bx={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Xi{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||bx,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(V(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Xi(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Xi(this.logger,t)}}var gt=new Xi;class Ro{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[t,...n])})}}class Ad extends Ro{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var u,c;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):V(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Yi(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!V(r)?l:Ol((c=(u=this.data)==null?void 0:u[t])==null?void 0:c[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),s=n,n=a[1]),this.addNamespaces(n),$d(this.data,a,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(V(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Yi(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?pp(l,r,i):l={...l,...r},$d(this.data,a,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var mp={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,n,r,s))??t}),t}};const Od={},Id=e=>!V(e)&&typeof e!="boolean"&&typeof e!="number";class Zi extends Ro{constructor(t,n={}){super(),_x(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Nx(t,r,s);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:V(i)?[i]:i};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(s)}return{key:t,namespaces:V(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],s),u=l[l.length-1];let c=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const f=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return g?i?{res:`${u}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${c}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:a;const h=this.resolve(t,s);let p=h==null?void 0:h.res;const w=(h==null?void 0:h.usedKey)||a,k=(h==null?void 0:h.exactUsedKey)||a,v=["[object Number]","[object Function]","[object RegExp]"],m=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!V(s.count),_=Zi.hasDefaultValue(s),E=x?this.pluralResolver.getSuffix(f,s.count,s):"",C=s.ordinal&&x?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",R=x&&!s.ordinal&&s.count===0,P=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${C}`]||s.defaultValue;let j=p;y&&!p&&_&&(j=P);const L=Id(j),O=Object.prototype.toString.apply(j);if(y&&j&&L&&v.indexOf(O)<0&&!(V(m)&&Array.isArray(j))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,j,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=b,h.usedParams=this.getUsedParamsDetails(s),h):b}if(o){const b=Array.isArray(j),I=b?[]:{},Ee=b?k:w;for(const D in j)if(Object.prototype.hasOwnProperty.call(j,D)){const H=`${Ee}${o}${D}`;_&&!p?I[D]=this.translate(H,{...s,defaultValue:Id(P)?P[D]:void 0,joinArrays:!1,ns:l}):I[D]=this.translate(H,{...s,joinArrays:!1,ns:l}),I[D]===H&&(I[D]=j[D])}p=I}}else if(y&&V(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,t,s,r));else{let b=!1,I=!1;!this.isValidLookup(p)&&_&&(b=!0,p=P),this.isValidLookup(p)||(I=!0,p=a);const D=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:p,H=_&&P!==p&&this.options.updateMissing;if(I||b||H){if(this.logger.log(H?"updateKey":"missingKey",f,u,a,H?P:p),o){const z=this.resolve(a,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let z=0;z<F.length;z++)T.push(F[z]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(s.lng||this.language):T.push(s.lng||this.language);const $=(z,K,He)=>{var Dt;const Xe=_&&He!==p?He:D;this.options.missingKeyHandler?this.options.missingKeyHandler(z,u,K,Xe,H,s):(Dt=this.backendConnector)!=null&&Dt.saveMissing&&this.backendConnector.saveMissing(z,u,K,Xe,H,s),this.emit("missingKey",z,u,K,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?T.forEach(z=>{const K=this.pluralResolver.getSuffixes(z,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(He=>{$([z],a+He,s[`defaultValue${He}`]||P)})}):$(T,a,P))}p=this.extendTranslation(p,t,s,h,r),I&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${u}${c}${a}`),(I||b)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${a}`:a,b?p:void 0,s))}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(s),h):p}extendTranslation(t,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=V(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const h=t.match(this.interpolator.nestingRegexp);f=h&&h.length}let g=r.replace&&!V(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,r.lng||this.language||s.usedLng,r),c){const h=t.match(this.interpolator.nestingRegexp),p=h&&h.length;f<p&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...h)=>(i==null?void 0:i[0])===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=V(o)?[o]:o;return t!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(t=mp.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,o,a;return V(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=n.count!==void 0&&!V(n.count),h=g&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(V(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(k=>{var v,m;this.isValidLookup(r)||(a=k,!Od[`${w[0]}-${k}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(a))&&(Od[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(y=>{var E;if(this.isValidLookup(r))return;o=y;const x=[c];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,y,k,n);else{let C;g&&(C=this.pluralResolver.getSuffix(y,n.count,n));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(n.ordinal&&C.indexOf(P)===0&&x.push(c+C.replace(P,this.options.pluralSeparator)),x.push(c+C),h&&x.push(c+R)),p){const j=`${c}${this.options.contextSeparator||"_"}${n.context}`;x.push(j),g&&(n.ordinal&&C.indexOf(P)===0&&x.push(j+C.replace(P,this.options.pluralSeparator)),x.push(j+C),h&&x.push(j+R))}}let _;for(;_=x.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(y,k,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!V(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class Fd{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gt.create("languageUtils")}getScriptPartFromCode(t){if(t=Es(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Es(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(V(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),V(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return V(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):V(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Dd={zero:0,one:1,two:2,few:3,many:4,other:5},Md={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Lx{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=gt.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Es(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Md;if(!t.match(/-|_/))return Md;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Dd[s]-Dd[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Ud=(e,t,n,r=".",s=!0)=>{let i=Cx(e,t,n);return!i&&s&&V(n)&&(i=Ol(e,n,r),i===void 0&&(i=Ol(t,n,r))),i},Sa=e=>e.replace(/\$/g,"$$$$");class $x{constructor(t={}){var n;this.logger=gt.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:v,alwaysFormat:m}=t.interpolation;this.escape=n!==void 0?n:jx,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Bn(i):o||"{{",this.suffix=a?Bn(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=g?Bn(g):h||Bn("$t("),this.nestingSuffix=p?Bn(p):w||Bn(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=v||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var h;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Ud(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...n,interpolationkey:p}):m}const w=p.split(this.formatSeparator),k=w.shift().trim(),v=w.join(this.formatSeparator).trim();return this.format(Ud(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...s,...n,interpolationkey:k})};this.resetRegExp();const c=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((h=s==null?void 0:s.interpolation)==null?void 0:h.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Sa(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Sa(this.escape(p)):Sa(p)}].forEach(p=>{for(a=0;i=p.regex.exec(t);){const w=i[1].trim();if(o=u(w),o===void 0)if(typeof c=="function"){const v=c(t,i,s);o=V(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),o="";else!V(o)&&!this.useRawValueToEscape&&(o=Nd(o));const k=p.safeValue(o);if(t=t.replace(i[0],k),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let g=`{${f[1]}`;l=f[0],g=this.interpolate(g,o);const h=g.match(/'/g),p=g.match(/"/g);(((h==null?void 0:h.length)??0)%2===0&&!p||p.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!V(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===t&&!V(i))return i;V(i)||(i=Nd(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),l.length&&(i=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const Ax=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},zd=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(Es(r),s),t[o]=a),a(n)}},Ox=e=>(t,n,r)=>e(Es(n),r)(t);class Ix{constructor(t={}){this.logger=gt.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?zd:Ox;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=zd(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var f;const{formatName:u,formatOptions:c}=Ax(l);if(this.formats[u]){let g=a;try{const h=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},p=h.locale||h.lng||s.locale||s.lng||r;g=this.formats[u](a,p,{...c,...s,...h})}catch(h){this.logger.warn(h)}return g}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const Fx=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Dx extends Ro{constructor(t,n,r,s={}){var i,o;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=gt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(t,n,r,s){const i={},o={},a={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const g=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,c=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const s=t.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{kx(l.loaded,[i],o),Fx(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,s=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,o)},i);return}o(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();V(t)&&(t=this.languageUtils.toResolveHierarchy(t)),V(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,s,i,o={},a=()=>{}){var l,u,c,f,g;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const h={...o,isUpdate:i},p=this.backend.create.bind(this.backend);if(p.length<6)try{let w;p.length===5?w=p(t,n,r,s,h):w=p(t,n,r,s),w&&typeof w.then=="function"?w.then(k=>a(null,k)).catch(a):a(null,w)}catch(w){a(w)}else p(t,n,r,s,a,h)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const Vd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),V(e[1])&&(t.defaultValue=e[1]),V(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Bd=e=>{var t,n;return V(e.ns)&&(e.ns=[e.ns]),V(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),V(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},ui=()=>{},Mx=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class js extends Ro{constructor(t={},n){if(super(),this.options=Bd(t),this.services={},this.logger=gt,this.modules={external:[]},Mx(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(V(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Vd();this.options={...r,...this.options,...Bd(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?gt.init(s(this.modules.logger),this.options):gt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Ix;const c=new Fd(this.options);this.store=new Ad(this.options.resources,this.options);const f=this.services;f.logger=gt,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new Lx(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new $x(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Dx(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Zi(this.services,this.options),this.translator.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ui),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const a=Ur(),l=()=>{const u=(c,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(c,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(t,n=ui){var i,o;let r=n;const s=V(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const s=Ur();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=ui),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&mp.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Ur();this.emit("languageChanging",t);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===t&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var c,f;!t&&!a&&this.services.languageDetector&&(a=[]);const l=V(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(V(a)?[a]:a);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,g=>{i(g,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(f=>`${l.keyPrefix}${u}${f}`):c=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(c,l)};return V(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,n){const r=Ur();return this.options.ns?(V(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ur();V(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){var s,i;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Fd(Vd());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new js(t,n)}cloneInstance(t={},n=ui){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new js(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),l[u]),l),{});i.store=new Ad(a,s),i.services.resourceStore=i.store}return i.translator=new Zi(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ce=js.createInstance();Ce.createInstance=js.createInstance;Ce.createInstance;Ce.dir;Ce.init;Ce.loadResources;Ce.reloadResources;Ce.use;Ce.changeLanguage;Ce.getFixedT;Ce.t;Ce.exists;Ce.setDefaultNamespace;Ce.hasLoadedNamespace;Ce.loadNamespaces;Ce.loadLanguages;const{slice:Ux,forEach:zx}=[];function Vx(e){return zx.call(Ux.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Bx(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const Hd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Hx=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let i=`${e}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Hd.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Hd.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},qd={create(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=Hx(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var qx={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return qd.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&typeof document<"u"&&qd.create(n,e,r,s,i)}},Gx={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===t&&(n=o[a].substring(l+1))}}return n}},Kx={name:"hash",lookup(e){var s;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(t){const a=o.split("&");for(let l=0;l<a.length;l++){const u=a[l].indexOf("=");u>0&&a[l].substring(0,u)===t&&(r=a[l].substring(u+1))}}if(r)return r;if(!r&&n>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(s=a[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}}}return r}};let Hn=null;const Gd=()=>{if(Hn!==null)return Hn;try{if(Hn=typeof window<"u"&&window.localStorage!==null,!Hn)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Hn=!1}return Hn};var Wx={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Gd())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Gd()&&window.localStorage.setItem(n,e)}};let qn=null;const Kd=()=>{if(qn!==null)return qn;try{if(qn=typeof window<"u"&&window.sessionStorage!==null,!qn)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{qn=!1}return qn};var Qx={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Kd())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Kd()&&window.sessionStorage.setItem(n,e)}},Jx={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),s&&t.push(s)}return t.length>0?t:void 0}},Yx={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Xx={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(s=n[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},Zx={name:"subdomain",lookup(e){var s,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let vp=!1;try{document.cookie,vp=!0}catch{}const yp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];vp||yp.splice(1,1);const ek=()=>({order:yp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class wp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Vx(n,this.options||{},ek()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(qx),this.addDetector(Gx),this.addDetector(Wx),this.addDetector(Qx),this.addDetector(Jx),this.addDetector(Yx),this.addDetector(Xx),this.addDetector(Zx),this.addDetector(Kx)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!Bx(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}wp.type="languageDetector";const tk={brand:"Sonsoles Stays",dashboard:"Dashboard",healthCheck:"Health Check",listings:"Listings",reservations:"Reservations",tasks:"Tasks",todos:"TODOs",myTasks:"My Tasks",adminBadge:"Admin",cleanerBadge:"Cleaner",signOut:"Sign Out"},nk={welcome:"Welcome to Sonsoles Stays",signInDescription:"Please sign in to access your stay management system.",signingIn:"Signing in...",signInWithGoogle:"Sign in with Google",authenticating:" Authenticating...",pleaseWait:"Please wait while we complete your sign-in.",authenticationError:" Authentication Error",returnToLogin:"Return to Login",unexpectedError:"An unexpected error occurred during authentication.",noAccessToken:"No access token available",authenticationFailed:"Authentication failed. Please sign in again."},rk={title:"Dashboard",welcome:"Welcome to your stay management system",comingSoon:"Dashboard Coming Soon",comingSoonDescription:"Your main dashboard will be available here."},sk={management:"Task Management",myTasks:"My Tasks",totalTasks:"Total Tasks: {{count}}",loading:"Loading...",loginRequired:"Please log in to view your tasks.",details:"Task Details",information:"Task Information",actions:"Actions",acceptTask:"Accept Task",startTask:"Start Task",completeTask:"Complete Task",acceptCompletion:"Accept Completion",acceptedByAdmin:"Accepted by Admin",noFurtherEdits:"No further edits allowed",loadingDetails:"Loading task details...",errorLoading:"Error Loading Task",goBack:"Go Back",notFound:"Task Not Found",notFoundDescription:"The requested task could not be found.",back:"Back",notSet:"Not set"},ik={searchPlaceholder:"Search all columns...",showingEntries:"Showing {{start}} to {{end}} of {{total}} entries",showingCount:"Showing {{count}} of {{total}} entries",noData:"No Data Found",noResults:"No results match your search criteria.",noDataAvailable:"No data available.",pageInfo:"Page {{current}} of {{total}}",showSize:"Show {{size}}",loadingData:"Loading data...",failedToLoad:"Failed to Load Data"},ok={id:"ID",title:"Title",task:"Task",type:"Type",status:"Status",description:"Description",listing:"Listing",reservation:"Reservation",scheduled:"Scheduled",assignedTo:"Assigned To",assignedAt:"Assigned At",acceptedAt:"Accepted At",completedAt:"Completed At",created:"Created",na:"N/A",view:"View",accept:"Accept",start:"Start",complete:"Complete",cancel:"Cancel",edit:"Edit",save:"Save"},ak={unassigned:"Unassigned",assigned:"Assigned",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",admin_accepted:"Admin Accepted"},lk={guest:"Guest",property:"Property",checkIn:"Check-in",checkOut:"Check-out",nights:"Nights",guests:"Guests",total:"Total",hostPayout:"Host Payout"},uk={checkingAccess:"Checking admin access...",authenticationRequired:"Authentication Required",signInToAccess:"Please sign in to access this page.",adminAccessRequired:"Admin Access Required",noAdminPrivileges:"You do not have admin privileges to access this page."},ck={unassigned:"Unassigned",loading:"Loading...",unknown:"Unknown"},dk={loading:"Loading..."},fk={history:"Audit History",entries:"entries",loading:"Loading audit history...",noHistory:"No audit history available for this task.",by:"by",noDescription:"No description available",fieldsChanged:"Fields changed",valuesChanged:"Values changed",context:"Context",system:"System",unknownUser:"Unknown User"},hk={title:"System Health Check",monitoring:"Monitoring system status and connectivity",failed:"Health Check Failed",loading:"Loading health status...",reloadPage:"Reload Page",healthy:"Healthy",error:"Error",connected:"Connected",configured:"Configured"},gk={allTodos:"All TODOs",totalTodos:"Total TODOs: {{count}}",loadingTodos:"Loading TODOs...",filterByStatus:"Filter by Status:",all:"All",pending:"Pending",done:"Done",createGeneral:"Create General TODO",createNew:"Create New TODO",adminAccessRequired:"Admin access required to view all TODOs.",attachedTo:"Attached To",unattached:"Unattached",delete:"Delete",deleteConfirm:"Are you sure you want to delete this TODO?",creating:"Creating...",addNote:"Add Note",adding:"Adding...",noListingAssignment:"No listing assignment",description:"Description",failedToLoad:"Failed to load listings",addTodo:"Add TODO",noTodosFound:"No TODOs found.",createdLabel:"Created: ",completedLabel:"Completed: ",attachedToLabel:"Attached to: ",productsNeeded:"Products needed:",markAsDone:"Mark as done",title:"Title *",titlePlaceholder:"e.g., Fix the AC, Buy cleaning supplies",assignToListing:"Assign to Listing (Optional)",loadingListings:"Loading listings...",products:"Products (Optional)",searchProductsPlaceholder:"Search for products to add...",selectedProducts:"Selected Products:",remove:"Remove",detailsPlaceholder:"Additional details or notes...",cancel:"Cancel"},pk={title:"Listings",details:"Listing Details",totalListings:"Total listings: {{count}}",loadingListings:"Loading listings...",loadingDetails:"Loading listing details...",address:"Address",basicInformation:"Basic Information",dates:"Dates",amenities:"Amenities",listingTodos:"Listing TODOs",listingChat:"Listing Chat",notFound:"Listing not found",notFoundWithId:'The listing with ID "{{id}}" was not found.',failedToLoad:"Failed to load listing",listingId:"Listing ID",airbnbId:"Airbnb ID",propertyType:"Property Type",roomType:"Room Type",bedrooms:"Bedrooms",bathrooms:"Bathrooms",maxGuests:"Max Guests",created:"Created",updated:"Updated"},mk={accessRequired:"Access Required"},vk={title:"Notes",unknownUser:"Unknown User",send:"Send",sending:"...",deleteNote:"Delete note",deleteConfirm:"Are you sure you want to delete this note?",loadingNotes:"Loading notes...",noNotesYet:"No notes yet. Start the conversation!",attachedToLabel:"Attached to: ",typePlaceholder:"Type a note... (Press Enter to send, Shift+Enter for new line)",noteLabel:"Note:",notePlaceholder:"Enter your note...",errorOccurred:"An error occurred"},yk={noAddress:"No address"},wk={collapseAudit:"Collapse audit history",expandAudit:"Expand audit history",titleLabel:"Title:",statusLabel:"Status:",scheduledLabel:"Scheduled Date:",listingIdLabel:"Listing ID:",assignedToLabel:"Assigned To:",startedAtLabel:"Started At:",finishedAtLabel:"Finished At:",productHelper:"Product Replenishment Helper",taskTab:"Task",listingTab:"Listing"},Sk={overallStatus:"Overall Status:",authenticatedUser:"Authenticated User:",database:"Database:",version:"Version: ",supabaseApi:"Supabase API:",environment:"Environment:",lastChecked:"Last checked: ",systemLabel:"System",null:"null"},_k={english:"English",spanish:"Espaol"},xk={navigation:tk,auth:nk,dashboard:rk,tasks:sk,dataTable:ik,columns:ok,statuses:ak,reservations:lk,admin:uk,assignment:ck,common:dk,audit:fk,healthCheck:hk,todos:gk,listings:pk,cleaner:mk,notes:vk,forms:yk,taskDetail:wk,system:Sk,language:_k},kk={brand:"Sonsoles Stays",dashboard:"Panel de Control",healthCheck:"Verificacin de Estado",listings:"Propiedades",reservations:"Reservas",tasks:"Tareas",todos:"Tareas Pendientes",myTasks:"Mis Tareas",adminBadge:"Administrador",cleanerBadge:"Limpiador",signOut:"Cerrar Sesin"},Ck={welcome:"Bienvenido a Sonsoles Stays",signInDescription:"Por favor, inicia sesin para acceder a tu sistema de gestin de estancias.",signingIn:"Iniciando sesin...",signInWithGoogle:"Iniciar sesin con Google",authenticating:" Autenticando...",pleaseWait:"Por favor, espera mientras completamos tu inicio de sesin.",authenticationError:" Error de Autenticacin",returnToLogin:"Volver al Inicio de Sesin",unexpectedError:"Ocurri un error inesperado durante la autenticacin.",noAccessToken:"No hay token de acceso disponible",authenticationFailed:"La autenticacin fall. Por favor, inicia sesin nuevamente."},Ek={title:"Panel de Control",welcome:"Bienvenido a tu sistema de gestin de estancias",comingSoon:"Panel de Control Prximamente",comingSoonDescription:"Tu panel de control principal estar disponible aqu."},jk={management:"Gestin de Tareas",myTasks:"Mis Tareas",totalTasks:"Total de Tareas: {{count}}",loading:"Cargando...",loginRequired:"Por favor, inicia sesin para ver tus tareas.",details:"Detalles de la Tarea",information:"Informacin de la Tarea",actions:"Acciones",acceptTask:"Aceptar Tarea",startTask:"Iniciar Tarea",completeTask:"Completar Tarea",acceptCompletion:"Aceptar Finalizacin",acceptedByAdmin:"Aceptado por Administrador",noFurtherEdits:"No se permiten ms ediciones",loadingDetails:"Cargando detalles de la tarea...",errorLoading:"Error al Cargar la Tarea",goBack:"Volver",notFound:"Tarea No Encontrada",notFoundDescription:"La tarea solicitada no pudo ser encontrada.",back:"Atrs",notSet:"No establecido"},Rk={searchPlaceholder:"Buscar en todas las columnas...",showingEntries:"Mostrando {{start}} a {{end}} de {{total}} entradas",showingCount:"Mostrando {{count}} de {{total}} entradas",noData:"No Se Encontraron Datos",noResults:"No hay resultados que coincidan con tus criterios de bsqueda.",noDataAvailable:"No hay datos disponibles.",pageInfo:"Pgina {{current}} de {{total}}",showSize:"Mostrar {{size}}",loadingData:"Cargando datos...",failedToLoad:"Error al Cargar Datos"},Pk={id:"ID",title:"Ttulo",task:"Tarea",type:"Tipo",status:"Estado",description:"Descripcin",listing:"Propiedad",reservation:"Reserva",scheduled:"Programado",assignedTo:"Asignado A",assignedAt:"Asignado En",acceptedAt:"Aceptado En",completedAt:"Completado En",created:"Creado",na:"N/A",view:"Ver",accept:"Aceptar",start:"Iniciar",complete:"Completar",cancel:"Cancelar",edit:"Editar",save:"Guardar"},Tk={unassigned:"Sin Asignar",assigned:"Asignada",accepted:"Aceptada",in_progress:"En Progreso",completed:"Completada",admin_accepted:"Aceptada por Administrador"},Nk={guest:"Husped",property:"Propiedad",checkIn:"Llegada",checkOut:"Salida",nights:"Noches",guests:"Huspedes",total:"Total",hostPayout:"Pago al Anfitrin"},bk={checkingAccess:"Verificando acceso de administrador...",authenticationRequired:"Autenticacin Requerida",signInToAccess:"Por favor, inicia sesin para acceder a esta pgina.",adminAccessRequired:"Acceso de Administrador Requerido",noAdminPrivileges:"No tienes privilegios de administrador para acceder a esta pgina."},Lk={unassigned:"Sin Asignar",loading:"Cargando...",unknown:"Desconocido"},$k={loading:"Cargando..."},Ak={history:"Historial de Auditora",entries:"entradas",loading:"Cargando historial de auditora...",noHistory:"No hay historial de auditora disponible para esta tarea.",by:"por",noDescription:"No hay descripcin disponible",fieldsChanged:"Campos modificados",valuesChanged:"Valores modificados",context:"Contexto",system:"Sistema",unknownUser:"Usuario Desconocido"},Ok={title:"Verificacin de Estado del Sistema",monitoring:"Monitoreando estado del sistema y conectividad",failed:"Verificacin de Estado Fall",loading:"Cargando estado de salud...",reloadPage:"Recargar Pgina",healthy:"Saludable",error:"Error",connected:"Conectado",configured:"Configurado"},Ik={allTodos:"Todas las Tareas",totalTodos:"Total de Tareas: {{count}}",loadingTodos:"Cargando tareas...",filterByStatus:"Filtrar por Estado:",all:"Todas",pending:"Pendientes",done:"Completadas",createGeneral:"Crear Tarea General",createNew:"Crear Nueva Tarea",adminAccessRequired:"Se requiere acceso de administrador para ver todas las tareas.",attachedTo:"Adjuntado A",unattached:"Sin Adjuntar",delete:"Eliminar",deleteConfirm:"Ests seguro de que quieres eliminar esta tarea?",creating:"Creando...",addNote:"Agregar Nota",adding:"Agregando...",noListingAssignment:"Sin asignacin de propiedad",description:"Descripcin",failedToLoad:"Error al cargar propiedades",addTodo:"Agregar Tarea",noTodosFound:"No se encontraron tareas.",createdLabel:"Creado: ",completedLabel:"Completado: ",attachedToLabel:"Adjuntado a: ",productsNeeded:"Productos necesarios:",markAsDone:"Marcar como completado",title:"Ttulo *",titlePlaceholder:"ej., Arreglar el aire acondicionado, Comprar suministros de limpieza",assignToListing:"Asignar a Propiedad (Opcional)",loadingListings:"Cargando propiedades...",products:"Productos (Opcional)",searchProductsPlaceholder:"Buscar productos para agregar...",selectedProducts:"Productos Seleccionados:",remove:"Quitar",detailsPlaceholder:"Detalles adicionales o notas...",cancel:"Cancelar"},Fk={title:"Propiedades",details:"Detalles de la Propiedad",totalListings:"Total de propiedades: {{count}}",loadingListings:"Cargando propiedades...",loadingDetails:"Cargando detalles de la propiedad...",address:"Direccin",basicInformation:"Informacin Bsica",dates:"Fechas",amenities:"Amenidades",listingTodos:"Tareas de la Propiedad",listingChat:"Chat de la Propiedad",notFound:"Propiedad no encontrada",notFoundWithId:'La propiedad con ID "{{id}}" no fue encontrada.',failedToLoad:"Error al cargar propiedad",listingId:"ID de Propiedad",airbnbId:"ID de Airbnb",propertyType:"Tipo de Propiedad",roomType:"Tipo de Habitacin",bedrooms:"Habitaciones",bathrooms:"Baos",maxGuests:"Mximo de Huspedes",created:"Creado",updated:"Actualizado"},Dk={accessRequired:"Acceso Requerido"},Mk={title:"Notas",unknownUser:"Usuario Desconocido",send:"Enviar",sending:"...",deleteNote:"Eliminar nota",deleteConfirm:"Ests seguro de que quieres eliminar esta nota?",loadingNotes:"Cargando notas...",noNotesYet:"An no hay notas. Comienza la conversacin!",attachedToLabel:"Adjuntado a: ",typePlaceholder:"Escribe una nota... (Presiona Enter para enviar, Shift+Enter para nueva lnea)",noteLabel:"Nota:",notePlaceholder:"Ingresa tu nota...",errorOccurred:"Ocurri un error"},Uk={noAddress:"Sin direccin"},zk={collapseAudit:"Contraer historial de auditora",expandAudit:"Expandir historial de auditora",titleLabel:"Ttulo:",statusLabel:"Estado:",scheduledLabel:"Fecha Programada:",listingIdLabel:"ID de Propiedad:",assignedToLabel:"Asignado A:",startedAtLabel:"Iniciado En:",finishedAtLabel:"Finalizado En:",productHelper:"Asistente de Reposicin de Productos",taskTab:"Tarea",listingTab:"Propiedad"},Vk={overallStatus:"Estado General:",authenticatedUser:"Usuario Autenticado:",database:"Base de Datos:",version:"Versin: ",supabaseApi:"API de Supabase:",environment:"Entorno:",lastChecked:"ltima verificacin: ",systemLabel:"Sistema",null:"nulo"},Bk={english:"English",spanish:"Espaol"},Hk={navigation:kk,auth:Ck,dashboard:Ek,tasks:jk,dataTable:Rk,columns:Pk,statuses:Tk,reservations:Nk,admin:bk,assignment:Lk,common:$k,audit:Ak,healthCheck:Ok,todos:Ik,listings:Fk,cleaner:Dk,notes:Mk,forms:Uk,taskDetail:zk,system:Vk,language:Bk},qk={en:{translation:xk},es:{translation:Hk}};Ce.use(wp).use(QS).init({resources:qk,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"preferred-language",caches:["localStorage"]},supportedLngs:["en","es"],lng:"en",ns:["translation"],defaultNS:"translation"});function Gk(){return d.jsx("div",{className:"app",children:d.jsx(e_,{children:d.jsx(FS,{children:d.jsx(lw,{children:d.jsxs(My,{children:[d.jsx(et,{path:"/auth/callback",element:d.jsx(wx,{})}),d.jsx(et,{path:"/",element:d.jsx(ca,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx(Sx,{})})]})})}),d.jsx(et,{path:"/healthcheck",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(vx,{})})})]})})}),d.jsx(et,{path:"/admin",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(ex,{})})})]})})}),d.jsx(et,{path:"/admin/tasks",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(ax,{})})})]})})}),d.jsx(et,{path:"/admin/todos",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(cx,{})})})]})})}),d.jsx(et,{path:"/listings",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(dx,{})})})]})})}),d.jsx(et,{path:"/cleaner/tasks",element:d.jsx(ca,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(fx,{})})})]})})}),d.jsx(et,{path:"/tasks/:id",element:d.jsx(ca,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(px,{})})})]})})}),d.jsx(et,{path:"/listing/:id",element:d.jsx(Vn,{children:d.jsxs("div",{className:"app-content",children:[d.jsx(_t,{}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"content-container",children:d.jsx(mx,{})})})]})})})]})})})})})}const Sp=document.getElementById("root");if(!Sp)throw new Error("Root element not found");_a.createRoot(Sp).render(d.jsx(Gk,{}));
